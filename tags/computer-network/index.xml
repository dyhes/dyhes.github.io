<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Computer Network on é£é¸¿è¸é›ªæ³¥</title><link>https://dyhes.github.io/tags/computer-network/</link><description>Recent content in Computer Network on é£é¸¿è¸é›ªæ³¥</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 20 Oct 2025 22:07:04 +0800</lastBuildDate><atom:link href="https://dyhes.github.io/tags/computer-network/index.xml" rel="self" type="application/rss+xml"/><item><title>ã€Computer Networkã€‘HTTPS</title><link>https://dyhes.github.io/p/computer-networkhttps/</link><pubDate>Tue, 24 Jun 2025 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/computer-networkhttps/</guid><description>&lt;h2 id="http"&gt;HTTP
&lt;/h2&gt;&lt;p&gt;ä»¥ä¸‹æ˜¯HTTPåè®®å„ç‰ˆæœ¬çš„è¯¦ç»†å¯¹æ¯”ï¼Œæ¶µç›–æ ¸å¿ƒç‰¹æ€§ã€æ€§èƒ½å·®å¼‚åŠé€‚ç”¨åœºæ™¯ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒç‰¹æ€§å¯¹æ¯”"&gt;âš™ï¸ &lt;strong&gt;æ ¸å¿ƒç‰¹æ€§å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="http10-1996"&gt;&lt;strong&gt;HTTP/1.0 (1996)&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥æ–¹å¼&lt;/strong&gt;ï¼šé»˜è®¤çŸ­è¿æ¥ï¼ˆæ¯ä¸ªè¯·æ±‚æ–°å»ºTCPè¿æ¥ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hostå¤´&lt;/strong&gt;ï¼šä¸æ”¯æŒï¼Œæ— æ³•åŒºåˆ†åŒIPçš„å¤šä¸ªè™šæ‹Ÿä¸»æœºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½å±€é™&lt;/strong&gt;ï¼šä»…æ”¯æŒGET/POSTæ–¹æ³•ï¼Œæ— æ–­ç‚¹ç»­ä¼ ï¼Œç¼“å­˜ä¾èµ–&lt;code&gt;Expires&lt;/code&gt;å’Œ&lt;code&gt;Last-Modified&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½ç“¶é¢ˆ&lt;/strong&gt;ï¼šé¢‘ç¹æ¡æ‰‹å¯¼è‡´é«˜å»¶è¿Ÿï¼Œèµ„æºåŠ è½½æ•ˆç‡ä½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="http11-1997"&gt;&lt;strong&gt;HTTP/1.1 (1997)&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŒä¹…è¿æ¥&lt;/strong&gt;ï¼šé»˜è®¤å¤ç”¨TCPè¿æ¥ï¼ˆå‡å°‘æ¡æ‰‹å¼€é”€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hostå¤´&lt;/strong&gt;ï¼šå¼ºåˆ¶è¦æ±‚ï¼Œæ”¯æŒè™šæ‹Ÿä¸»æœºæŠ€æœ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¢å¼ºåŠŸèƒ½&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ–°å¢PUT/DELETEç­‰æ–¹æ³•ï¼›&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ˆ&lt;code&gt;Range&lt;/code&gt;å¤´éƒ¨ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;å¼•å…¥&lt;code&gt;Cache-Control&lt;/code&gt;ã€&lt;code&gt;ETag&lt;/code&gt;ç­‰ç²¾ç»†ç¼“å­˜æ§åˆ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç®¡é“åŒ–&lt;/strong&gt;ï¼šå…è®¸è¿ç»­å‘é€è¯·æ±‚ï¼Œä½†å“åº”éœ€æŒ‰åºè¿”å›ï¼Œä»å­˜åœ¨é˜Ÿå¤´é˜»å¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="http2-2015"&gt;&lt;strong&gt;HTTP/2 (2015)&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;äºŒè¿›åˆ¶åˆ†å¸§&lt;/strong&gt;ï¼šæ•°æ®ä»¥äºŒè¿›åˆ¶å¸§ä¼ è¾“ï¼ˆéæ–‡æœ¬ï¼‰ï¼Œè§£æé«˜æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šè·¯å¤ç”¨&lt;/strong&gt;ï¼šå•è¿æ¥å¹¶è¡Œå¤„ç†å¤šä¸ªè¯·æ±‚/å“åº”ï¼Œè§£å†³åº”ç”¨å±‚é˜Ÿå¤´é˜»å¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤´éƒ¨å‹ç¼©&lt;/strong&gt;ï¼šHPACKç®—æ³•å‡å°‘å†—ä½™å¤´éƒ¨ï¼ˆå¦‚Cookieï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœåŠ¡å™¨æ¨é€&lt;/strong&gt;ï¼šä¸»åŠ¨æ¨é€å…³è”èµ„æºï¼ˆå¦‚CSS/JSï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµä¼˜å…ˆçº§&lt;/strong&gt;ï¼šæŒ‰æƒé‡åˆ†é…å¸¦å®½ä¼˜å…ˆçº§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å±€é™&lt;/strong&gt;ï¼šåº•å±‚ä»ä¾èµ–TCPï¼Œä¸¢åŒ…æ—¶æ‰€æœ‰æµè¢«é˜»å¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="http3-2022"&gt;&lt;strong&gt;HTTP/3 (2022)&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼ è¾“åè®®&lt;/strong&gt;ï¼šåŸºäºQUICï¼ˆUDPï¼‰ï¼Œå–ä»£TCPã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é›¶é˜Ÿå¤´é˜»å¡&lt;/strong&gt;ï¼šæµç‹¬ç«‹ä¼ è¾“ï¼Œä¸¢åŒ…ä»…å½±å“å½“å‰æµã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¿«é€Ÿæ¡æ‰‹&lt;/strong&gt;ï¼š0-RTTï¼ˆå¤ç”¨å¯†é’¥ï¼‰æˆ–1-RTTè¿æ¥ï¼ˆé¦–æ¬¡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥è¿ç§»&lt;/strong&gt;ï¼šç½‘ç»œåˆ‡æ¢ï¼ˆå¦‚WiFiâ†’4Gï¼‰æ— éœ€é‡è¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼ºåˆ¶åŠ å¯†&lt;/strong&gt;ï¼šå†…ç½®TLS 1.3ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤´éƒ¨å‹ç¼©&lt;/strong&gt;ï¼šQPACKç®—æ³•é€‚é…UDPæ— åºä¼ è¾“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€§èƒ½å…³é”®æŒ‡æ ‡"&gt;âš¡ &lt;strong&gt;æ€§èƒ½å…³é”®æŒ‡æ ‡&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æŒ‡æ ‡&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;HTTP/1.1&lt;/th&gt;
&lt;th&gt;HTTP/2.0&lt;/th&gt;
&lt;th&gt;HTTP/3.0&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é¡µé¢åŠ è½½æ—¶é—´&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;4.8s&lt;/td&gt;
&lt;td&gt;2.1s&lt;/td&gt;
&lt;td&gt;1.7s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¿æ¥å»¶è¿Ÿï¼ˆRTTï¼‰&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;3-4 RTT&lt;/td&gt;
&lt;td&gt;2-3 RTT&lt;/td&gt;
&lt;td&gt;0-1 RTT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä¸¢åŒ…å½±å“èŒƒå›´&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é«˜ï¼ˆæ•´ä¸ªè¿æ¥ï¼‰&lt;/td&gt;
&lt;td&gt;ä¸­ï¼ˆæ‰€æœ‰æµé˜»å¡ï¼‰&lt;/td&gt;
&lt;td&gt;ä½ï¼ˆä»…å½“å‰æµï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¼±ç½‘ååé‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä½&lt;/td&gt;
&lt;td&gt;ä¸­&lt;/td&gt;
&lt;td&gt;é«˜ï¼ˆæå‡3å€ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æµ‹è¯•ç¯å¢ƒï¼š1Mbpså¸¦å®½ + 100mså»¶è¿Ÿç½‘ç»œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å®‰å…¨ä¸éƒ¨ç½²"&gt;ğŸ”’ &lt;strong&gt;å®‰å…¨ä¸éƒ¨ç½²&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;åŠ å¯†è¦æ±‚ï¼š
&lt;ul&gt;
&lt;li&gt;HTTP/1.1ï¼šHTTPSå¯é€‰ï¼›&lt;/li&gt;
&lt;li&gt;HTTP/2/3ï¼šé»˜è®¤å¼ºåˆ¶TLSï¼ˆä¸»æµæµè§ˆå™¨ä»…æ”¯æŒHTTPSï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²ç°çŠ¶ï¼š
&lt;ul&gt;
&lt;li&gt;HTTP/2ï¼š&amp;gt;95%ç½‘ç«™æ”¯æŒï¼›&lt;/li&gt;
&lt;li&gt;HTTP/3ï¼šçº¦30%æ”¯æŒï¼ˆCloudflareã€Googleç­‰ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…¼å®¹æ€§ï¼š
&lt;ul&gt;
&lt;li&gt;HTTP/3éœ€æœåŠ¡å™¨ï¼ˆNginx 1.25+ï¼‰å’Œå®¢æˆ·ç«¯ï¼ˆChrome/Firefoxæ–°ç‰ˆï¼‰æ”¯æŒï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨å›é€€æœºåˆ¶ï¼ˆHTTP/3å¤±è´¥æ—¶é™çº§åˆ°HTTP/2ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-åè®®é€‰æ‹©å»ºè®®"&gt;ğŸš€ &lt;strong&gt;åè®®é€‰æ‹©å»ºè®®&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ¨èåè®®&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åŸå› &lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ä¼ ç»Ÿç³»ç»Ÿ/é«˜å…¼å®¹æ€§éœ€æ±‚&lt;/td&gt;
&lt;td&gt;HTTP/1.1&lt;/td&gt;
&lt;td&gt;å¹¿æ³›æ”¯æŒï¼Œæ— ä¸­é—´è®¾å¤‡å…¼å®¹é—®é¢˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ™®é€šç½‘ç«™/REST API&lt;/td&gt;
&lt;td&gt;HTTP/2&lt;/td&gt;
&lt;td&gt;å¤šè·¯å¤ç”¨+å¤´éƒ¨å‹ç¼©æ˜¾è‘—æå‡æ€§èƒ½ï¼Œéƒ¨ç½²ç®€å•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é«˜å®æ—¶äº¤äº’ï¼ˆè§†é¢‘/æ¸¸æˆï¼‰&lt;/td&gt;
&lt;td&gt;HTTP/3&lt;/td&gt;
&lt;td&gt;æ¶ˆé™¤é˜Ÿå¤´é˜»å¡ï¼Œé€‚åº”ç½‘ç»œæŠ–åŠ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç§»åŠ¨ç«¯/å¼±ç½‘ç¯å¢ƒ&lt;/td&gt;
&lt;td&gt;HTTP/3&lt;/td&gt;
&lt;td&gt;0-RTTè¿æ¥+æ— ç¼ç½‘ç»œåˆ‡æ¢&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;HTTPåè®®çš„æ¼”è¿›å§‹ç»ˆå›´ç»•&lt;strong&gt;æ€§èƒ½ã€å®‰å…¨ä¸çµæ´»æ€§&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTTP/1.1è§£å†³è¿æ¥æ•ˆç‡ï¼Œä½†é—ç•™é˜Ÿå¤´é˜»å¡ï¼›&lt;/li&gt;
&lt;li&gt;HTTP/2ä¼˜åŒ–ä¼ è¾“æ•ˆç‡ï¼Œå—é™äºTCPï¼›&lt;/li&gt;
&lt;li&gt;HTTP/3é€šè¿‡QUIC+UDPå½»åº•é‡æ„åº•å±‚ï¼Œé¢å‘æœªæ¥é«˜åŠ¨æ€ç½‘ç»œã€‚
å»ºè®®æ–°é¡¹ç›®ä¼˜å…ˆéƒ¨ç½²HTTP/2ï¼Œå¯¹å»¶è¿Ÿæ•æ„Ÿåœºæ™¯é€æ­¥è¿ç§»è‡³HTTP/3ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ä¼ªå¤´å­—æ®µ"&gt;ä¼ªå¤´å­—æ®µ
&lt;/h2&gt;&lt;p&gt;åœ¨HTTP/2å’ŒHTTP/3åè®®ä¸­ï¼Œ**ä¼ªå¤´å­—æ®µï¼ˆPseudo-header Fieldsï¼‰&lt;strong&gt;ä¸&lt;/strong&gt;æ™®é€šå¤´å­—æ®µï¼ˆRegular Header Fieldsï¼‰**çš„è®¾è®¡åŒºåˆ†æºäºåè®®æ¶æ„çš„æ ¹æœ¬æ€§å˜é©ã€‚è¿™ç§åŒºåˆ†ä¸ä»…æ˜¯è¯­æ³•å·®å¼‚ï¼Œæ›´æ·±åˆ»å½±å“äº†åè®®å¤„ç†æ•ˆç‡ã€å®‰å…¨æ€§åŠå…¼å®¹æ€§ã€‚ä»¥ä¸‹æ˜¯äºŒè€…çš„æ ¸å¿ƒåŒºåˆ«åŠè®¾è®¡é€»è¾‘åˆ†æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-è®¾è®¡ç›®çš„ä¸åŠŸèƒ½å·®å¼‚"&gt;ğŸ” &lt;strong&gt;è®¾è®¡ç›®çš„ä¸åŠŸèƒ½å·®å¼‚&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä¼ªå¤´å­—æ®µ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ™®é€šå¤´å­—æ®µ&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŠŸèƒ½å®šä½&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ›¿ä»£HTTP/1çš„èµ·å§‹è¡Œï¼ˆè¯·æ±‚è¡Œ/çŠ¶æ€è¡Œï¼‰&lt;/td&gt;
&lt;td&gt;ä¼ é€’è¯·æ±‚/å“åº”çš„é™„åŠ å…ƒæ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ‰¿è½½å†…å®¹&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åè®®æ ¸å¿ƒå…ƒæ•°æ®ï¼ˆæ–¹æ³•ã€è·¯å¾„ã€çŠ¶æ€ç ç­‰ï¼‰&lt;/td&gt;
&lt;td&gt;ä¸šåŠ¡ç›¸å…³å‚æ•°ï¼ˆå¦‚&lt;code&gt;User-Agent&lt;/code&gt;ã€&lt;code&gt;Cookie&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¿…è¦æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¼ºåˆ¶å­˜åœ¨ï¼ˆç¼ºå¤±åˆ™åè®®é”™è¯¯ï¼‰&lt;/td&gt;
&lt;td&gt;å¯é€‰ï¼ŒæŒ‰éœ€æ·»åŠ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¼ªå¤´å­—æ®µï¼ˆå¦‚&lt;code&gt;:method&lt;/code&gt;ã€&lt;code&gt;:path&lt;/code&gt;ã€&lt;code&gt;:status&lt;/code&gt;ï¼‰æœ¬è´¨æ˜¯&lt;strong&gt;åè®®æ§åˆ¶ä¿¡æ¯&lt;/strong&gt;çš„è½½ä½“ï¼Œå…¶ä½œç”¨ç­‰åŒäºHTTP/1ä¸­çš„&lt;code&gt;GET /index.html HTTP/1.1&lt;/code&gt;æˆ–&lt;code&gt;HTTP/1.1 200 OK&lt;/code&gt;ã€‚è€Œæ™®é€šå­—æ®µï¼ˆå¦‚&lt;code&gt;User-Agent&lt;/code&gt;ï¼‰ä¼ é€’çš„æ˜¯&lt;strong&gt;åº”ç”¨å±‚ä¸Šä¸‹æ–‡ä¿¡æ¯&lt;/strong&gt;ï¼Œä¸ç›´æ¥å½±å“åè®®åŸºç¡€é€»è¾‘ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-å¤„ç†è§„åˆ™çš„æ ¸å¿ƒåŒºåˆ«"&gt;âš™ï¸ &lt;strong&gt;å¤„ç†è§„åˆ™çš„æ ¸å¿ƒåŒºåˆ«&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="è¯­æ³•ä¸å‘½åè§„èŒƒ"&gt;&lt;strong&gt;è¯­æ³•ä¸å‘½åè§„èŒƒ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¼ªå¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;åç§°&lt;strong&gt;å¿…é¡»&lt;/strong&gt;ä»¥å†’å·å¼€å¤´ï¼ˆå¦‚&lt;code&gt;:method&lt;/code&gt;ï¼‰ï¼Œ&lt;strong&gt;å¼ºåˆ¶å°å†™&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç¦æ­¢è‡ªå®šä¹‰æ‰©å±•ï¼ˆä»…é™é¢„å®šä¹‰çš„&lt;code&gt;:method&lt;/code&gt;ã€&lt;code&gt;:path&lt;/code&gt;ã€&lt;code&gt;:scheme&lt;/code&gt;ã€&lt;code&gt;:authority&lt;/code&gt;ã€&lt;code&gt;:status&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ™®é€šå¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;åç§°&lt;strong&gt;ç¦æ­¢&lt;/strong&gt;ä»¥å†’å·å¼€å¤´ï¼Œ&lt;strong&gt;å¼ºåˆ¶å°å†™åŒ–å¤„ç†&lt;/strong&gt;ï¼ˆHTTP/2/3è¦æ±‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…è®¸è‡ªå®šä¹‰ï¼ˆå¦‚&lt;code&gt;X-Request-ID&lt;/code&gt;ï¼‰ï¼Œä½†éœ€é¿å…ä¸æ ‡å‡†å­—æ®µå†²çª&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ä¼ è¾“é¡ºåºä¸ä½ç½®"&gt;&lt;strong&gt;ä¼ è¾“é¡ºåºä¸ä½ç½®&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¼ªå¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¿…é¡»&lt;/strong&gt;å‡ºç°åœ¨æ‰€æœ‰æ™®é€šå¤´å­—æ®µä¹‹å‰&lt;/li&gt;
&lt;li&gt;é¡ºåºé€šå¸¸å›ºå®šï¼ˆ&lt;code&gt;:method&lt;/code&gt; â†’ &lt;code&gt;:scheme&lt;/code&gt; â†’ &lt;code&gt;:authority&lt;/code&gt; â†’ &lt;code&gt;:path&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ™®é€šå¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;é¡ºåºæ— å…³ç´§è¦ï¼Œå¯ä»»æ„æ’åˆ—&lt;/li&gt;
&lt;li&gt;å…è®¸é‡å¤å‡ºç°ï¼ˆå¦‚å¤šä¸ª&lt;code&gt;Set-Cookie&lt;/code&gt;ï¼‰
â€‹&lt;strong&gt;è¿åé¡ºåºè§„åˆ™&lt;/strong&gt;â€‹ï¼ˆå¦‚ä¼ªå¤´å­—æ®µå‡ºç°åœ¨æ™®é€šå­—æ®µåï¼‰ä¼šè§¦å‘&lt;strong&gt;åè®®é”™è¯¯ï¼ˆMalformed Request/Responseï¼‰â€‹&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å‹ç¼©æœºåˆ¶ä¼˜åŒ–"&gt;&lt;strong&gt;å‹ç¼©æœºåˆ¶ä¼˜åŒ–&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¼ªå¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;é€šè¿‡HPACKï¼ˆHTTP/2ï¼‰æˆ–QPACKï¼ˆHTTP/3ï¼‰&lt;strong&gt;é™æ€è¡¨&lt;/strong&gt;ä¼˜å…ˆç¼–ç &lt;/li&gt;
&lt;li&gt;é«˜é¢‘å­—æ®µï¼ˆå¦‚&lt;code&gt;:method: GET&lt;/code&gt;ï¼‰ç›´æ¥ç”¨1å­—èŠ‚ç´¢å¼•ä¼ è¾“ï¼Œæ•ˆç‡æé«˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ™®é€šå¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;éƒ¨åˆ†é«˜é¢‘å­—æ®µï¼ˆå¦‚&lt;code&gt;User-Agent&lt;/code&gt;ï¼‰å¯è¿›å…¥&lt;strong&gt;åŠ¨æ€è¡¨&lt;/strong&gt;å‹ç¼©&lt;/li&gt;
&lt;li&gt;ä½é¢‘æˆ–å”¯ä¸€å­—æ®µéœ€å®Œæ•´ä¼ è¾“ï¼ˆå“ˆå¤«æ›¼ç¼–ç ä¼˜åŒ–ï¼‰
ä¼ªå¤´å­—æ®µå› é«˜åº¦ç»“æ„åŒ–ä¸”å¿…ç°ï¼Œå‹ç¼©ç‡æ˜¾è‘—é«˜äºæ™®é€šå­—æ®µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="é”™è¯¯å¤„ç†ä¸å…¼å®¹æ€§"&gt;&lt;strong&gt;é”™è¯¯å¤„ç†ä¸å…¼å®¹æ€§&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¼ªå¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;ç¼ºå¤±å¼ºåˆ¶å­—æ®µï¼ˆå¦‚è¯·æ±‚ä¸­æ— &lt;code&gt;:path&lt;/code&gt;ï¼‰â†’ &lt;strong&gt;ç«‹å³ä¸­æ–­è¿æ¥&lt;/strong&gt;ï¼ˆHTTP/400é”™è¯¯ï¼‰&lt;/li&gt;
&lt;li&gt;éæ³•å€¼ï¼ˆå¦‚&lt;code&gt;:method: INVALID&lt;/code&gt;ï¼‰â†’ åè®®é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ™®é€šå¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;ç¼ºå¤±æˆ–é”™è¯¯é€šå¸¸ä¸å½±å“åè®®å±‚ï¼ˆå¦‚æ— &lt;code&gt;User-Agent&lt;/code&gt;ä»å¯å¤„ç†ï¼‰&lt;/li&gt;
&lt;li&gt;ç”±åº”ç”¨å±‚å†³å®šæ˜¯å¦æ‹’ç»ï¼ˆå¦‚è®¤è¯å¤±è´¥è¿”å›401ï¼‰
ä»£ç†è½¬æ¢æ—¶ï¼Œä¼ªå¤´å­—æ®µéœ€æ˜ å°„åˆ°HTTP/1çš„èµ·å§‹è¡Œï¼ˆå¦‚&lt;code&gt;:path&lt;/code&gt; â†’ &lt;code&gt;/index.html&lt;/code&gt;ï¼‰ï¼Œè€Œæ™®é€šå­—æ®µç›´æ¥é€ä¼ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-è®¾è®¡èƒŒåçš„æ ¸å¿ƒé€»è¾‘"&gt;ğŸš€ &lt;strong&gt;è®¾è®¡èƒŒåçš„æ ¸å¿ƒé€»è¾‘&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="æ€§èƒ½é©±åŠ¨è§£è€¦æ§åˆ¶ä¸æ•°æ®"&gt;&lt;strong&gt;æ€§èƒ½é©±åŠ¨ï¼šè§£è€¦æ§åˆ¶ä¸æ•°æ®&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;å°†åè®®å…ƒæ•°æ®ï¼ˆä¼ªå¤´ï¼‰ä¸ä¸šåŠ¡å…ƒæ•°æ®ï¼ˆæ™®é€šå¤´ï¼‰åˆ†ç¦»ï¼Œä½¿åè®®å±‚å¯&lt;strong&gt;ç‹¬ç«‹ä¼˜åŒ–æ§åˆ¶æµ&lt;/strong&gt;ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äºŒè¿›åˆ¶ç¼–ç ä¼ªå¤´å­—æ®µï¼Œæ›¿ä»£HTTP/1çš„æ–‡æœ¬èµ·å§‹è¡Œï¼Œå‡å°‘è§£æå¼€é”€ï¼›&lt;/li&gt;
&lt;li&gt;å¤šè·¯å¤ç”¨ï¼ˆMultiplexingï¼‰ä¾èµ–ä¼ªå¤´å­—æ®µå¿«é€Ÿè¯†åˆ«æµï¼ˆStreamï¼‰çš„å…ƒä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å®‰å…¨æ€§é˜²æ­¢åè®®æ··æ·†"&gt;&lt;strong&gt;å®‰å…¨æ€§ï¼šé˜²æ­¢åè®®æ··æ·†&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¼ªå¤´å­—æ®µçš„å‘½åè§„åˆ™ï¼ˆå†’å·å‰ç¼€ï¼‰é¿å…ä¸æ™®é€šå­—æ®µå†²çªï¼ˆå¦‚è‡ªå®šä¹‰&lt;code&gt;:method&lt;/code&gt;å­—æ®µå¯èƒ½ç ´ååè®®ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;ä¸¥æ ¼çš„ä½ç½®å’Œé¡ºåºçº¦æŸï¼Œç¡®ä¿å…ƒæ•°æ®ä¼˜å…ˆå¤„ç†ï¼Œé™ä½ä¸­é—´ä»¶è§£ææ­§ä¹‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å…¼å®¹æ€§æ¼”è¿›"&gt;&lt;strong&gt;å…¼å®¹æ€§æ¼”è¿›&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;:authority
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ›¿ä»£&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Host
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å­—æ®µï¼Œä½†ä¸ºå…¼å®¹HTTP/1ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥è¯·æ±‚ä¸­åŒæ—¶å­˜åœ¨ï¼ŒäºŒè€…å€¼&lt;strong&gt;å¿…é¡»ä¸€è‡´&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;è½¬æ¢åˆ°HTTP/1æ—¶ï¼Œä»£ç†è‡ªåŠ¨å¤åˆ¶&lt;code&gt;:authority&lt;/code&gt;ä¸º&lt;code&gt;Host&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å…¸å‹åœºæ™¯å¯¹æ¯”"&gt;ğŸ’ &lt;strong&gt;å…¸å‹åœºæ™¯å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="http2è¯·æ±‚ç¤ºä¾‹"&gt;&lt;strong&gt;HTTP/2è¯·æ±‚ç¤ºä¾‹&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;:method GET â† ä¼ªå¤´å­—æ®µï¼ˆå¼ºåˆ¶å‰ç½®ï¼‰
:scheme https
:authority example.com
:path /api/data
user-agent Chrome â† æ™®é€šå¤´å­—æ®µ
cookie session=123
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;ä¼ªå¤´å­—æ®µç¼ºå¤± â†’ è¿æ¥ç»ˆæ­¢ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;user-agent&lt;/code&gt;ç¼ºå¤± â†’ æœåŠ¡ç«¯ä»å¯å¤„ç†ï¼Œä½†å¯èƒ½é™åˆ¶åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="åè®®è¿è§„æ¡ˆä¾‹"&gt;&lt;strong&gt;åè®®è¿è§„æ¡ˆä¾‹&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;user-agent Chrome â† é”™è¯¯ï¼šæ™®é€šå­—æ®µåœ¨ä¼ªå¤´ä¹‹å‰
:method GET
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;â†’ è§¦å‘ &lt;strong&gt;HTTP/400 Malformed Request&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-è¯¯åŒºæ¾„æ¸…"&gt;âš ï¸ &lt;strong&gt;è¯¯åŒºæ¾„æ¸…&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;âŒ &lt;strong&gt;â€œå…è®¸è‡ªå®šä¹‰ä¼ªå¤´å­—æ®µâ€&lt;/strong&gt;ï¼š
éƒ¨åˆ†èµ„æ–™ï¼ˆå¦‚ç½‘é¡µ6ï¼‰ç§°HTTP/2æ”¯æŒè‡ªå®šä¹‰ä¼ªå¤´ï¼Œä½†RFC 7540Â§8.1.2æ˜ç¡®è§„å®šï¼šâ€‹&lt;strong&gt;ä¼ªå¤´å­—æ®µåç§°ä¸å¯æ‰©å±•&lt;/strong&gt;ã€‚è‡ªå®šä¹‰å­—æ®µéœ€ä½¿ç”¨æ™®é€šå¤´ï¼ˆå¦‚&lt;code&gt;X-Custom-Header&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;âŒ &lt;strong&gt;ä¼ªå¤´å­—æ®µå¯é‡å¤å‡ºç°&lt;/strong&gt;ï¼š
ä¼ªå¤´å­—æ®µåœ¨å•æ¬¡è¯·æ±‚/å“åº”ä¸­&lt;strong&gt;ç¦æ­¢é‡å¤&lt;/strong&gt;â€‹ï¼ˆå¦‚ä¸¤ä¸ª&lt;code&gt;:path&lt;/code&gt;ï¼‰ï¼Œè€Œæ™®é€šå­—æ®µå¯é‡å¤ï¼ˆå¦‚å¤šä¸ª&lt;code&gt;Accept-Language&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-1"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;ä¼ªå¤´å­—æ®µä¸æ™®é€šå¤´å­—æ®µçš„åˆ†é‡ï¼Œæœ¬è´¨æ˜¯HTTP/2/3ä¸º&lt;strong&gt;æå‡æ€§èƒ½ã€å¼ºåŒ–åè®®å®‰å…¨æ€§&lt;/strong&gt;åšçš„åº•å±‚é‡æ„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¼ªå¤´å­—æ®µ&lt;/strong&gt;ä½œä¸ºåè®®â€œéª¨æ¶â€ï¼Œæ‰¿è½½å¼ºåˆ¶å…ƒæ•°æ®ï¼Œé€šè¿‡&lt;strong&gt;äºŒè¿›åˆ¶ç¼–ç ã€é™æ€è¡¨å‹ç¼©ã€ä¸¥æ ¼æ ¡éªŒ&lt;/strong&gt;å®ç°é«˜æ•ˆå¯é ä¼ è¾“ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ™®é€šå¤´å­—æ®µ&lt;/strong&gt;ä½œä¸ºâ€œè¡€è‚‰â€ï¼Œä¼ é€’ä¸šåŠ¡å‚æ•°ï¼Œä¿ç•™çµæ´»æ€§ä½†å—&lt;strong&gt;å°å†™åŒ–ã€å‹ç¼©ä¼˜åŒ–&lt;/strong&gt;ç­‰è§„åˆ™çº¦æŸã€‚
è¿™ä¸€è®¾è®¡ä½¿HTTP/2/3åœ¨å…¼å®¹HTTP/1è¯­ä¹‰çš„åŒæ—¶ï¼Œå½»åº•è§£å†³äº†é˜Ÿå¤´é˜»å¡ã€å¤´éƒ¨å†—ä½™ç­‰ç“¶é¢ˆï¼Œä¸ºç°ä»£Webçš„é«˜æ€§èƒ½é€šä¿¡å¥ åŸºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="range--accept-ranges"&gt;Range &amp;amp; Accept-Ranges
&lt;/h2&gt;&lt;p&gt;HTTP èŒƒå›´è¯·æ±‚ï¼ˆRange Requestsï¼‰æ˜¯ä¸€ç§å…³é”®çš„ç½‘ç»œä¼˜åŒ–æŠ€æœ¯ï¼Œå…è®¸å®¢æˆ·ç«¯è¯·æ±‚èµ„æºçš„ç‰¹å®šéƒ¨åˆ†è€Œéæ•´ä¸ªå†…å®¹ï¼Œç”± &lt;code&gt;Range&lt;/code&gt; è¯·æ±‚å¤´å’Œ &lt;code&gt;Accept-Ranges&lt;/code&gt; å“åº”å¤´å…±åŒå®ç°ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒæœºåˆ¶å’Œåº”ç”¨è¯¦è§£ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒæ¦‚å¿µä¸å¤´éƒ¨å­—æ®µ"&gt;ğŸ” &lt;strong&gt;æ ¸å¿ƒæ¦‚å¿µä¸å¤´éƒ¨å­—æ®µ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;Range&lt;/code&gt; è¯·æ±‚å¤´ï¼ˆå®¢æˆ·ç«¯ä½¿ç”¨ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½œç”¨ï¼šæŒ‡å®šè¯·æ±‚èµ„æºçš„å­—èŠ‚èŒƒå›´ï¼Œæ ¼å¼ä¸º&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;bytes=start-endã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;bytes=0-499&lt;/code&gt;ï¼šè¯·æ±‚å‰500å­—èŠ‚ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bytes=500-&lt;/code&gt;ï¼šä»ç¬¬500å­—èŠ‚åˆ°æ–‡ä»¶æœ«å°¾ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bytes=-500&lt;/code&gt;ï¼šè¯·æ±‚æœ€å500å­—èŠ‚ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bytes=0-99,200-299&lt;/code&gt;ï¼šè¯·æ±‚å¤šä¸ªä¸è¿ç»­èŒƒå›´ï¼ˆå¤šéƒ¨åˆ†è¯·æ±‚ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¦æ±‚&lt;/strong&gt;ï¼šæœåŠ¡å™¨éœ€æ”¯æŒèŒƒå›´è¯·æ±‚ï¼Œå¦åˆ™è¿”å›å®Œæ•´èµ„æºï¼ˆçŠ¶æ€ç 200ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;Accept-Ranges&lt;/code&gt; å“åº”å¤´ï¼ˆæœåŠ¡å™¨å£°æ˜ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½œç”¨ï¼šè¡¨æ˜æœåŠ¡å™¨æ˜¯å¦æ”¯æŒèŒƒå›´è¯·æ±‚ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Accept-Ranges: bytes&lt;/code&gt;ï¼šæ”¯æŒå­—èŠ‚èŒƒå›´è¯·æ±‚ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Accept-Ranges: none&lt;/code&gt;ï¼šä¸æ”¯æŒèŒƒå›´è¯·æ±‚ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœªåŒ…å«æ­¤å¤´&lt;/strong&gt;ï¼šé»˜è®¤è§†ä¸ºä¸æ”¯æŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å·¥ä½œåŸç†ä¸æµç¨‹"&gt;âš™ï¸ &lt;strong&gt;å·¥ä½œåŸç†ä¸æµç¨‹&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="è¯·æ±‚-å“åº”äº¤äº’"&gt;&lt;strong&gt;è¯·æ±‚-å“åº”äº¤äº’&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®¢æˆ·ç«¯è¯·æ±‚ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;GET /video.mp4 HTTP/1.1
Host: example.com
Range: bytes=0-999 # è¯·æ±‚å‰1000å­—èŠ‚
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœåŠ¡å™¨å“åº”ï¼ˆæ”¯æŒæ—¶ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;HTTP/1.1 206 Partial Content
Content-Range: bytes 0-999/5000 # è¿”å›èŒƒå›´åŠèµ„æºæ€»å¤§å°
Content-Length: 1000 # å®é™…è¿”å›çš„å­—èŠ‚æ•°
Accept-Ranges: bytes # å£°æ˜æ”¯æŒèŒƒå›´è¯·æ±‚
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;çŠ¶æ€ç ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;206 Partial Content&lt;/code&gt;ï¼šèŒƒå›´è¯·æ±‚æˆåŠŸï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;416 Range Not Satisfiable&lt;/code&gt;ï¼šè¯·æ±‚èŒƒå›´è¶…å‡ºèµ„æºå¤§å°ï¼ˆå¦‚è¯·æ±‚ &lt;code&gt;bytes=6000-&lt;/code&gt;ï¼Œä½†èµ„æºä»…5000å­—èŠ‚ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;200 OK&lt;/code&gt;ï¼šæœåŠ¡å™¨ä¸æ”¯æŒèŒƒå›´è¯·æ±‚ï¼Œè¿”å›å®Œæ•´èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="å¤šéƒ¨åˆ†èŒƒå›´è¯·æ±‚"&gt;&lt;strong&gt;å¤šéƒ¨åˆ†èŒƒå›´è¯·æ±‚&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¯·æ±‚ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Range: bytes=0-99,200-299&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
- å“åº”æ ¼å¼ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;HTTP/1.1 206 Partial Content
Content-Type: multipart/byteranges; boundary=BOUNDARY
&amp;ndash;BOUNDARY
Content-Range: bytes 0-99/5000
[æ•°æ®å—1]
&amp;ndash;BOUNDARY
Content-Range: bytes 200-299/5000
[æ•°æ®å—2]
&amp;ndash;BOUNDARY&amp;ndash;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
æ¯éƒ¨åˆ†ç‹¬ç«‹åŒ…å« Content-Rangeï¼Œä»¥ boundaryåˆ†éš”ã€‚
------
### ğŸš€ **æ ¸å¿ƒåº”ç”¨åœºæ™¯**
1. è§†é¢‘/éŸ³é¢‘æµåª’ä½“
- æ’­æ”¾å™¨æ ¹æ®ç”¨æˆ·è·³è½¬ä½ç½®åŠ¨æ€è¯·æ±‚æ•°æ®å—ï¼ˆå¦‚ `bytes=5000-15000`ï¼‰ï¼Œå®ç°ç§’åŠ è½½ã€‚
2. å¤§æ–‡ä»¶æ–­ç‚¹ç»­ä¼ 
- ä¸‹è½½ä¸­æ–­åï¼Œå®¢æˆ·ç«¯è®°å½•å·²ä¸‹è½½ä½ç½®ï¼ˆå¦‚å·²ä¸‹500KBï¼‰ï¼Œç»­ä¼ æ—¶è¯·æ±‚ `bytes=500000-`ã€‚
3. å¤šçº¿ç¨‹ä¸‹è½½åŠ é€Ÿ
- å°†æ–‡ä»¶åˆ†å—ï¼ˆå¦‚4å—ï¼‰ï¼Œå¹¶å‘è¯·æ±‚å¤šä¸ªèŒƒå›´ï¼ˆ`bytes=0-999999`ã€`bytes=1000000-1999999`ç­‰ï¼‰ï¼Œæœ¬åœ°åˆå¹¶ã€‚
4. æŒ‰éœ€åŠ è½½èµ„æº
- ä»…åŠ è½½æ–‡ä»¶å…³é”®éƒ¨åˆ†ï¼ˆå¦‚å¤§å‹CSVæ–‡ä»¶çš„å‰100è¡Œï¼‰ï¼Œå‡å°‘å¸¦å®½æ¶ˆè€—ã€‚
------
### âš ï¸ **æœåŠ¡å™¨é…ç½®ä¸æ³¨æ„äº‹é¡¹**
#### **é…ç½®æ”¯æŒï¼ˆä»¥Nginx/Apacheä¸ºä¾‹ï¼‰**
| **æœåŠ¡å™¨** | **é…ç½®æŒ‡ä»¤** | **ä½œç”¨** |
| ---------- | ---------------------------------- | ---------------------------- |
| Nginx | `accept_ranges bytes;` | å¯ç”¨å­—èŠ‚èŒƒå›´è¯·æ±‚ï¼ˆé»˜è®¤å¼€å¯ï¼‰ |
| Apache | `Header set Accept-Ranges &amp;#34;bytes&amp;#34;` | æ˜¾å¼å£°æ˜æ”¯æŒèŒƒå›´è¯·æ±‚ |
#### **å¸¸è§é—®é¢˜å¤„ç†**
- **é—®é¢˜1**ï¼šæœåŠ¡å™¨è¿”å› `Accept-Ranges: none`
â€‹**åŸå› **â€‹ï¼šæœåŠ¡å™¨æœªå¯ç”¨èŒƒå›´è¯·æ±‚æˆ–èµ„æºä¸æ”¯æŒï¼ˆå¦‚åŠ¨æ€ç”Ÿæˆå†…å®¹ï¼‰ã€‚
â€‹**è§£å†³**â€‹ï¼šæ£€æŸ¥æœåŠ¡å™¨é…ç½®ï¼ˆå¦‚Nginxéœ€ç¡®ä¿æœªç¦ç”¨ `allow_ranges`ï¼‰ã€‚
- **é—®é¢˜2**ï¼šå®¢æˆ·ç«¯æ”¶åˆ° `416` é”™è¯¯
â€‹**åŸå› **â€‹ï¼šè¯·æ±‚èŒƒå›´è¶…å‡ºèµ„æºå®é™…å¤§å°ï¼ˆå¦‚æ–‡ä»¶æ›´æ–°ä½†å®¢æˆ·ç«¯æœªåŒæ­¥ï¼‰ã€‚
â€‹**è§£å†³**â€‹ï¼šå®¢æˆ·ç«¯å…ˆé€šè¿‡ `HEAD` è¯·æ±‚è·å–æœ€æ–° `Content-Length`ã€‚
### ğŸ’ **æŠ€æœ¯ä¼˜åŠ¿ä¸æ¼”è¿›**
- **æ€§èƒ½æå‡**ï¼šå‡å°‘å¸¦å®½æµªè´¹ï¼Œé¿å…é‡å¤ä¼ è¾“å®Œæ•´èµ„æºï¼›
- **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šè§†é¢‘æ‹–æ’­æ— å¡é¡¿ã€ä¸‹è½½ä¸­æ–­å¯æ¢å¤ï¼›
- **åè®®å…¼å®¹æ€§**ï¼šHTTP/1.1 åŸç”Ÿæ”¯æŒï¼Œä¸ HTTP/2ã€HTTP/3 å®Œå…¨å…¼å®¹ã€‚
------
### **æ€»ç»“**
`Range` å’Œ `Accept-Ranges` æ˜¯ HTTP åè®®ä¸­**é«˜æ•ˆä¼ è¾“å¤§èµ„æºçš„æ ¸å¿ƒæœºåˆ¶**ï¼š
- âœ… `Range` å…è®¸å®¢æˆ·ç«¯â€œç²¾å‡†ç´¢å–â€èµ„æºç‰‡æ®µï¼Œé¿å…å†—ä½™ä¼ è¾“ï¼›
- âœ… `Accept-Ranges` æ˜¯æœåŠ¡å™¨çš„èƒ½åŠ›å£°æ˜ï¼Œå†³å®šæ˜¯å¦æ”¯æŒåˆ†å—å“åº”ï¼›
- âš ï¸ éœ€ç¡®ä¿æœåŠ¡å™¨é…ç½®æ­£ç¡®ï¼Œå¹¶å¤„ç†èŒƒå›´è¶Šç•Œï¼ˆ`416`ï¼‰åŠèµ„æºå˜æ›´ï¼ˆé€šè¿‡ `ETag`/`Last-Modified` éªŒè¯ï¼‰ã€‚
â€‹**å…¸å‹åœºæ™¯ä¼˜å…ˆçº§**â€‹ï¼šè§†é¢‘æµ &amp;gt; æ–­ç‚¹ç»­ä¼  &amp;gt; å¤šçº¿ç¨‹ä¸‹è½½ &amp;gt; æŒ‰éœ€åŠ è½½ï¼Œå¼€å‘è€…åº”æ ¹æ®éœ€æ±‚é€‰æ‹©å®ç°æ–¹å¼ã€‚
## 401
HTTP 401 Unauthorized çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºéœ€è¦èº«ä»½éªŒè¯ã€‚æ­¤æ—¶æœåŠ¡å™¨ä¼šé€šè¿‡ `WWW-Authenticate` å“åº”å¤´æŒ‡å®šè®¤è¯æ–¹æ¡ˆï¼ˆAuthentication Schemeï¼‰ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯å¦‚ä½•æä¾›æœ‰æ•ˆçš„å‡­æ®ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒä½œç”¨ã€ç»“æ„å’Œå¸¸è§ç±»å‹çš„è¯¦ç»†è¯´æ˜ï¼š
------
### ğŸ”‘ `WWW-Authenticate` çš„æ ¸å¿ƒä½œç”¨
1. **å®šä¹‰è®¤è¯æ–¹æ¡ˆ**
æŒ‡å®šå®¢æˆ·ç«¯éœ€ä½¿ç”¨çš„è®¤è¯ç±»å‹ï¼ˆå¦‚ `Basic`ã€`Digest`ã€`Bearer`ï¼‰ï¼Œä¸åŒæ–¹æ¡ˆå¯¹åº”ä¸åŒçš„å‡­æ®ä¼ é€’æ–¹å¼ã€‚
2. **å£°æ˜å®‰å…¨åŸŸï¼ˆRealmï¼‰**
é€šè¿‡ `realm` å‚æ•°æè¿°å—ä¿æŠ¤èµ„æºçš„é€»è¾‘èŒƒå›´ï¼ˆä¾‹å¦‚ `realm=&amp;#34;Admin Area&amp;#34;`ï¼‰ï¼Œå¸®åŠ©ç”¨æˆ·æˆ–å®¢æˆ·ç«¯ç†è§£éœ€æä¾›å“ªäº›å‡­æ®ã€‚
3. **æä¾›è®¤è¯å‚æ•°**
å¯¹äºå¤æ‚è®¤è¯ï¼ˆå¦‚ `Digest`ï¼‰ï¼Œé¢å¤–æä¾›åŠ å¯†æ‰€éœ€çš„åŠ¨æ€å‚æ•°ï¼ˆå¦‚ `nonce`ã€`qop`ï¼‰ã€‚
------
### ğŸ§© `WWW-Authenticate` çš„è¯­æ³•ç»“æ„
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;WWW-Authenticate: &amp;lt;è®¤è¯æ–¹æ¡ˆ&amp;gt; &amp;lt;å‚æ•°1&amp;gt;=&amp;lt;å€¼1&amp;gt;, &amp;lt;å‚æ•°2&amp;gt;=&amp;lt;å€¼2&amp;gt;, &amp;hellip;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
- **è®¤è¯æ–¹æ¡ˆ**ï¼šå¿…å¡«ï¼Œå¦‚ `Basic`ã€`Digest`ã€`Bearer`ã€‚
- **å‚æ•°**ï¼š
- `realm`ï¼šå¿…å¡«ï¼Œæè¿°å—ä¿æŠ¤åŒºåŸŸï¼ˆå¦‚ `realm=&amp;#34;API Server&amp;#34;`ï¼‰ã€‚
- å…¶ä»–å‚æ•°ï¼šæ ¹æ®æ–¹æ¡ˆåŠ¨æ€æä¾›ï¼ˆå¦‚ `Digest` çš„ `nonce`ã€`opaque`ï¼‰ã€‚
------
### ğŸ” å¸¸è§è®¤è¯æ–¹æ¡ˆåŠ `WWW-Authenticate` ç¤ºä¾‹
#### **Basic è®¤è¯**
- **æœºåˆ¶**ï¼šå®¢æˆ·ç«¯ç”¨ Base64 ç¼–ç  `ç”¨æˆ·å:å¯†ç `ï¼Œé€šè¿‡ `Authorization: Basic &amp;lt;å‡­æ®&amp;gt;` å‘é€ã€‚
- æœåŠ¡å™¨å“åº”å¤´ç¤ºä¾‹ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;HTTP/1.1 401 Unauthorized
WWW-Authenticate: Basic realm=&amp;ldquo;Secure API&amp;rdquo;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
- **é£é™©**ï¼šBase64 å¯è§£ç ï¼Œéœ€é…åˆ HTTPS ä½¿ç”¨ã€‚
#### **Digest è®¤è¯**
- **æœºåˆ¶**ï¼šå®¢æˆ·ç«¯ç”¨ MD5/SHA å“ˆå¸Œè®¡ç®—å¯†ç å’Œéšæœºæ•°ï¼ˆ`nonce`ï¼‰ï¼Œé¿å…æ˜æ–‡ä¼ è¾“ã€‚
- æœåŠ¡å™¨å“åº”å¤´ç¤ºä¾‹ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;HTTP/1.1 401 Unauthorized
WWW-Authenticate: Digest realm=&amp;ldquo;Admin Site&amp;rdquo;, qop=&amp;ldquo;auth&amp;rdquo;, nonce=&amp;ldquo;dcd98b7102dd&amp;rdquo;, algorithm=MD5&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
- å…³é”®å‚æ•°ï¼š
- `nonce`ï¼šæœåŠ¡å™¨ç”Ÿæˆçš„éšæœºæ•°ï¼Œç”¨äºé˜²é‡æ”¾æ”»å‡»ã€‚
- `qop`ï¼šä¿æŠ¤è´¨é‡ï¼ˆ`auth` ä»…è®¤è¯ï¼›`auth-int` å«å®Œæ•´æ€§ä¿æŠ¤ï¼‰ã€‚
- `stale`ï¼šè‹¥ä¸º `true`ï¼Œè¡¨ç¤ºä¹‹å‰çš„ `nonce` å·²è¿‡æœŸï¼Œéœ€é‡æ–°è®¤è¯ã€‚
#### **Bearer è®¤è¯**
- **æœºåˆ¶**ï¼šå®¢æˆ·ç«¯é€šè¿‡ OAuth 2.0 ä»¤ç‰ŒéªŒè¯ï¼ˆå¦‚ JWTï¼‰ï¼Œå‘é€ `Authorization: Bearer &amp;lt;token&amp;gt;`ã€‚
- æœåŠ¡å™¨å“åº”å¤´ç¤ºä¾‹ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;HTTP/1.1 401 Unauthorized
WWW-Authenticate: Bearer realm=&amp;ldquo;OAuth2 API&amp;rdquo;, error=&amp;ldquo;invalid_token&amp;rdquo;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
- æ‰©å±•å‚æ•°ï¼š
- `error`ï¼šé”™è¯¯ç±»å‹ï¼ˆå¦‚ `invalid_token`ã€`insufficient_scope`ï¼‰ã€‚
- `scope`ï¼šèµ„æºæ‰€éœ€æƒé™ï¼ˆå¦‚ `scope=&amp;#34;read write&amp;#34;`ï¼‰ã€‚
------
### âš ï¸ æ³¨æ„äº‹é¡¹
1. **æµè§ˆå™¨è¡Œä¸º**
æµè§ˆå™¨æ”¶åˆ° `WWW-Authenticate` åä¼šè‡ªåŠ¨å¼¹å‡ºç™»å½•æ¡†ï¼ˆå¦‚ Chrome å¯¹ `Basic` è®¤è¯çš„å¤„ç†ï¼‰ã€‚
2. **ä»£ç†è®¤è¯**
ä»£ç†æœåŠ¡å™¨éœ€éªŒè¯æ—¶ï¼Œæ”¹ç”¨ `Proxy-Authenticate` å’Œ `407 Proxy Authentication Required`ã€‚
3. å®‰å…¨å»ºè®®ï¼š
- é¿å…ä½¿ç”¨ `Basic`ï¼ˆæ˜æ–‡é£é™©ï¼‰ï¼Œä¼˜å…ˆé€‰ `Digest` æˆ– `Bearer`ã€‚
- å¯¹æ•æ„Ÿæ“ä½œå¯ç”¨ HTTPS åŠ å¯†ã€‚
- `Digest` çš„ `nonce` éœ€è®¾ç½®çŸ­æœ‰æ•ˆæœŸï¼Œé˜²æ­¢é‡æ”¾æ”»å‡»ã€‚
------
### ğŸ’ æ€»ç»“
`WWW-Authenticate` æ˜¯ HTTP 401 å“åº”çš„**è®¤è¯å¯¼èˆªå™¨**ï¼š
- é€šè¿‡ `realm` åˆ’åˆ†å®‰å…¨è¾¹ç•Œï¼ŒæŒ‡å¼•ç”¨æˆ·æä¾›æ­£ç¡®å‡­æ®ï¼›
- å€Ÿ `nonce`ã€`qop` ç­‰å‚æ•°æå‡ `Digest` å®‰å…¨æ€§ï¼›
- ç”¨ `Bearer` æ–¹æ¡ˆå¯¹æ¥ç°ä»£ä»¤ç‰Œä½“ç³»ï¼ˆå¦‚ OAuth 2.0ï¼‰ã€‚
å¼€å‘è€…éœ€æ ¹æ®åœºæ™¯é€‰æ‹©æ–¹æ¡ˆï¼Œå¹¶å…³æ³¨å‚æ•°é…ç½®çš„ä¸¥è°¨æ€§ã€‚
## HTTP ç¼“å­˜
HTTPç¼“å­˜æ˜¯ä¸€ç§æ ¸å¿ƒçš„Webæ€§èƒ½ä¼˜åŒ–æœºåˆ¶ï¼Œé€šè¿‡å°†èµ„æºå‰¯æœ¬å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰æˆ–ä»£ç†æœåŠ¡å™¨ä¸­ï¼Œå‡å°‘é‡å¤è¯·æ±‚ã€é™ä½æœåŠ¡å™¨å‹åŠ›å¹¶åŠ é€Ÿé¡µé¢åŠ è½½ã€‚ä»¥ä¸‹ä»æ ¸å¿ƒåŸç†åˆ°å®è·µç­–ç•¥çš„å…¨é¢è§£æï¼š
------
### ğŸ”‘ **ç¼“å­˜ç±»å‹ä¸å·¥ä½œåŸç†**
#### **å¼ºç¼“å­˜ï¼ˆå¼ºåˆ¶ç¼“å­˜ï¼‰**
- **åŸç†**ï¼šæµè§ˆå™¨ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œä¸ä¸æœåŠ¡å™¨é€šä¿¡ã€‚
- æ§åˆ¶å­—æ®µï¼š
- ```
Cache-Control
```
ï¼ˆHTTP/1.1ï¼‰ï¼š
- `max-age=3600`ï¼šèµ„æºç¼“å­˜3600ç§’ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰
- `no-cache`ï¼šç¦ç”¨å¼ºç¼“å­˜ï¼Œä½†ä»å…è®¸åå•†ç¼“å­˜
- `no-store`ï¼šå®Œå…¨ç¦ç”¨ç¼“å­˜ï¼ˆå¦‚æ•æ„Ÿæ•°æ®ï¼‰
- `public`ï¼šå…è®¸ä»£ç†æœåŠ¡å™¨ç¼“å­˜èµ„æºï¼ˆCDNé€‚ç”¨ï¼‰
- `private`ï¼šä»…å…è®¸æµè§ˆå™¨ç¼“å­˜
- `immutable`ï¼šèµ„æºæ°¸ä¸å˜åŠ¨ï¼ˆå¦‚å¸¦å“ˆå¸Œçš„é™æ€æ–‡ä»¶ï¼‰
- `Expires`ï¼ˆHTTP/1.0ï¼‰ï¼šæŒ‡å®šç»å¯¹è¿‡æœŸæ—¶é—´ï¼ˆå¦‚`Expires: Wed, 21 Oct 2025 07:28:00 GMT`ï¼‰ï¼Œå› ä¾èµ–æœåŠ¡å™¨æ—¶é—´å¯èƒ½è¯¯å·®ï¼Œå·²è¢«`Cache-Control`å–ä»£ã€‚
- **å‘½ä¸­è¡¨ç°**ï¼šçŠ¶æ€ç `200 (from disk/memory cache)`ï¼Œä¸å‘é€è¯·æ±‚ã€‚
#### **åå•†ç¼“å­˜ï¼ˆå¯¹æ¯”ç¼“å­˜ï¼‰**
- **åŸç†**ï¼šå¼ºç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨æºå¸¦æ ‡è¯†è¯¢é—®æœåŠ¡å™¨èµ„æºæ˜¯å¦æ›´æ–°ã€‚
- æ§åˆ¶å­—æ®µï¼š
- Last-Modified + If-Modified-Sinceï¼š
- æœåŠ¡å™¨è¿”å›èµ„æºæœ€åä¿®æ”¹æ—¶é—´ï¼ˆ`Last-Modified`ï¼‰
- æµè§ˆå™¨ä¸‹æ¬¡è¯·æ±‚æºå¸¦ If-Modified-Sinceï¼ŒæœåŠ¡å™¨æ¯”å¯¹æ—¶é—´ï¼š
- æœªä¿®æ”¹ â†’ `304 Not Modified`ï¼ˆä½¿ç”¨ç¼“å­˜ï¼‰
- å·²ä¿®æ”¹ â†’ `200` + æ–°èµ„æº
- **ç¼ºç‚¹**ï¼šç²¾åº¦ä»…åˆ°ç§’ï¼Œå†…å®¹ä¸å˜ä½†æ—¶é—´å¯èƒ½å˜åŒ–ï¼ˆå¦‚æ–‡ä»¶é‡å†™ï¼‰ã€‚
- ETag + If-None-Matchï¼ˆä¼˜å…ˆçº§æ›´é«˜ï¼‰ï¼š
- æœåŠ¡å™¨ç”Ÿæˆèµ„æºå”¯ä¸€æ ‡è¯†ï¼ˆå¦‚å“ˆå¸Œå€¼`ETag: &amp;#34;abc123&amp;#34;`ï¼‰
- æµè§ˆå™¨ä¸‹æ¬¡æºå¸¦ If-None-Match: &amp;#34;abc123&amp;#34;ï¼ŒæœåŠ¡å™¨æ¯”å¯¹ï¼š
- ä¸€è‡´ â†’ `304`
- ä¸ä¸€è‡´ â†’ `200` + æ–°èµ„æº
- **ä¼˜ç‚¹**ï¼šç²¾å‡†æ„ŸçŸ¥å†…å®¹å˜åŒ–ï¼ˆå¦‚å­—èŠ‚çº§ä¿®æ”¹ï¼‰ã€‚
&amp;gt; âš ï¸ å¼ºç¼“å­˜å¤±æ•ˆåæ‰ä¼šè§¦å‘åå•†ç¼“å­˜ã€‚è‹¥åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œå“åº”ç ä¸º`304`ï¼Œä»…è¿”å›å¤´éƒ¨ï¼ˆçº¦0.1KBï¼‰ï¼Œä¸ä¼ è¾“èµ„æºä½“ã€‚
------
### ğŸ”§ **ç¼“å­˜å­˜å‚¨ä½ç½®**
æµè§ˆå™¨ç¼“å­˜åˆ†ä¸ºä¸¤ç±»ï¼š
1. å†…å­˜ç¼“å­˜ï¼ˆMemory Cacheï¼‰ï¼š
- å­˜å‚¨å½“å‰é¡µé¢èµ„æºï¼ˆå¦‚JSã€CSSï¼‰
- ç‰¹ç‚¹ï¼šè¯»å–å¿«ï¼Œé¡µé¢å…³é—­å³é‡Šæ”¾
- ç¤ºä¾‹ï¼šåˆ·æ–°é¡µé¢æ—¶JSä»`memory cache`åŠ è½½
2. ç£ç›˜ç¼“å­˜ï¼ˆDisk Cacheï¼‰ï¼š
- å­˜å‚¨å¤§æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€å­—ä½“ï¼‰
- ç‰¹ç‚¹ï¼šå®¹é‡å¤§ï¼ŒæŒä¹…åŒ–å­˜å‚¨ï¼Œè¯»å–è¾ƒæ…¢
- ç¤ºä¾‹ï¼šCSSæ–‡ä»¶é€šå¸¸ä»`disk cache`åŠ è½½
------
### ğŸ”„ **ç”¨æˆ·è¡Œä¸ºå¯¹ç¼“å­˜çš„å½±å“**
ä¸åŒæ“ä½œè§¦å‘ä¸åŒç¼“å­˜ç­–ç•¥ï¼š
| **ç”¨æˆ·æ“ä½œ** | **ç¼“å­˜ç­–ç•¥** | **è¯·æ±‚å¤´å˜åŒ–** |
| ------------------- | -------------------------- | -------------------------- |
| åœ°å€æ å›è½¦/ä¹¦ç­¾è®¿é—® | ä¼˜å…ˆå¼ºç¼“å­˜ â†’ åå•†ç¼“å­˜ | æ— `Cache-Control` |
| æ™®é€šåˆ·æ–°ï¼ˆF5ï¼‰ | è·³è¿‡å¼ºç¼“å­˜ï¼Œè§¦å‘åå•†ç¼“å­˜ | `Cache-Control: max-age=0` |
| å¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+F5ï¼‰ | å®Œå…¨ç»•è¿‡ç¼“å­˜ï¼Œé‡æ–°ä¸‹è½½èµ„æº | `Cache-Control: no-cache` |
------
### âš™ï¸ **ç¼“å­˜é…ç½®æœ€ä½³å®è·µ**
#### **é™æ€èµ„æºï¼ˆJS/CSS/å›¾ç‰‡ï¼‰**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Cache-Control: public, max-age=31536000, immutable # ç¼“å­˜1å¹´&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- é…åˆæ–‡ä»¶åå“ˆå¸Œï¼ˆå¦‚`app.abc123.js`ï¼‰ï¼Œå†…å®¹å˜æ›´å³URLå˜åŒ–ï¼Œè§¦å‘é‡æ–°è·å–ã€‚
#### **åŠ¨æ€èµ„æºï¼ˆAPIæ¥å£ï¼‰**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Cache-Control: no-cache # ç¦ç”¨å¼ºç¼“å­˜ï¼Œæ¯æ¬¡åå•†éªŒè¯
ETag: &amp;ldquo;x789fg&amp;rdquo; # å¯ç”¨å†…å®¹æ ‡è¯†éªŒè¯&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;#### **æ•æ„Ÿæ•°æ®ï¼ˆç™»å½•é¡µ/éšç§ä¿¡æ¯ï¼‰**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Cache-Control: no-store # å®Œå…¨ç¦æ­¢ç¼“å­˜&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;#### **ä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼ˆCDNï¼‰**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Cache-Control: public, s-maxage=3600 # s-maxageæ§åˆ¶ä»£ç†ç¼“å­˜
Vary: Accept-Encoding # åŒºåˆ†å‹ç¼©ä¸éå‹ç¼©ç‰ˆæœ¬&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### âš ï¸ **å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ**
1. ç¼“å­˜æœªæ›´æ–°ï¼š
- åŸå› ï¼šå¼ºç¼“å­˜æœªè¿‡æœŸæˆ–æ–‡ä»¶åæœªå˜æ›´ã€‚
- è§£å†³ï¼šé™æ€èµ„æºç”¨å“ˆå¸Œå‘½åï¼›åŠ¨æ€èµ„æºè®¾ç½®`max-age=0` + `ETag`ã€‚
2. ETagæ€§èƒ½å¼€é”€ï¼š
- åŸå› ï¼šå¤§æ–‡ä»¶å“ˆå¸Œè®¡ç®—æ¶ˆè€—CPUã€‚
- è§£å†³ï¼šå¯¹å¤§å‹æ–‡ä»¶ä½¿ç”¨`Last-Modified`ã€‚
3. è·¨åŸŸç¼“å­˜å¤±æ•ˆï¼š
- åŸå› ï¼šç¼ºå°‘`Access-Control-Allow-Origin`ã€‚
- è§£å†³ï¼šCORSå“åº”å¤´éœ€åŒ…å«ç¼“å­˜å­—æ®µã€‚
------
### ğŸ’ **æ€»ç»“**
HTTPç¼“å­˜é€šè¿‡**å¼ºç¼“å­˜**ï¼ˆå‡å°‘è¯·æ±‚ï¼‰ä¸**åå•†ç¼“å­˜**ï¼ˆç²¾å‡†éªŒè¯ï¼‰çš„ååŒï¼Œå¹³è¡¡äº†æ€§èƒ½ä¸æ•°æ®å‡†ç¡®æ€§ã€‚å…³é”®å®è·µï¼š
- âœ… **é™æ€èµ„æº**ï¼šé•¿ç¼“å­˜ + æ–‡ä»¶åå“ˆå¸Œï¼›
- âœ… **åŠ¨æ€æ•°æ®**ï¼šåå•†ç¼“å­˜ + `ETag`ï¼›
- âœ… **æ•æ„Ÿä¿¡æ¯**ï¼š`no-store`å½»åº•ç¦ç”¨ã€‚
é…ç½®ç¤ºä¾‹ï¼ˆNginxï¼‰ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;location ~* .(js|css|png)$ {
add_header Cache-Control &amp;ldquo;public, max-age=31536000, immutable&amp;rdquo;;
}
location /api {
add_header Cache-Control &amp;ldquo;no-cache&amp;rdquo;;
add_header ETag $upstream_http_etag;
}&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;## s-maxage
### ğŸ” `s-maxage` çš„æ ¸å¿ƒå®šä¹‰ä¸ä½œç”¨æœºåˆ¶
`Cache-Control: s-maxage` æ˜¯ HTTP å¤´éƒ¨ä¸­ä¸“é—¨ç”¨äº**æ§åˆ¶å…±äº«ç¼“å­˜ï¼ˆå¦‚ CDNã€ä»£ç†æœåŠ¡å™¨ï¼‰èµ„æºæœ‰æ•ˆæœŸ**çš„æŒ‡ä»¤ã€‚å…¶æ ¸å¿ƒæœºåˆ¶å¦‚ä¸‹ï¼š
| **ç‰¹æ€§** | **è¯´æ˜** |
| -------------- | ------------------------------------------------------------ |
| **ä½œç”¨èŒƒå›´** | ä»…é’ˆå¯¹å…±äº«ç¼“å­˜ï¼ˆå¦‚ CDNã€åå‘ä»£ç†ï¼‰ï¼Œå¯¹ç§æœ‰ç¼“å­˜ï¼ˆæµè§ˆå™¨ï¼‰æ— æ•ˆã€‚ |
| **ä¼˜å…ˆçº§è§„åˆ™** | å½“ä¸ `max-age` æˆ– `Expires` å…±å­˜æ—¶ï¼Œ`s-maxage` ä¼˜å…ˆçº§æœ€é«˜ï¼Œè¦†ç›–å…¶ä»–å­—æ®µã€‚ |
| **ç¼“å­˜è¡Œä¸º** | åœ¨ `s-maxage` æœ‰æ•ˆæœŸå†…ï¼Œå…±äº«ç¼“å­˜ç›´æ¥è¿”å›èµ„æºï¼Œæ— éœ€å›æºéªŒè¯ã€‚ |
#### â±ï¸ **å…¸å‹é…ç½®ç¤ºä¾‹**ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Cache-Control: public, s-maxage=3600, max-age=60&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- **CDN**ï¼šç¼“å­˜ 3600 ç§’ï¼ˆ1 å°æ—¶ï¼‰
- **æµè§ˆå™¨**ï¼šç¼“å­˜ 60 ç§’ï¼ˆç”± `max-age` æ§åˆ¶ï¼‰
------
### âš™ï¸ è¾¹ç¼˜ç¼“å­˜çš„å·¥ä½œåŸç†ä¸æµç¨‹
è¾¹ç¼˜ç¼“å­˜ï¼ˆå¦‚ CDNï¼‰ä¾èµ– `s-maxage` å®ç°é«˜æ•ˆèµ„æºåˆ†å‘ï¼Œæµç¨‹å¦‚ä¸‹ï¼š
1. **é¦–æ¬¡è¯·æ±‚**ï¼š
- ç”¨æˆ·è¯·æ±‚èµ„æº â†’ CDN æœªç¼“å­˜ â†’ å›æºè·å–èµ„æº
- æºç«™è¿”å›å“åº”å¤´ `s-maxage=3600` + `Last-Modified`/`ETag`
- CDN ç¼“å­˜èµ„æºå¹¶å“åº”å®¢æˆ·ç«¯
2. **äºŒæ¬¡è¯·æ±‚ï¼ˆç¼“å­˜æœªè¿‡æœŸï¼‰**ï¼š
- ç”¨æˆ·å†æ¬¡è¯·æ±‚ â†’ CDN æ£€æŸ¥ `s-maxage` æœªè¿‡æœŸ â†’ **ç›´æ¥è¿”å›ç¼“å­˜**ï¼ˆæ— å›æºï¼‰
3. **ç¼“å­˜è¿‡æœŸåè¯·æ±‚**ï¼š
- CDN æºå¸¦ `If-Modified-Since`ï¼ˆåŸºäº `Last-Modified`ï¼‰æˆ– `If-None-Match`ï¼ˆåŸºäº `ETag`ï¼‰å›æºéªŒè¯
- è‹¥èµ„æºæœªä¿®æ”¹ï¼ˆæºç«™è¿”å› `304`ï¼‰â†’ CDN æ›´æ–°ç¼“å­˜æœ‰æ•ˆæœŸå¹¶è¿”å›ç¼“å­˜
- è‹¥èµ„æºå·²ä¿®æ”¹ï¼ˆæºç«™è¿”å› `200`ï¼‰â†’ CDN æ›´æ–°ç¼“å­˜å¹¶è¿”å›æ–°èµ„æº
&amp;gt; ğŸ’¡ **å…³é”®ç‚¹**ï¼š`s-maxage` è¿‡æœŸåï¼ŒCDN é€šè¿‡åå•†ç¼“å­˜ï¼ˆ`304`ï¼‰é¿å…é‡å¤ä¼ è¾“æœªå˜æ›´èµ„æºã€‚
------
### ğŸŒ å…¸å‹åº”ç”¨åœºæ™¯
#### **CDN åŠ é€Ÿé™æ€èµ„æº**
é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€CSSã€JSï¼‰é…ç½®è¾ƒé•¿ `s-maxage`ï¼ˆå¦‚ `s-maxage=2592000`ï¼‰ï¼ŒCDN ç¼“å­˜ 30 å¤©ï¼Œæ˜¾è‘—å‡å°‘å›æºç‡ã€‚
#### **åŠ¨æ€å†…å®¹è¾¹ç¼˜ç¼“å­˜**
éƒ¨åˆ†åŠ¨æ€æ¥å£ï¼ˆå¦‚å•†å“ä¿¡æ¯ï¼‰å¯è®¾ç½®è¾ƒçŸ­ `s-maxage`ï¼ˆå¦‚ `s-maxage=10`ï¼‰ï¼Œåœ¨ä¿è¯æ•°æ®æ–°é²œåº¦çš„åŒæ—¶å‡è½»æºç«™å‹åŠ›ã€‚
#### **å¤šçº§ç¼“å­˜ç­–ç•¥ååŒ**
- **æµè§ˆå™¨ç¼“å­˜**ï¼š`max-age=60`ï¼ˆé¢‘ç¹éªŒè¯ï¼‰
- **CDN ç¼“å­˜**ï¼š`s-maxage=3600`ï¼ˆå‡å°‘å›æºï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Cache-Control: public, s-maxage=3600, max-age=60&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### âš ï¸ é…ç½®æ³¨æ„äº‹é¡¹ä¸é™·é˜±
#### **é¿å…ç¼“å­˜æ±¡æŸ“**
è‹¥æºç«™æœªæ­£ç¡®è®¾ç½® `Vary` å¤´ï¼ˆå¦‚ `Vary: User-Agent`ï¼‰ï¼Œå¯èƒ½å¯¼è‡´ CDN è¿”å›é”™è¯¯ç‰ˆæœ¬èµ„æºã€‚
âœ… â€‹**è§£å†³**â€‹ï¼šå¯¹å·®å¼‚åŒ–å†…å®¹ï¼ˆå¦‚å¤šè¯­è¨€ï¼‰æ˜¾å¼è®¾ç½® `Vary` å¤´ã€‚
#### **æ›´æ–°èµ„æºæ—¶çš„ç©¿é€é—®é¢˜**
èµ„æºæ›´æ–°åï¼Œè‹¥ `s-maxage` æœªè¿‡æœŸï¼ŒCDN ä»è¿”å›æ—§èµ„æºã€‚
âœ… â€‹**è§£å†³**â€‹ï¼š
- é™æ€èµ„æºï¼šä½¿ç”¨å“ˆå¸Œæ–‡ä»¶åï¼ˆå¦‚ `app.abc123.js`ï¼‰
- åŠ¨æ€èµ„æºï¼šé…åˆ `no-cache` + `ETag` å¼ºåˆ¶éªŒè¯
#### **ä¸ç§æœ‰ç¼“å­˜çš„å†²çª**
`private` æŒ‡ä»¤ç¦æ­¢å…±äº«ç¼“å­˜ï¼Œä¸ `s-maxage` äº’æ–¥ã€‚
âŒ â€‹**é”™è¯¯é…ç½®**â€‹ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Cache-Control: private, s-maxage=3600 # s-maxage å¤±æ•ˆ&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### ğŸ”§ æœ€ä½³å®è·µä¸é…ç½®ç¤ºä¾‹
#### **Nginx é…ç½®é™æ€èµ„æº**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;location ~* .(js|css|png)$ {
add_header Cache-Control &amp;ldquo;public, s-maxage=2592000, max-age=600&amp;rdquo;;
}&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- CDN ç¼“å­˜ 30 å¤©ï¼Œæµè§ˆå™¨ç¼“å­˜ 10 åˆ†é’Ÿã€‚
#### **åŠ¨æ€ API é…ç½®**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;location /api {
add_header Cache-Control &amp;ldquo;public, s-maxage=10, no-cache&amp;rdquo;;
add_header ETag $upstream_http_etag;
}&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- CDN ç¼“å­˜ 10 ç§’ï¼Œæ¯æ¬¡éªŒè¯èµ„æºæ–°é²œåº¦ã€‚
#### **CDN æ§åˆ¶å°è‡ªå®šä¹‰è§„åˆ™**
è…¾è®¯äº‘ EdgeOne æ”¯æŒæŒ‰è·¯å¾„é…ç½® `s-maxage`ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åŒ¹é…è·¯å¾„: /static/*&lt;br&gt;
ç¼“å­˜ç­–ç•¥: s-maxage=86400&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### ğŸ’ æ€»ç»“
`s-maxage` æ˜¯**è¾¹ç¼˜ç¼“å­˜ä¼˜åŒ–çš„æ ¸å¿ƒæŒ‡ä»¤**ï¼Œé€šè¿‡ç²¾å‡†æ§åˆ¶ CDN ç¼“å­˜å‘¨æœŸï¼Œæ˜¾è‘—é™ä½æºç«™è´Ÿè½½å¹¶åŠ é€Ÿå…¨çƒè®¿é—®ã€‚å…³é”®å®è·µï¼š
1. **ä¼˜å…ˆçº§è¦†ç›–**ï¼šè¦†ç›– `max-age`/`Expires`ï¼Œä»…ä½œç”¨äºå…±äº«ç¼“å­˜ï¼›
2. **æ›´æ–°ç­–ç•¥**ï¼šé™æ€èµ„æºç”¨å“ˆå¸Œæ–‡ä»¶åï¼ŒåŠ¨æ€å†…å®¹è®¾çŸ­å‘¨æœŸ + `ETag` éªŒè¯ï¼›
3. **é¿å‘æŒ‡å—**ï¼šé¿å…ä¸ `private` å†²çªï¼Œé…åˆ `Vary` é˜²ç¼“å­˜æ±¡æŸ“ã€‚
&amp;gt; é€šè¿‡åˆç†é…ç½® `s-maxage`ï¼Œå¯æå‡ç¼“å­˜å‘½ä¸­ç‡ 30% ä»¥ä¸Šï¼Œå°¤å…¶é€‚ç”¨äºé«˜å¹¶å‘é™æ€èµ„æºåˆ†å‘åœºæ™¯ã€‚
## åŠ å¯†
å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†æ˜¯ç°ä»£å¯†ç å­¦ä¸¤å¤§æ ¸å¿ƒæœºåˆ¶ï¼Œåœ¨å¯†é’¥ç®¡ç†ã€æ€§èƒ½ã€å®‰å…¨æ€§åŠåº”ç”¨åœºæ™¯ä¸Šå­˜åœ¨æœ¬è´¨å·®å¼‚ã€‚ä»¥ä¸‹ä»äº”å¤§ç»´åº¦è¿›è¡Œè¯¦ç»†å¯¹æ¯”ï¼Œå¹¶ç»“åˆå…¸å‹åº”ç”¨åœºæ™¯è¯´æ˜å®é™…é€‰æ‹©ç­–ç•¥ï¼š
------
### ğŸ”‘ **å¯†é’¥æœºåˆ¶å¯¹æ¯”**
| **ç‰¹æ€§** | **å¯¹ç§°åŠ å¯†** | **éå¯¹ç§°åŠ å¯†** |
| -------------- | ---------------------------------- | -------------------------------- |
| **å¯†é’¥æ•°é‡** | å•ä¸€å¯†é’¥ï¼ˆåŠ å¯†è§£å¯†ç›¸åŒï¼‰ | åŒå¯†é’¥ï¼ˆå…¬é’¥åŠ å¯† + ç§é’¥è§£å¯†ï¼‰ |
| **å¯†é’¥åˆ†å‘** | éœ€å®‰å…¨æ¸ é“å…±äº«å¯†é’¥ï¼Œæ˜“è¢«ä¸­é—´äººçªƒå– | å…¬é’¥å¯å…¬å¼€ä¼ æ’­ï¼Œç§é’¥ä¿å¯† |
| **ç®¡ç†å¤æ‚åº¦** | é«˜ï¼ˆæ¯å¯¹é€šä¿¡æ–¹éœ€ç‹¬ç«‹å¯†é’¥ï¼‰ | ä½ï¼ˆå…¬é’¥æ— éœ€ä¿å¯†ï¼Œç§é’¥æœ¬åœ°å­˜å‚¨ï¼‰ |
&amp;gt; **ç¤ºä¾‹**ï¼š
&amp;gt;
&amp;gt; - å¯¹ç§°åŠ å¯†ï¼šAlice å’Œ Bob å…±äº«å¯†é’¥ `K`ï¼ŒåŠ å¯†è§£å¯†å‡ç”¨ `K`ã€‚
&amp;gt; - éå¯¹ç§°åŠ å¯†ï¼šBob ç”Ÿæˆå…¬é’¥ `PK`ï¼ˆå…¬å¼€ï¼‰å’Œç§é’¥ `SK`ï¼ˆä¿å¯†ï¼‰ï¼ŒAlice ç”¨ `PK` åŠ å¯†ï¼ŒBob ç”¨ `SK` è§£å¯†ã€‚
------
### âš¡ **æ€§èƒ½ä¸æ•ˆç‡**
| **æŒ‡æ ‡** | **å¯¹ç§°åŠ å¯†** | **éå¯¹ç§°åŠ å¯†** |
| -------------- | ------------------------------ | ------------------------------- |
| **è®¡ç®—é€Ÿåº¦** | æå¿«ï¼ˆAES åŠ å¯†é€Ÿç‡è¾¾ GB/s çº§ï¼‰ | æ…¢ï¼ˆRSA æ¯” AES æ…¢ 100-1000 å€ï¼‰ |
| **èµ„æºæ¶ˆè€—** | ä½ï¼ˆé€‚åˆåµŒå…¥å¼è®¾å¤‡ï¼‰ | é«˜ï¼ˆéœ€å¼ºç®—åŠ›ï¼Œç§»åŠ¨ç«¯å—é™ï¼‰ |
| **é€‚ç”¨æ•°æ®é‡** | å¤§æ•°æ®ï¼ˆæ–‡ä»¶ã€è§†é¢‘æµï¼‰ | å°æ•°æ®ï¼ˆå¯†é’¥ã€ç­¾åï¼‰ |
&amp;gt; **ç®—æ³•ä»£è¡¨**ï¼š
&amp;gt;
&amp;gt; - å¯¹ç§°ï¼šAES-256ï¼ˆ256ä½å¯†é’¥ï¼‰ã€DESï¼ˆå·²æ·˜æ±°ï¼‰
&amp;gt; - éå¯¹ç§°ï¼šRSA-2048ï¼ˆ2048ä½å¯†é’¥ï¼‰ã€ECCï¼ˆ160ä½ç­‰æ•ˆRSA-1024ï¼‰
------
### ğŸ”’ **å®‰å…¨æ€§å·®å¼‚**
| **é£é™©ç‚¹** | **å¯¹ç§°åŠ å¯†** | **éå¯¹ç§°åŠ å¯†** |
| -------------- | ---------------------------------- | ------------------------------- |
| **å¯†é’¥æ³„éœ²** | ç³»ç»Ÿå®Œå…¨å´©æºƒï¼ˆå¯†é’¥=å”¯ä¸€å‡­è¯ï¼‰ | ä»…ç§é’¥æ³„éœ²å¯¼è‡´é£é™©ï¼ˆå…¬é’¥æ— å…³ï¼‰ |
| **ç ´è§£éš¾åº¦** | ä¾èµ–å¯†é’¥é•¿åº¦ï¼ˆAES-256 ç†è®ºä¸å¯ç ´ï¼‰ | ä¾èµ–æ•°å­¦éš¾é¢˜ï¼ˆå¦‚å¤§æ•°åˆ†è§£ï¼‰ |
| **æŠ—æ”»å‡»èƒ½åŠ›** | æ˜“å—ä¸­é—´äººæ”»å‡» | æ”¯æŒæ•°å­—ç­¾åï¼ˆé˜²ç¯¡æ”¹+èº«ä»½è®¤è¯ï¼‰ |
&amp;gt; **å®‰å…¨æœºåˆ¶**ï¼š
&amp;gt;
&amp;gt; - éå¯¹ç§°åŠ å¯†çš„ç§é’¥ç­¾åï¼ˆå¦‚åˆåŒç­¾ç½²ï¼‰ï¼šAlice ç”¨ `SK` ç­¾åï¼ŒBob ç”¨ `PK` éªŒè¯æ¥æºã€‚
------
### ğŸŒ **å…¸å‹åº”ç”¨åœºæ™¯**
#### **å¯¹ç§°åŠ å¯†é€‚ç”¨åœºæ™¯**ï¼š
1. **å¤§æµé‡åŠ å¯†**ï¼šHTTPS æ•°æ®ä¼ è¾“é˜¶æ®µï¼ˆAES åŠ å¯†ç½‘é¡µå†…å®¹ï¼‰
2. **æœ¬åœ°å­˜å‚¨åŠ å¯†**ï¼šæ•°æ®åº“å­—æ®µã€ZIP æ–‡ä»¶å¯†ç ä¿æŠ¤
3. **å®æ—¶é€šä¿¡**ï¼šVPN éš§é“åŠ å¯†ï¼ˆOpenVPN ä½¿ç”¨ AESï¼‰
#### **éå¯¹ç§°åŠ å¯†é€‚ç”¨åœºæ™¯**ï¼š
1. **å®‰å…¨å¯†é’¥äº¤æ¢**ï¼šTLS æ¡æ‰‹é˜¶æ®µç”¨ RSA ä¼ é€’ AES å¯†é’¥
2. **æ•°å­—è¯ä¹¦**ï¼šCA æœºæ„ç”¨ç§é’¥ç­¾å‘ SSL è¯ä¹¦ï¼Œæµè§ˆå™¨ç”¨å…¬é’¥éªŒè¯
3. **åŒºå—é“¾èº«ä»½éªŒè¯**ï¼šæ¯”ç‰¹å¸åœ°å€ï¼ˆå…¬é’¥å“ˆå¸Œï¼‰ä¸äº¤æ˜“ç­¾åï¼ˆç§é’¥ç”Ÿæˆï¼‰
------
### âš™ï¸ **æ··åˆåŠ å¯†ï¼šç»¼åˆæœ€ä¼˜è§£**
**è®¾è®¡åŸç†**ï¼š
1. ç”¨ **éå¯¹ç§°åŠ å¯†** å®‰å…¨ä¼ é€’ä¸´æ—¶å¯¹ç§°å¯†é’¥ï¼ˆå¦‚ TLS ä¸­ RSA åŠ å¯† AES å¯†é’¥ï¼‰
2. ç”¨ **å¯¹ç§°åŠ å¯†** å¤„ç†åç»­æ‰€æœ‰æ•°æ®ï¼ˆå¦‚ AES åŠ å¯† HTTP æµé‡ï¼‰
**ä¼˜åŠ¿**ï¼š
- âœ… å¯†é’¥äº¤æ¢å®‰å…¨ï¼ˆéå¯¹ç§°ä¼˜åŠ¿ï¼‰
- âœ… æ•°æ®ä¼ è¾“é«˜æ•ˆï¼ˆå¯¹ç§°ä¼˜åŠ¿ï¼‰
- âœ… æ”¯æŒèº«ä»½è®¤è¯ï¼ˆæ•°å­—ç­¾åï¼‰
**å…¸å‹åè®®**ï¼š
- HTTPSï¼ˆTLS/SSLï¼‰ã€SSHã€PGP åŠ å¯†é‚®ä»¶
------
### ğŸ’ **æ€»ç»“ï¼šé€‰æ‹©ç­–ç•¥ä¸ç®—æ³•æ¨è**
| **éœ€æ±‚** | **æ¨èæ–¹æ¡ˆ** | **ä»£è¡¨ç®—æ³•** |
| ----------------------- | ------------ | -------------------------- |
| å¤§æ•°æ®åŠ å¯†ï¼ˆæ–‡ä»¶/è§†é¢‘ï¼‰ | å¯¹ç§°åŠ å¯† | AES-256ã€SM4 |
| å¯†é’¥äº¤æ¢/èº«ä»½è®¤è¯ | éå¯¹ç§°åŠ å¯† | RSA-2048ã€ECCã€SM2 |
| é«˜å®‰å…¨å®æ—¶é€šä¿¡ï¼ˆHTTPSï¼‰ | æ··åˆåŠ å¯† | TLS 1.3ï¼ˆECDHE + AES-GCMï¼‰ |
&amp;gt; **é¿å‘æŒ‡å—**ï¼š
&amp;gt;
&amp;gt; - âŒ é¿å…ç”¨éå¯¹ç§°åŠ å¯†å¤§æ–‡ä»¶ï¼ˆæ€§èƒ½ç“¶é¢ˆï¼‰
&amp;gt; - âœ… æ•æ„Ÿæ•°æ®ç”¨ AES-256 + å®šæœŸè½®æ¢å¯†é’¥
&amp;gt; - âœ… æ•°å­—è¯ä¹¦é€‰æ‹© ECC ç®—æ³•ï¼ˆåŒç­‰å®‰å…¨ä¸‹å¯†é’¥æ›´çŸ­ï¼‰
é€šè¿‡æ··åˆåŠ å¯†æ¶æ„ï¼Œå¯å…¼é¡¾å®‰å…¨ä¸æ•ˆç‡ï¼Œæ»¡è¶³ç°ä»£ç½‘ç»œé€šä¿¡çš„å…¨åœºæ™¯éœ€æ±‚ã€‚å®é™…éƒ¨ç½²æ—¶éœ€ç»“åˆä¸šåŠ¡è§„æ¨¡ï¼ˆå¦‚å¯†é’¥ç®¡ç†å¤æ‚åº¦ï¼‰ã€æ•°æ®æ•æ„Ÿæ€§ï¼ˆå¦‚é‡‘èç³»ç»Ÿéœ€ FIPS è®¤è¯ç®—æ³•ï¼‰åŠæ€§èƒ½é¢„ç®—ï¼ˆå¦‚ç‰©è”ç½‘è®¾å¤‡ä¼˜é€‰ ECCï¼‰ç»¼åˆå†³ç­–ã€‚
## ç§é’¥ç”Ÿæˆå…¬é’¥
æ˜¯çš„ï¼Œåœ¨éå¯¹ç§°åŠ å¯†ä½“ç³»ä¸­ï¼Œ**ç§é’¥å¯ä»¥ç”Ÿæˆå¯¹åº”çš„å…¬é’¥ï¼Œä½†å…¬é’¥æ— æ³•åå‘æ¨å¯¼å‡ºç§é’¥**ã€‚è¿™æ˜¯éå¯¹ç§°åŠ å¯†çš„æ ¸å¿ƒæ•°å­¦ç‰¹æ€§ï¼Œä¹Ÿæ˜¯å…¶å®‰å…¨æ€§çš„åŸºç¡€ã€‚ä»¥ä¸‹ä»åŸç†ã€å®ç°å’Œå®‰å…¨æ€§ä¸‰ä¸ªç»´åº¦è¯¦ç»†è¯´æ˜ï¼š
------
### ğŸ”‘ **ç”ŸæˆåŸç†ï¼šæ•°å­¦å•å‘å‡½æ•°**
éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆå¦‚RSAã€ECCï¼‰ä¾èµ–æ•°å­¦å•å‘å‡½æ•°å®ç°å¯†é’¥ç”Ÿæˆï¼š
1. **RSAç®—æ³•**ï¼š
- ç§é’¥åŒ…å«å¤§ç´ æ•°ç»„åˆ `(d, n)`ï¼Œå…¬é’¥ä¸º `(e, n)`ã€‚
- ç”Ÿæˆè¿‡ç¨‹ï¼š
- éšæœºé€‰æ‹©ä¸¤ä¸ªå¤§ç´ æ•° `p` å’Œ `q` â†’ è®¡ç®— `n = p * q`ã€‚
- è®¡ç®—æ¬§æ‹‰å‡½æ•° `Ï†(n) = (p-1)(q-1)`ã€‚
- é€‰æ‹©å…¬é’¥æŒ‡æ•° `e`ï¼ˆéœ€ä¸ `Ï†(n)` äº’è´¨ï¼‰ï¼Œå†é€šè¿‡æ¨¡é€†è¿ç®—è®¡ç®—ç§é’¥æŒ‡æ•° `d`ï¼ˆæ»¡è¶³ `e * d â‰¡ 1 mod Ï†(n)`ï¼‰ã€‚
- **å…¬é’¥ç”±ç§é’¥å‚æ•°æ¨å¯¼è€Œæ¥**ï¼ˆ`n` å’Œ `e` ç”±ç§é’¥ç”Ÿæˆè¿‡ç¨‹ç¡®å®šï¼‰ã€‚
2. **æ¤­åœ†æ›²çº¿ç®—æ³•ï¼ˆECCï¼‰**ï¼š
- ç§é’¥æ˜¯ä¸€ä¸ªéšæœºæ•° `k`ï¼ˆå¦‚æ¯”ç‰¹å¸ä½¿ç”¨çš„256ä½æ•´æ•°ï¼‰ã€‚
- å…¬é’¥æ˜¯æ¤­åœ†æ›²çº¿ä¸Šçš„ç‚¹ `K = k * G`ï¼Œå…¶ä¸­ `G` æ˜¯æ›²çº¿ä¸Šçš„å›ºå®šç”Ÿæˆç‚¹ã€‚
- **å…³é”®ç‰¹æ€§**ï¼šå·²çŸ¥ `k` å’Œ `G` å¯å¿«é€Ÿè®¡ç®— `K`ï¼Œä½†å·²çŸ¥ `K` å’Œ `G` æ— æ³•åæ¨ `k`ï¼ˆç¦»æ•£å¯¹æ•°é—®é¢˜ï¼‰ã€‚
&amp;gt; âœ… **æ ¸å¿ƒç»“è®º**ï¼šç§é’¥ä½œä¸ºè¾“å…¥ï¼Œé€šè¿‡ç¡®å®šæ€§ç®—æ³•ï¼ˆå¦‚ç‚¹ä¹˜ã€æ¨¡è¿ç®—ï¼‰ç”Ÿæˆå”¯ä¸€å…¬é’¥ã€‚
------
### âš™ï¸ **å®é™…ç”Ÿæˆæ–¹å¼**
1. **å‘½ä»¤è¡Œå·¥å…·ï¼ˆOpenSSLï¼‰**ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id="ç”Ÿæˆç§é’¥"&gt;ç”Ÿæˆç§é’¥
&lt;/h1&gt;&lt;p&gt;openssl genrsa -out private_key.pem 2048&lt;/p&gt;
&lt;h1 id="ä»ç§é’¥å¯¼å‡ºå…¬é’¥"&gt;ä»ç§é’¥å¯¼å‡ºå…¬é’¥
&lt;/h1&gt;&lt;p&gt;openssl rsa -in private_key.pem -pubout -out public_key.pem&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ç§é’¥æ–‡ä»¶åŒ…å«ç”Ÿæˆå…¬é’¥æ‰€éœ€çš„å…¨éƒ¨å‚æ•°ï¼ˆå¦‚ `n` å’Œ `e`ï¼‰ã€‚
2. **ç¼–ç¨‹å®ç°ï¼ˆPythonç¤ºä¾‹ï¼‰**ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;from cryptography.hazmat.primitives.asymmetric import rsa
from cryptography.hazmat.primitives import serialization&lt;/p&gt;
&lt;h1 id="ç”Ÿæˆç§é’¥-1"&gt;ç”Ÿæˆç§é’¥
&lt;/h1&gt;&lt;p&gt;private_key = rsa.generate_private_key(public_exponent=65537, key_size=2048)&lt;/p&gt;
&lt;h1 id="ä»ç§é’¥è·å–å…¬é’¥"&gt;ä»ç§é’¥è·å–å…¬é’¥
&lt;/h1&gt;&lt;p&gt;public_key = private_key.public_key()&lt;/p&gt;
&lt;h1 id="åºåˆ—åŒ–å…¬é’¥"&gt;åºåˆ—åŒ–å…¬é’¥
&lt;/h1&gt;&lt;p&gt;pem_public = public_key.public_bytes(
encoding=serialization.Encoding.PEM,
format=serialization.PublicFormat.SubjectPublicKeyInfo
)
print(pem_public.decode())&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ç§é’¥å¯¹è±¡ç›´æ¥æä¾› `public_key()` æ–¹æ³•ç”Ÿæˆå…¬é’¥ã€‚
3. **åŠ å¯†è´§å¸åœºæ™¯ï¼ˆå¦‚æ¯”ç‰¹å¸ï¼‰**ï¼š
- ç§é’¥ï¼šéšæœºç”Ÿæˆçš„256ä½åå…­è¿›åˆ¶æ•°ï¼ˆå¦‚ `0x3d8f...`ï¼‰ã€‚
- å…¬é’¥ï¼šé€šè¿‡æ¤­åœ†æ›²çº¿ `secp256k1` è®¡ç®— `K = k * G` å¾—åˆ°ã€‚
- åœ°å€ï¼šå¯¹å…¬é’¥å“ˆå¸Œï¼ˆRIPEMD160(SHA256(K))ï¼‰è¿›è¡ŒBase58Checkç¼–ç ã€‚
------
### âš ï¸ **å®‰å…¨æ€§ä¸æ³¨æ„äº‹é¡¹**
1. **ä¸å¯é€†æ€§**ï¼š
- å…¬é’¥æ¨å¯¼ç§é’¥éœ€è§£å†³æ•°å­¦éš¾é¢˜ï¼ˆå¦‚å¤§æ•°åˆ†è§£ã€æ¤­åœ†æ›²çº¿ç¦»æ•£å¯¹æ•°ï¼‰ï¼Œè®¡ç®—ä¸Šä¸å¯è¡Œã€‚
- ä¾‹å¦‚ï¼šç ´è§£256ä½ECCç§é’¥éœ€è¶…å®‡å®™å¹´é¾„æ—¶é—´ï¼ŒRSA-2048éœ€æ•°ä¸‡å¹´ã€‚
2. **å¯†é’¥ç®¡ç†è¦æ±‚**ï¼š
- **ç§é’¥å¿…é¡»ä¸¥æ ¼ä¿å¯†**ï¼šæ³„éœ²ç§é’¥ç­‰åŒäºå¤±å»æ‰€æœ‰åŠ å¯†æ•°æ®çš„æ§åˆ¶æƒï¼ˆå¦‚åŠ å¯†è´§å¸è¢«ç›—ï¼‰ã€‚
- **å…¬é’¥å¯å…¬å¼€åˆ†å‘**ï¼šç”¨äºåŠ å¯†æ•°æ®æˆ–éªŒè¯ç­¾åï¼Œæ— å®‰å…¨é£é™©ã€‚
3. **ç®—æ³•å·®å¼‚**ï¼š
| **ç®—æ³•** | **ç§é’¥ â†’ å…¬é’¥æ–¹å‘** | **å…¬é’¥ â†’ ç§é’¥æ–¹å‘** |
| -------- | -------------------- | ---------------------- |
| RSA | å¿«é€Ÿï¼ˆæ¨¡æŒ‡æ•°è¿ç®—ï¼‰ | ä¸å¯è¡Œï¼ˆå¤§æ•°åˆ†è§£éš¾é¢˜ï¼‰ |
| ECC | å¿«é€Ÿï¼ˆæ¤­åœ†æ›²çº¿ç‚¹ä¹˜ï¼‰ | ä¸å¯è¡Œï¼ˆç¦»æ•£å¯¹æ•°éš¾é¢˜ï¼‰ |
------
### ğŸ’ **æ€»ç»“**
- âœ… **å¯ä»¥ç”Ÿæˆ**ï¼šç§é’¥é€šè¿‡ç¡®å®šæ€§æ•°å­¦è¿ç®—ï¼ˆå¦‚ç‚¹ä¹˜ã€æ¨¡é€†ï¼‰ç”Ÿæˆå”¯ä¸€å…¬é’¥ã€‚
- ğŸš« **ä¸å¯é€†å‘**ï¼šå…¬é’¥æ¨å¯¼ç§é’¥åœ¨è®¡ç®—ä¸Šä¸å¯è¡Œï¼Œä¾èµ–æ•°å­¦éš¾é¢˜ä¿éšœå®‰å…¨ã€‚
- ğŸ” **å®‰å…¨åŸºç¡€**ï¼šç§é’¥ä¿å¯†æ€§æ˜¯æ•´ä¸ªéå¯¹ç§°åŠ å¯†ä½“ç³»çš„åŸºçŸ³ï¼Œå…¬é’¥å¯è‡ªç”±åˆ†å‘æ— éœ€ä¿æŠ¤ã€‚
å®é™…åº”ç”¨ä¸­ï¼Œå¯†é’¥å¯¹ç”Ÿæˆå·¥å…·ï¼ˆå¦‚OpenSSLã€ç¡¬ä»¶å®‰å…¨æ¨¡å—ï¼‰å‡å†…ç½®ç§é’¥â†’å…¬é’¥çš„æ¨å¯¼é€»è¾‘ï¼Œå¼€å‘è€…åªéœ€è°ƒç”¨æ¥å£å³å¯å®‰å…¨è·å–å…¬é’¥ã€‚
## ç­¾å
æ˜¯çš„ï¼Œ**éå¯¹ç§°åŠ å¯†æ—¢æ”¯æŒâ€œå…¬é’¥åŠ å¯†ã€ç§é’¥è§£å¯†â€ï¼Œä¹Ÿæ”¯æŒâ€œç§é’¥åŠ å¯†ã€å…¬é’¥è§£å¯†â€**ï¼Œä½†è¿™ä¸¤ç§æ¨¡å¼çš„åº”ç”¨åœºæ™¯å’Œç›®çš„å®Œå…¨ä¸åŒã€‚ä»¥ä¸‹ä»åŸç†ã€ç”¨é€”å’Œå®é™…åº”ç”¨ä¸‰ä¸ªç»´åº¦è¯¦ç»†è¯´æ˜ï¼š
------
### ğŸ”‘ **ä¸¤ç§æ“ä½œæ¨¡å¼çš„åŸç†ä¸ç›®çš„**
#### **å…¬é’¥åŠ å¯† + ç§é’¥è§£å¯†**
- **æ ¸å¿ƒä½œç”¨**ï¼šä¿éšœæ•°æ®çš„**æœºå¯†æ€§**ï¼ˆConfidentialityï¼‰ã€‚
- **æµç¨‹**ï¼š
- å‘é€æ–¹ç”¨æ¥æ”¶æ–¹çš„**å…¬é’¥**åŠ å¯†æ•°æ® â†’ å¯†æ–‡ä¼ è¾“ â†’ æ¥æ”¶æ–¹ç”¨è‡ªå·±çš„**ç§é’¥**è§£å¯†ã€‚
- **å…¸å‹åœºæ™¯**ï¼š
- ä¼ è¾“æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚HTTPSä¸­åŠ å¯†ä¼šè¯å¯†é’¥ï¼‰ã€‚
- å‘é€åŠ å¯†é‚®ä»¶ï¼ˆç”¨æ¥æ”¶æ–¹å…¬é’¥åŠ å¯†ï¼Œä»…æ¥æ”¶æ–¹å¯è§£å¯†ï¼‰ã€‚
#### **ç§é’¥åŠ å¯† + å…¬é’¥è§£å¯†**
- **æ ¸å¿ƒä½œç”¨**ï¼šå®ç°**èº«ä»½è®¤è¯ä¸æ•°æ®å®Œæ•´æ€§**ï¼ˆAuthentication &amp;amp; Integrityï¼‰ï¼Œå³**æ•°å­—ç­¾å**ã€‚
- **æµç¨‹**ï¼š
- å‘é€æ–¹ç”¨è‡ªå·±çš„**ç§é’¥**åŠ å¯†æ¶ˆæ¯æ‘˜è¦ï¼ˆå“ˆå¸Œå€¼ï¼‰ç”Ÿæˆç­¾å â†’ æ¥æ”¶æ–¹ç”¨å‘é€æ–¹çš„**å…¬é’¥**è§£å¯†ç­¾åï¼ŒéªŒè¯æ•°æ®æ¥æºå’Œå®Œæ•´æ€§ã€‚
- **å…¸å‹åœºæ™¯**ï¼š
- ç­¾ç½²ç”µå­åˆåŒï¼ˆè¯æ˜ç­¾ç½²è€…èº«ä»½ï¼‰ã€‚
- è½¯ä»¶å‘å¸ƒæ—¶é™„åŠ ç­¾åï¼ˆé˜²ç¯¡æ”¹ï¼‰ã€‚
&amp;gt; âœ… **å…³é”®åŒºåˆ«**ï¼š
&amp;gt;
&amp;gt; - **åŠ å¯†æ¨¡å¼**ï¼šä¿æŠ¤æ•°æ®å†…å®¹ä¸è¢«çªƒå–ï¼ˆå…¬é’¥åŠ å¯†ï¼‰ã€‚
&amp;gt; - **ç­¾åæ¨¡å¼**ï¼šè¯æ˜æ•°æ®æ¥æºå’Œæœªè¢«ç¯¡æ”¹ï¼ˆç§é’¥åŠ å¯†ï¼‰ã€‚
------
### âš ï¸ **å¸¸è§è¯¯åŒºä¸æ³¨æ„äº‹é¡¹**
#### **ç§é’¥åŠ å¯† â‰  åŠ å¯†æ•°æ®**
- ç§é’¥åŠ å¯†é€šå¸¸ä¸ç›´æ¥ç”¨äºåŠ å¯†åŸå§‹æ•°æ®ï¼Œè€Œæ˜¯åŠ å¯†æ•°æ®çš„å“ˆå¸Œå€¼ï¼ˆæ‘˜è¦ï¼‰ã€‚åŸå› åŒ…æ‹¬ï¼š
- **æ€§èƒ½é—®é¢˜**ï¼šéå¯¹ç§°åŠ å¯†é€Ÿåº¦æ…¢ï¼Œä¸é€‚åˆåŠ å¯†å¤§æ–‡ä»¶ï¼ˆå¦‚RSAåŠ å¯†é€Ÿåº¦æ¯”AESæ…¢1000å€ï¼‰ã€‚
- **å®‰å…¨æ€§é£é™©**ï¼šè‹¥ç”¨ç§é’¥åŠ å¯†å…¨æ–‡ï¼Œä»»ä½•æŒæœ‰å…¬é’¥çš„äººå‡å¯è§£å¯†ï¼Œå¤±å»ä¿å¯†æ€§ã€‚
#### **å¯†é’¥åŠŸèƒ½ä¸å¯äº’æ¢**
- **å…¬é’¥åŠ å¯†çš„æ•°æ® â†’ åªèƒ½ç”¨é…å¯¹çš„ç§é’¥è§£å¯†**ã€‚
- **ç§é’¥ç­¾åçš„æ•°æ® â†’ åªèƒ½ç”¨é…å¯¹çš„å…¬é’¥éªŒè¯**ã€‚
æ•°å­¦ä¸Šä¸¤è€…æ˜¯äº’é€†æ“ä½œï¼Œä½†è®¾è®¡ç›®çš„æˆªç„¶ä¸åŒã€‚
------
### ğŸŒ **å®é™…åº”ç”¨ä¸­çš„ç»„åˆæ¨¡å¼**
#### **å®Œæ•´çš„å®‰å…¨é€šä¿¡æµç¨‹ï¼ˆå¦‚HTTPSï¼‰**
1. å¯†é’¥äº¤æ¢ï¼š
- å®¢æˆ·ç«¯ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†ä¸´æ—¶ç”Ÿæˆçš„å¯¹ç§°å¯†é’¥ï¼ˆAESå¯†é’¥ï¼‰ã€‚
2. æ•°æ®åŠ å¯†ï¼š
- åç»­é€šä¿¡å…¨éƒ¨ä½¿ç”¨å¯¹ç§°åŠ å¯†ï¼ˆAESåŠ å¯†ç½‘é¡µå†…å®¹ï¼‰ã€‚
3. èº«ä»½è®¤è¯ï¼š
- æœåŠ¡å™¨ç”¨ç§é’¥ç­¾åè¯ä¹¦ï¼Œå®¢æˆ·ç«¯ç”¨CAå…¬é’¥éªŒè¯è¯ä¹¦çœŸå®æ€§ã€‚
#### **æ•°å­—ç­¾åæµç¨‹ï¼ˆå¦‚ç”µå­åˆåŒï¼‰**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;sequenceDiagram
participant A as å‘é€æ–¹
participant B as æ¥æ”¶æ–¹
A-&amp;raquo;A: ç”Ÿæˆæ–‡æ¡£å“ˆå¸Œå€¼ H
A-&amp;raquo;A: ç”¨ç§é’¥åŠ å¯† H â†’ ç­¾å S
A-&amp;raquo;B: å‘é€æ–‡æ¡£ + S
B-&amp;raquo;B: è®¡ç®—æ–‡æ¡£å“ˆå¸Œå€¼ H'
B-&amp;raquo;B: ç”¨Açš„å…¬é’¥è§£å¯† S â†’ å¾—åˆ° H
B-&amp;raquo;B: å¯¹æ¯” H å’Œ H&amp;rsquo;ï¼ˆä¸€è‡´åˆ™éªŒè¯é€šè¿‡ï¼‰&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### ğŸ’ **æ€»ç»“**
| **æ“ä½œæ¨¡å¼** | **å¯†é’¥ä½¿ç”¨** | **æ ¸å¿ƒç›®çš„** | **å…¸å‹åœºæ™¯** |
| ----------------------- | ------------------- | ---------------- | ----------------------- |
| **å…¬é’¥åŠ å¯† + ç§é’¥è§£å¯†** | å…¬é’¥åŠ å¯† â†’ ç§é’¥è§£å¯† | æ•°æ®ä¿å¯†æ€§ | HTTPSæ•°æ®ä¼ è¾“ã€åŠ å¯†é‚®ä»¶ |
| **ç§é’¥åŠ å¯† + å…¬é’¥è§£å¯†** | ç§é’¥ç­¾å â†’ å…¬é’¥éªŒè¯ | èº«ä»½è®¤è¯ä¸é˜²ç¯¡æ”¹ | æ•°å­—ç­¾åã€ä»£ç ç­¾å |
&amp;gt; **å…³é”®ç»“è®º**ï¼š
&amp;gt;
&amp;gt; - âœ… **æŠ€æœ¯ä¸Šå¯è¡Œ**ï¼šéå¯¹ç§°åŠ å¯†æ”¯æŒä¸¤ç§å¯†é’¥æ“ä½œæ–¹å‘ã€‚
&amp;gt;
&amp;gt; - âŒ **ç”¨é€”ä¸å¯æ··æ·†**ï¼šå…¬é’¥åŠ å¯†ç”¨äºä¿å¯†ï¼Œç§é’¥åŠ å¯†ç”¨äºç­¾åã€‚
&amp;gt;
&amp;gt; - ğŸ” **å®é™…å»ºè®®**ï¼š
&amp;gt;
&amp;gt; - å¤§æ•°æ®åŠ å¯†ç”¨å¯¹ç§°ç®—æ³•ï¼ˆå¦‚AESï¼‰ï¼Œéå¯¹ç§°ä»…ç”¨äºå¯†é’¥äº¤æ¢æˆ–ç­¾åã€‚
&amp;gt;- ç§é’¥å¿…é¡»ä¸¥æ ¼ä¿å¯†ï¼Œå…¬é’¥å¯è‡ªç”±åˆ†å‘ã€‚
éå¯¹ç§°åŠ å¯†çš„åŒå‘æ“ä½œç‰¹æ€§ï¼Œä½¿å…¶æˆä¸ºæ„å»ºæ•°å­—ä¿¡ä»»ï¼ˆå¦‚è¯ä¹¦ã€åŒºå—é“¾ï¼‰çš„åŸºçŸ³ï¼Œä½†éœ€ä¸¥æ ¼åŒºåˆ†åœºæ™¯ä»¥é¿å…è¯¯ç”¨ã€‚
## ç­¾åéªŒè¯
æ˜¯çš„ï¼Œæ‚¨çš„ç†è§£å®Œå…¨æ­£ç¡®ã€‚**ç§é’¥ç­¾åæœºåˆ¶çš„æ ¸å¿ƒä»·å€¼æ­£æ˜¯é€šè¿‡å“ˆå¸Œå€¼åŒ¹é…æ¥åŒæ—¶éªŒè¯æ•°æ®å®Œæ•´æ€§å’Œå…¬é’¥æ­£ç¡®æ€§**ï¼Œä¸”ä»»ä½•ä¸€æ–¹å‡ºç°é—®é¢˜ï¼ˆæ•°æ®è¢«ç¯¡æ”¹æˆ–å…¬é’¥é”™è¯¯ï¼‰éƒ½ä¼šå¯¼è‡´éªŒè¯å¤±è´¥ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è¯´æ˜ï¼š
------
### ğŸ” **æ•°å­—ç­¾åçš„éªŒè¯æœºåˆ¶**
#### **ç­¾åç”Ÿæˆè¿‡ç¨‹**
- å‘é€æ–¹æ“ä½œï¼š
- å¯¹åŸå§‹æ•°æ® `M` è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œç”Ÿæˆæ‘˜è¦ `H = Hash(M)`ã€‚
- ç”¨**ç§é’¥**åŠ å¯†æ‘˜è¦ `H`ï¼Œç”Ÿæˆæ•°å­—ç­¾å `S = Encrypt(pri_key, H)`ã€‚
- **ä¼ è¾“å†…å®¹**ï¼šå‘é€ `(M, S)` ç»™æ¥æ”¶æ–¹ã€‚
#### **ç­¾åéªŒè¯è¿‡ç¨‹**
- æ¥æ”¶æ–¹æ“ä½œï¼š
- è®¡ç®—æ¥æ”¶æ•°æ®çš„å“ˆå¸Œå€¼ï¼š`H&amp;#39; = Hash(M)`ã€‚
- ç”¨**å‘é€æ–¹å…¬é’¥**è§£å¯†ç­¾åï¼š`H = Decrypt(pub_key, S)`ã€‚
- æ¯”å¯¹å“ˆå¸Œå€¼ï¼š
- è‹¥ `H == H&amp;#39;` â†’ éªŒè¯é€šè¿‡ï¼ˆæ•°æ®å®Œæ•´ &amp;amp; å…¬é’¥æ­£ç¡®ï¼‰ã€‚
- è‹¥ `H â‰  H&amp;#39;` â†’ éªŒè¯å¤±è´¥ï¼ˆæ•°æ®è¢«ç¯¡æ”¹ **æˆ–** å…¬é’¥é”™è¯¯ï¼‰ã€‚
------
### âš ï¸ **éªŒè¯å¤±è´¥çš„åŸå› åˆ†æ**
#### **æ•°æ®å®Œæ•´æ€§ç ´å**
- ç¯¡æ”¹æ•°æ®å†…å®¹ï¼šæ”»å‡»è€…åœ¨ä¼ è¾“ä¸­ä¿®æ”¹
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;M&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;â†’ æ¥æ”¶æ–¹è®¡ç®—çš„
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;H'&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ä¸åŸå§‹
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;H&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; ä¸åŒã€‚
&amp;gt; **ç¤ºä¾‹**ï¼šåˆåŒé‡‘é¢ä» `10000å…ƒ` æ”¹ä¸º `100000å…ƒ`ï¼Œå“ˆå¸Œå€¼å®Œå…¨å˜åŒ–ã€‚
#### **å…¬é’¥é”™è¯¯æˆ–èº«ä»½ä¼ªé€ **
- å…¬é’¥è¢«æ›¿æ¢ï¼šæ”»å‡»è€…ä¼ªé€ å‘é€æ–¹èº«ä»½ï¼Œæä¾›è‡ªå·±çš„å…¬é’¥ â†’ æ¥æ”¶æ–¹ç”¨é”™è¯¯å…¬é’¥è§£å¯†ç­¾åï¼Œå¾—åˆ°çš„
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;H&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;æ— æ•ˆã€‚
&amp;gt; **ç¤ºä¾‹**ï¼šä¸­é—´äººæ”»å‡»ï¼ˆMITMï¼‰ä¸­ï¼Œæ”»å‡»è€…æ‹¦æˆªé€šä¿¡å¹¶æ›¿æ¢å…¬é’¥ï¼Œå¯¼è‡´æ¥æ”¶æ–¹è¯¯åˆ¤èº«ä»½ã€‚
#### **å…¶ä»–å¯èƒ½åŸå› **
- **ç­¾åç®—æ³•ä¸åŒ¹é…**ï¼šåŒæ–¹ä½¿ç”¨çš„å“ˆå¸Œç®—æ³•æˆ–åŠ å¯†ç®—æ³•ä¸ä¸€è‡´ï¼ˆå¦‚SHA-256 vs SHA-512ï¼‰ã€‚
- **ç§é’¥æ³„éœ²**ï¼šä»–äººå†’ç”¨å‘é€æ–¹ç§é’¥ç”Ÿæˆç­¾åï¼Œä½†æ¥æ”¶æ–¹ä½¿ç”¨çš„å…¬é’¥ä»æ­£ç¡®ï¼ˆæ­¤æ—¶éªŒè¯é€šè¿‡ä½†èº«ä»½éæ³•ï¼‰ã€‚
------
### ğŸŒ **å®é™…åº”ç”¨ä¸­çš„ä¿éšœæªæ–½**
#### **å…¬é’¥çœŸå®æ€§éªŒè¯**
- æ•°å­—è¯ä¹¦ï¼šé€šè¿‡CAæœºæ„ç»‘å®šå…¬é’¥ä¸æŒæœ‰è€…èº«ä»½ï¼Œæµè§ˆå™¨/ç³»ç»Ÿå†…ç½®å—ä¿¡ä»»æ ¹è¯ä¹¦éªŒè¯è¯ä¹¦é“¾ã€‚
&amp;gt; è‹¥è¯ä¹¦éªŒè¯å¤±è´¥ï¼ˆå¦‚åŸŸåä¸åŒ¹é…ã€CAæœªå—ä¿¡ï¼‰ï¼Œç›´æ¥ç»ˆæ­¢è¿æ¥ï¼Œé¿å…å…¬é’¥è¢«ä¼ªé€ ã€‚
#### **æŠ—ç¯¡æ”¹æŠ€æœ¯**
- **å¼ºå“ˆå¸Œç®—æ³•**ï¼šä½¿ç”¨SHA-256ã€SHA-3ç­‰æŠ—ç¢°æ’ç®—æ³•ï¼Œç¡®ä¿æ•°æ®å¾®è°ƒå³å¯¼è‡´å“ˆå¸Œå€¼å·¨å˜ã€‚
- **ä¼ è¾“åŠ å¯†**ï¼šåœ¨HTTPSç­‰åœºæ™¯ä¸­ï¼Œæ•°æ®å…ˆåŠ å¯†å†ä¼ è¾“ï¼Œé˜²æ­¢ä¸­é—´äººç¯¡æ”¹ã€‚
------
### ğŸ’ **æ€»ç»“ï¼šç­¾åéªŒè¯çš„åŒé‡ä¿æŠ¤**
| **éªŒè¯ç»“æœ** | **å«ä¹‰** | **æ ¹æœ¬åŸå› ** |
| ------------ | -------------------------- | -------------------------------- |
| **æˆåŠŸ** | æ•°æ®å®Œæ•´ &amp;amp; å…¬é’¥æ­£ç¡® | å“ˆå¸ŒåŒ¹é…ä¸”å…¬é’¥æ¥æºå¯ä¿¡ |
| **å¤±è´¥** | æ•°æ®è¢«ç¯¡æ”¹ **æˆ–** å…¬é’¥é”™è¯¯ | å“ˆå¸Œä¸åŒ¹é…ï¼ˆäºŒè€…è‡³å°‘å…¶ä¸€æœ‰é—®é¢˜ï¼‰ |
**ç»“è®º**ï¼š
- âœ… **æ‚¨çš„ç†è§£æ­£ç¡®**ï¼šæ•°å­—ç­¾åéªŒè¯æ˜¯ä¸€ä¸ª**åŒé‡æ ¡éªŒè¿‡ç¨‹**ï¼Œå“ˆå¸Œå€¼ä¸åŒ¹é…å¿…ç„¶æ„å‘³ç€æ•°æ®å†…å®¹æˆ–å…¬é’¥æ¥æºè‡³å°‘ä¸€æ–¹å­˜åœ¨é—®é¢˜ã€‚
- ğŸ” å®‰å…¨å»ºè®®ï¼š
- å§‹ç»ˆé€šè¿‡å¯ä¿¡æ¸ é“è·å–å…¬é’¥ï¼ˆå¦‚CAé¢å‘çš„è¯ä¹¦ï¼‰ã€‚
- ä½¿ç”¨å¼ºå“ˆå¸Œç®—æ³•ï¼ˆå¦‚SHA-256ï¼‰å’Œæ ‡å‡†ç­¾ååè®®ï¼ˆå¦‚RSA-PSSã€ECDSAï¼‰ã€‚
## RSA
RSAç®—æ³•æ˜¯**éå¯¹ç§°åŠ å¯†çš„åŸºçŸ³**ï¼Œç”±Ron Rivestã€Adi Shamirå’ŒLeonard Adlemanäº1977å¹´æå‡ºã€‚å…¶å®‰å…¨æ€§åŸºäº**å¤§æ•°åˆ†è§£çš„æ•°å­¦éš¾é¢˜**ï¼Œå³ä¸¤ä¸ªå¤§è´¨æ•°çš„ä¹˜ç§¯ï¼ˆæ¨¡æ•°nï¼‰åœ¨è®¡ç®—ä¸Šæéš¾åˆ†è§£ã€‚ä»¥ä¸‹ä»æ•°å­¦åŸç†ã€å®ç°æµç¨‹ã€åº”ç”¨åœºæ™¯åŠå®‰å…¨æ€§æŒ‘æˆ˜å±•å¼€å…¨é¢è§£æï¼š
------
### ğŸ”‘ **æ ¸å¿ƒæ•°å­¦åŸç†**
#### **è´¨æ•°ä¸äº’è´¨å…³ç³»**
- **è´¨æ•°**ï¼šå¤§äº1ä¸”åªèƒ½è¢«1å’Œè‡ªèº«æ•´é™¤çš„æ•°ï¼ˆå¦‚61ã€53ï¼‰ã€‚
- **äº’è´¨**ï¼šä¸¤æ•°æœ€å¤§å…¬çº¦æ•°ä¸º1ï¼ˆå¦‚8å’Œ9ï¼‰ã€‚
#### **æ¬§æ‹‰å‡½æ•°ï¼ˆÏ†(n)ï¼‰**
- å®šä¹‰ï¼šå°äºnä¸”ä¸näº’è´¨çš„æ­£æ•´æ•°ä¸ªæ•°ã€‚
- æ€§è´¨ï¼š
- è‹¥nä¸ºè´¨æ•°ï¼Œåˆ™Ï†(n) = n-1ã€‚
- è‹¥n = pÃ—qï¼ˆpã€qä¸ºè´¨æ•°ï¼‰ï¼Œåˆ™Ï†(n) = (p-1)(q-1)ã€‚
&amp;gt; **ç¤ºä¾‹**ï¼šp=61, q=53 â†’ n=3233, Ï†(n)=60Ã—52=3120ã€‚
#### **æ¨¡åå…ƒç´ **
- è‹¥æ•´æ•°aä¸näº’è´¨ï¼Œåˆ™å­˜åœ¨æ•´æ•°bæ»¡è¶³ aÂ·b â‰¡ 1 (mod n)ï¼Œbç§°ä¸ºaçš„æ¨¡åå…ƒç´ ã€‚
&amp;gt; **ç¤ºä¾‹**ï¼ša=7, n=20 â†’ b=3ï¼ˆå› 7Ã—3=21 â‰¡1 mod 20ï¼‰ã€‚
#### **æ¬§æ‹‰å®šç†**
- è‹¥aä¸näº’è´¨ï¼Œåˆ™ a^Ï†(n) â‰¡ 1 (mod n)ã€‚
&amp;gt; **RSAè§£å¯†ä¾æ®**ï¼šç”±æ¬§æ‹‰å®šç†å¯æ¨å¯¼å‡º c^d â‰¡ m (mod n) çš„è§£å¯†å…¬å¼ã€‚
------
### âš™ï¸ **ç®—æ³•å®ç°æµç¨‹**
#### **å¯†é’¥ç”Ÿæˆ**
| **æ­¥éª¤** | **è¯´æ˜** | **å…¬å¼/ç¤ºä¾‹** |
| ------------------- | ----------------------------------------- | ---------------------------- |
| é€‰æ‹©ä¸¤ä¸ªå¤§è´¨æ•° p, q | ä¿å¯† | p=61, q=53 |
| è®¡ç®—æ¨¡æ•° n | å…¬å¼€ | n = pÃ—q = 3233 |
| è®¡ç®—æ¬§æ‹‰å‡½æ•° Ï†(n) | ä¿å¯† | Ï†(n) = (p-1)(q-1) = 3120 |
| é€‰æ‹©å…¬é’¥æŒ‡æ•° e | éœ€ä¸Ï†(n)äº’è´¨ï¼Œé€šå¸¸é€‰65537ï¼ˆæ•ˆç‡é«˜ä¸”å®‰å…¨ï¼‰ | e=7ï¼ˆç¤ºä¾‹ç®€åŒ–å€¼ï¼‰ |
| è®¡ç®—ç§é’¥æŒ‡æ•° d | dæ˜¯eå…³äºÏ†(n)çš„æ¨¡åå…ƒç´  | d = eâ»Â¹ mod Ï†(n) = 3ï¼ˆç¤ºä¾‹ï¼‰ |
&amp;gt; **å¯†é’¥å¯¹**ï¼š
&amp;gt;
&amp;gt; - **å…¬é’¥**ï¼š(e, n) = (7, 3233)
&amp;gt; - **ç§é’¥**ï¼š(d, n) = (3, 3233)
#### **åŠ å¯†è¿‡ç¨‹**
- æ˜æ–‡méœ€æ»¡è¶³ 0 â‰¤ m &amp;lt; nï¼ˆè‹¥è¿‡é•¿éœ€åˆ†å—ï¼‰ã€‚
- å¯†æ–‡ c â‰¡ m^e (mod n)ã€‚
&amp;gt; **ç¤ºä¾‹**ï¼šm=4 â†’ c = 4â· mod 33 = 16ï¼ˆn=33ç®€åŒ–ï¼‰ã€‚
#### **è§£å¯†è¿‡ç¨‹**
- æ˜æ–‡ m â‰¡ c^d (mod n)ã€‚
&amp;gt; **ç¤ºä¾‹**ï¼šc=16 â†’ m = 16Â³ mod 33 = 4ã€‚
------
### ğŸŒ **åº”ç”¨åœºæ™¯**
#### **æ•°æ®åŠ å¯†**
- **æ•æ„Ÿä¿¡æ¯ä¿æŠ¤**ï¼šåŠ å¯†ä¿¡ç”¨å¡å·ã€é‚®ä»¶å†…å®¹ç­‰ã€‚
- **æ··åˆåŠ å¯†æ¨¡å¼**ï¼šRSAåŠ å¯†å¯¹ç§°å¯†é’¥ï¼ˆå¦‚AESå¯†é’¥ï¼‰ï¼Œå¯¹ç§°åŠ å¯†ä¼ è¾“æ•°æ®ã€‚
#### **æ•°å­—ç­¾å**
- **ç­¾åç”Ÿæˆ**ï¼šå‘é€æ–¹ç”¨ç§é’¥å¯¹æ¶ˆæ¯æ‘˜è¦ç­¾åã€‚
- **ç­¾åéªŒè¯**ï¼šæ¥æ”¶æ–¹ç”¨å…¬é’¥éªŒè¯ç­¾åçœŸå®æ€§ä¸å®Œæ•´æ€§ã€‚
#### **å®‰å…¨åè®®**
- **SSL/TLS**ï¼šæ¡æ‰‹é˜¶æ®µç”¨RSAäº¤æ¢å¯¹ç§°å¯†é’¥ï¼ˆå¦‚HTTPSï¼‰ã€‚
- **æ•°å­—è¯ä¹¦**ï¼šCAæœºæ„ç”¨ç§é’¥ç­¾å‘è¯ä¹¦ï¼Œæµè§ˆå™¨ç”¨å…¬é’¥éªŒè¯ã€‚
#### **èº«ä»½è®¤è¯**
- VPNç™»å½•ã€æ™ºèƒ½å¡ç­‰åœºæ™¯éªŒè¯ç”¨æˆ·èº«ä»½ã€‚
------
### âš ï¸ **å®‰å…¨æ€§ä¸æŒ‘æˆ˜**
#### **å®‰å…¨æ€§ä¾èµ–**
- **å¤§æ•°åˆ†è§£éš¾é¢˜**ï¼šç ´è§£RSAéœ€åˆ†è§£n=pÃ—qï¼Œå½“pã€qä¸º1024ä½ä»¥ä¸Šæ—¶ï¼Œä¼ ç»Ÿè®¡ç®—æœºéœ€æ•°ä¸‡å¹´ã€‚
- å¯†é’¥é•¿åº¦å»ºè®®ï¼š
| **å¯†é’¥é•¿åº¦** | **å®‰å…¨æ€§è¯„ä¼°** |
| ------------ | ------------------------------ |
| 1024ä½ | å·²ä¸æ¨èï¼ˆå¯è¢«å›½å®¶çº§åŠ›é‡ç ´è§£ï¼‰ |
| 2048ä½ | å½“å‰ä¸»æµæ ‡å‡† |
| 4096ä½ | é•¿æœŸé«˜å®‰å…¨éœ€æ±‚ |
#### **æ”»å‡»é£é™©**
- **é€‰æ‹©å¯†æ–‡æ”»å‡»**ï¼šè¯±å¯¼ç§é’¥æŒæœ‰è€…å¯¹ç‰¹å®šå¯†æ–‡è§£å¯†ã€‚
- **é‡å­è®¡ç®—å¨èƒ**ï¼šShorç®—æ³•å¯æŒ‡æ•°çº§åŠ é€Ÿå¤§æ•°åˆ†è§£ï¼Œå¨èƒRSAæ ¹åŸºï¼ˆä½†é‡å­è®¡ç®—æœºå°šæœªå®ç”¨åŒ–ï¼‰ã€‚
#### **é˜²æŠ¤æªæ–½**
- **å¡«å……æ–¹æ¡ˆ**ï¼šä½¿ç”¨OAEPå¡«å……é˜²æ­¢å¯†æ–‡ç¯¡æ”¹ã€‚
- **å¯†é’¥è½®æ¢**ï¼šå®šæœŸæ›´æ–°å¯†é’¥å‡å°‘æ³„éœ²é£é™©ã€‚
- **ç»“åˆå¯¹ç§°åŠ å¯†**ï¼šä»…ç”¨RSAä¼ å¯†é’¥ï¼Œæ•°æ®ç”¨AESåŠ å¯†ã€‚
------
### âš¡ **æ€§èƒ½ä¼˜åŒ–**
1. **ç®—æ³•åŠ é€Ÿ**
- **æ¨¡å¿«é€Ÿå¹‚ç®—æ³•**ï¼šä¼˜åŒ–å¤§æ•°å¹‚æ¨¡è¿ç®—ï¼ˆå¦‚å¹³æ–¹-ä¹˜ç®—æ³•ï¼‰ã€‚
- **ç¡¬ä»¶æ”¯æŒ**ï¼šä¸“ç”¨åŠ å¯†èŠ¯ç‰‡æå‡åŠ è§£å¯†é€Ÿåº¦ã€‚
2. **å®é™…é™åˆ¶**
- RSAåŠ å¯†é€Ÿåº¦æ¯”AESæ…¢1000å€ï¼Œä»…é€‚åˆå°æ•°æ®é‡ã€‚
- éœ€ä¸¥æ ¼æ§åˆ¶æ˜æ–‡é•¿åº¦ï¼ˆm &amp;lt; nï¼‰ï¼Œè¿‡é•¿éœ€åˆ†å—å¤„ç†ã€‚
------
### ğŸ’ **æ€»ç»“**
RSAä½œä¸º**éå¯¹ç§°åŠ å¯†çš„é‡Œç¨‹ç¢‘**ï¼Œé€šè¿‡**æ•°å­¦éš¾é¢˜æ„å»ºä¿¡ä»»**ï¼ˆå…¬é’¥å…¬å¼€ã€ç§é’¥ä¿å¯†ï¼‰ï¼Œæˆä¸ºæ•°å­—å®‰å…¨çš„æ ¸å¿ƒæ”¯æŸ±ã€‚å…¶åº”ç”¨ä»HTTPSåˆ°åŒºå—é“¾ï¼Œè¦†ç›–ç°ä»£é€šä¿¡å…¨åœºæ™¯ã€‚ç„¶è€Œï¼Œé¢å¯¹é‡å­è®¡ç®—ç­‰æ–°å…´å¨èƒï¼Œéœ€é‡‡ç”¨**æ›´é•¿å¯†é’¥ï¼ˆâ‰¥2048ä½ï¼‰**ã€**æ··åˆåŠ å¯†æ¶æ„**åŠ**æŠ—é‡å­ç®—æ³•ç ”ç©¶**ï¼ˆå¦‚åŸºäºæ ¼çš„åŠ å¯†ï¼‰ã€‚ç†è§£RSAä¸ä»…æ˜¯æŒæ¡å¯†ç å­¦åŸºç¡€ï¼Œæ›´æ˜¯æ„å»ºæœªæ¥å®‰å…¨ä½“ç³»çš„èµ·ç‚¹ã€‚
## ECC
### ğŸ” **ECCåŠ å¯†ç®—æ³•è¯¦è§£ï¼šåŸç†ã€ä¼˜åŠ¿ä¸åº”ç”¨**
ECCï¼ˆæ¤­åœ†æ›²çº¿å¯†ç å­¦ï¼‰æ˜¯ä¸€ç§åŸºäºæ¤­åœ†æ›²çº¿æ•°å­¦çš„å…¬é’¥åŠ å¯†æŠ€æœ¯ï¼Œç”±Neal Koblitzå’ŒVictor Milleräº1985å¹´ç‹¬ç«‹æå‡ºã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äº**ä»¥æ›´çŸ­çš„å¯†é’¥æä¾›ä¸ä¼ ç»Ÿç®—æ³•ï¼ˆå¦‚RSAï¼‰ç›¸å½“ç”šè‡³æ›´é«˜çš„å®‰å…¨æ€§**ï¼ŒåŒæ—¶è®¡ç®—æ•ˆç‡æ›´é«˜ï¼Œç‰¹åˆ«é€‚åˆèµ„æºå—é™çš„åœºæ™¯ï¼ˆå¦‚ç‰©è”ç½‘ã€ç§»åŠ¨è®¾å¤‡ï¼‰ã€‚ä»¥ä¸‹ä»æ•°å­¦åŸç†ã€å·¥ä½œæµç¨‹ã€ä¼˜åŠ¿å¯¹æ¯”ã€åº”ç”¨åœºæ™¯åŠæŒ‘æˆ˜äº”ä¸ªç»´åº¦å±•å¼€åˆ†æã€‚
------
### ğŸ”¢ **æ•°å­¦åŸºç¡€ï¼šæ¤­åœ†æ›²çº¿ä¸ç¦»æ•£å¯¹æ•°é—®é¢˜**
#### **æ¤­åœ†æ›²çº¿å®šä¹‰**
åœ¨æœ‰é™åŸŸï¼ˆä¼½ç½—ç“¦åŸŸï¼‰ä¸Šï¼Œæ¤­åœ†æ›²çº¿æ»¡è¶³æ–¹ç¨‹ï¼š
`y^2 = x^3 + ax + b`
å…¶ä¸­ `a, b` ä¸ºå¸¸æ•°ï¼Œä¸”æ»¡è¶³ `4a^3 + 27b^2 \neq 0`ï¼ˆé¿å…å¥‡ç‚¹ï¼‰ã€‚æ›²çº¿ä¸Šçš„ç‚¹æ„æˆä¸€ä¸ª**é˜¿è´å°”ç¾¤**ï¼Œæ”¯æŒä¸¤ç§è¿ç®—ï¼š
- **ç‚¹åŠ æ³•**ï¼ˆPoint Additionï¼‰ï¼š`P + Q = R`ï¼ˆéå‚ç›´ç›¸äº¤ç‚¹ï¼‰
- **å€ä¹˜**ï¼ˆPoint Doublingï¼‰ï¼š`2P = P + P`ï¼ˆåˆ‡çº¿å»¶ä¼¸ç‚¹ï¼‰ã€‚
#### **å¯†é’¥ç”Ÿæˆæœºåˆ¶**
- **ç§é’¥**ï¼šéšæœºæ•´æ•° `k`ï¼ˆ`1 \leq k &amp;lt; n`ï¼Œ`n` ä¸ºåŸºç‚¹ `G` çš„é˜¶ï¼‰
- **å…¬é’¥**ï¼šç‚¹ `Q = k \cdot G`ï¼ˆé€šè¿‡å€ä¹˜è¿ç®—ç”Ÿæˆï¼‰ã€‚
â€‹**å®‰å…¨æ€§ä¾èµ–**â€‹ï¼šæ¤­åœ†æ›²çº¿ç¦»æ•£å¯¹æ•°é—®é¢˜ï¼ˆECDLPï¼‰â€”â€”å·²çŸ¥ `Q` å’Œ `G`ï¼Œæ±‚ `k` åœ¨è®¡ç®—ä¸Šä¸å¯è¡Œï¼ˆä¼ ç»Ÿè®¡ç®—æœºéœ€æ•°ä¸‡å¹´ï¼‰ã€‚
------
### âš™ï¸ **å·¥ä½œæµç¨‹ï¼šåŠ å¯†ã€è§£å¯†ä¸ç­¾å**
#### **åŠ å¯†ä¸è§£å¯†**
- **åŠ å¯†**ï¼ˆå‘é€æ–¹ï¼‰ï¼š
æ˜æ–‡ `M` ç¼–ç ä¸ºæ›²çº¿ä¸Šçš„ç‚¹ â†’ é€‰æ‹©éšæœºæ•° `r` â†’ è®¡ç®—ï¼š
`C_1 = r \cdot G, \quad C_2 = M + r \cdot Q_{\text{æ¥æ”¶æ–¹}}`
å¯†æ–‡ä¸º `(C_1, C_2)` ã€‚
- **è§£å¯†**ï¼ˆæ¥æ”¶æ–¹ï¼‰ï¼š
ä½¿ç”¨ç§é’¥ `k` è®¡ç®—ï¼š
`M = C_2 - k \cdot C_1`ã€‚
#### **æ•°å­—ç­¾åï¼ˆECDSAï¼‰**
- **ç­¾å**ï¼š
ç”Ÿæˆéšæœºæ•° `r` â†’ è®¡ç®— `R = r \cdot G` â†’ å“ˆå¸Œæ¶ˆæ¯ `h = \text{Hash}(M)` â†’ è®¡ç®—ç­¾å `s = r^{-1}(h + k \cdot R_x) \mod n`
ç­¾åä¸º `(R_x, s)` ã€‚
- **éªŒè¯**ï¼š
è®¡ç®— `u_1 = s^{-1} \cdot h \mod n`ï¼Œ`u_2 = s^{-1} \cdot R_x \mod n` â†’ éªŒè¯ç‚¹ `u_1 \cdot G + u_2 \cdot Q` çš„æ¨ªåæ ‡æ˜¯å¦ç­‰äº `R_x` ã€‚
------
### ğŸ“Š **æ ¸å¿ƒä¼˜åŠ¿ï¼šæ•ˆç‡ä¸å®‰å…¨æ€§å¯¹æ¯”**
#### **å¯†é’¥é•¿åº¦ä¼˜åŠ¿**
| **å®‰å…¨çº§åˆ«ï¼ˆæ¯”ç‰¹ï¼‰** | **RSAå¯†é’¥é•¿åº¦** | **ECCå¯†é’¥é•¿åº¦** |
| ------------------------------------------------------------ | --------------- | --------------- |
| 80 | 1024 | 160 |
| 128 | 3072 | 256 |
| 256 | 15360 | 512 |
| **è¯´æ˜**ï¼šæ›´çŸ­çš„å¯†é’¥å‡å°‘å­˜å‚¨å’Œä¼ è¾“å¼€é”€ï¼Œæå‡è®¡ç®—é€Ÿåº¦ï¼ˆECCåŠ å¯†é€Ÿåº¦æ¯”RSAå¿«5-10å€ï¼‰ã€‚ | | |
#### **æ€§èƒ½ä¼˜åŠ¿åœºæ™¯**
- **ç§»åŠ¨è®¾å¤‡/ç‰©è”ç½‘**ï¼šä½åŠŸè€—ã€å°å†…å­˜éœ€æ±‚ï¼ˆå¦‚æ™ºèƒ½å®¶å±…ä¼ æ„Ÿå™¨ï¼‰ã€‚
- **é«˜é¢‘äº¤æ˜“**ï¼šæ¯”ç‰¹å¸ä½¿ç”¨ `secp256k1` æ›²çº¿å¤„ç†æ¯ç§’æ•°åƒç¬”ç­¾åã€‚
- **å¸¦å®½æ•æ„Ÿåœºæ™¯**ï¼šæ— çº¿é€šä¿¡ï¼ˆWPA3æ ‡å‡†é‡‡ç”¨ECCè®¤è¯ï¼‰ã€‚
------
### ğŸŒ **åº”ç”¨åœºæ™¯ä¸æ ‡å‡†åŒ–æ›²çº¿**
#### **ä¸»æµåº”ç”¨é¢†åŸŸ**
| **åœºæ™¯** | **å…·ä½“æ¡ˆä¾‹** |
| -------------- | ------------------------------------ |
| **å®‰å…¨é€šä¿¡** | TLS/SSLï¼ˆå¦‚ç½‘ç«™HTTPSï¼‰ã€VPNï¼ˆIPsecï¼‰ |
| **æ•°å­—ç­¾å** | æ¯”ç‰¹å¸ï¼ˆECDSAï¼‰ã€ç”µå­åˆåŒã€ä»£ç ç­¾å |
| **èº«ä»½è®¤è¯** | æ™ºèƒ½å¡ã€ç”Ÿç‰©è¯†åˆ«ç³»ç»Ÿ |
| **åŠ å¯†è´§å¸** | æ¯”ç‰¹å¸ï¼ˆsecp256k1ï¼‰ã€ä»¥å¤ªåŠ |
| **ç‰©è”ç½‘å®‰å…¨** | è®¾å¤‡é—´åŠ å¯†é€šä¿¡ï¼ˆå¦‚æ™ºèƒ½ç”µç½‘ï¼‰ |
#### **æ ‡å‡†åŒ–æ¤­åœ†æ›²çº¿**
- **NISTæ›²çº¿**ï¼šP-256ã€P-384ï¼ˆæ”¿åºœ/é‡‘èé¢†åŸŸï¼‰ã€‚
- **Curve25519**ï¼šé«˜æ•ˆå¯†é’¥äº¤æ¢ï¼ˆECDHï¼‰ã€‚
- **secp256k1**ï¼šæ¯”ç‰¹å¸ä¸“ç”¨æ›²çº¿ã€‚
- **Brainpoolæ›²çº¿**ï¼šæ¬§æ´²æ ‡å‡†ï¼Œæ›¿ä»£NISTæ–¹æ¡ˆã€‚
------
### âš ï¸ **æŒ‘æˆ˜ä¸æœªæ¥è¶‹åŠ¿**
#### **å®‰å…¨é£é™©ä¸å¯¹ç­–**
- **é‡å­è®¡ç®—å¨èƒ**ï¼šShorç®—æ³•å¯ç ´è§£ECDLPï¼ˆä½†éœ€å¤§è§„æ¨¡é‡å­è®¡ç®—æœºï¼Œå°šæœªå®ç”¨ï¼‰â†’ å¯¹ç­–ï¼šç ”ç©¶**åé‡å­å¯†ç **ï¼ˆå¦‚åŸºäºæ ¼çš„æ··åˆæ–¹æ¡ˆï¼‰ã€‚
- **ä¾§ä¿¡é“æ”»å‡»**ï¼šé€šè¿‡åŠŸè€—/æ—¶åºåˆ†æçªƒå–ç§é’¥ â†’ å¯¹ç­–ï¼šæ’å®šæ—¶é—´ç®—æ³•ã€ç¡¬ä»¶éš”ç¦»ã€‚
- **å®ç°æ¼æ´**ï¼šéšæœºæ•°ç”Ÿæˆç¼ºé™·å¯¼è‡´ç§é’¥æ³„éœ² â†’ å¯¹ç­–ï¼šä½¿ç”¨å®‰å…¨éšæœºæºï¼ˆå¦‚ç¡¬ä»¶RNGï¼‰ã€‚
#### **æœªæ¥å‘å±•æ–¹å‘**
- **åé‡å­ECC**ï¼šèåˆæŠ—é‡å­ç®—æ³•ï¼ˆå¦‚Supersingular Isogeny Diffie-Hellmanï¼‰ã€‚
- **æ ‡å‡†åŒ–æ‰©å±•**ï¼šæ¨åŠ¨æ›´å®‰å…¨çš„æ›²çº¿ï¼ˆå¦‚Curve448ï¼‰å’Œåè®®ï¼ˆå¦‚TLS 1.3ï¼‰ã€‚
- **æ–°å…´é¢†åŸŸ**ï¼š5Gå®‰å…¨ã€è‡ªåŠ¨é©¾é©¶æ±½è½¦é€šä¿¡ã€åŒºå—é“¾éšç§ä¿æŠ¤ã€‚
------
### ğŸ’ **æ€»ç»“**
ECCå‡­å€Ÿ**çŸ­å¯†é’¥ã€é«˜æ•ˆç‡ã€é«˜å®‰å…¨**çš„ç‰¹æ€§ï¼Œå·²æˆä¸ºç°ä»£å¯†ç å­¦çš„æ ¸å¿ƒã€‚å…¶æ•°å­¦åŸºç¡€ï¼ˆECDLPéš¾é¢˜ï¼‰å’Œå·¥ç¨‹ä¼˜åŒ–ï¼ˆå¦‚ç‚¹å‹ç¼©ç®—æ³•ï¼‰ä½¿å…¶åœ¨ç‰©è”ç½‘ã€é‡‘èã€åŒºå—é“¾ç­‰åœºæ™¯ä¸å¯æ›¿ä»£ã€‚å°½ç®¡é¢ä¸´é‡å­è®¡ç®—ç­‰æŒ‘æˆ˜ï¼Œä½†é€šè¿‡**æ··åˆåŠ å¯†æ¶æ„**å’Œ**æ ‡å‡†åŒ–æ¼”è¿›**ï¼ŒECCå°†ç»§ç»­ä¸»å¯¼é«˜æ•ˆå®‰å…¨é€šä¿¡çš„æœªæ¥ã€‚
&amp;gt; **é™„ï¼šECC vs RSA å…³é”®æŒ‡æ ‡å¯¹æ¯”**
&amp;gt;
&amp;gt; | **æŒ‡æ ‡** | **ECC** | **RSA** |
&amp;gt; | ------------ | -------------------- | ------------------------ |
&amp;gt; | åŒçº§å®‰å…¨å¯†é’¥ | 256ä½ | 3072ä½ |
&amp;gt; | ç­¾åé€Ÿåº¦ | å¿«5å€ | æ…¢ |
&amp;gt; | å†…å­˜å ç”¨ | ä½ï¼ˆé€‚åˆåµŒå…¥å¼è®¾å¤‡ï¼‰ | é«˜ |
&amp;gt; | é‡å­å¨èƒ | å­˜åœ¨ï¼ˆéœ€æ–°æ–¹æ¡ˆï¼‰ | æ›´ä¸¥é‡ï¼ˆå¤§æ•°åˆ†è§£æ˜“ç ´è§£ï¼‰ |
## ECDHE
ECDHEï¼ˆElliptic Curve Diffie-Hellman Ephemeralï¼Œæ¤­åœ†æ›²çº¿è¿ªè²-èµ«å°”æ›¼ä¸´æ—¶å¯†é’¥äº¤æ¢ï¼‰æ˜¯ä¸€ç§åŸºäºæ¤­åœ†æ›²çº¿å¯†ç å­¦ï¼ˆECCï¼‰çš„å¯†é’¥åå•†åè®®ï¼Œå¹¿æ³›åº”ç”¨äºTLS/SSLç­‰å®‰å…¨é€šä¿¡åœºæ™¯ä¸­ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯åœ¨é€šä¿¡åŒæ–¹ä¹‹é—´å®‰å…¨åœ°ç”Ÿæˆå…±äº«å¯†é’¥ï¼ŒåŒæ—¶æä¾›**å‰å‘ä¿å¯†æ€§**ï¼ˆPerfect Forward Secrecy, PFSï¼‰ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒåŸç†ä¸ç‰¹æ€§çš„è¯¦ç»†è§£æï¼š
------
### ğŸ”‘ **æ ¸å¿ƒåŸç†**
#### **æ•°å­¦åŸºç¡€ï¼šæ¤­åœ†æ›²çº¿å¯†ç å­¦ï¼ˆECCï¼‰**
- **æ¤­åœ†æ›²çº¿ç¦»æ•£å¯¹æ•°é—®é¢˜ï¼ˆECDLPï¼‰**ï¼šå·²çŸ¥æ¤­åœ†æ›²çº¿ä¸Šçš„åŸºç‚¹ `G` å’Œå…¬é’¥ `Q = k \cdot G`ï¼ˆ`k` ä¸ºç§é’¥ï¼‰ï¼Œåå‘æ±‚è§£ `k` åœ¨è®¡ç®—ä¸Šä¸å¯è¡Œã€‚
- **é«˜æ•ˆæ€§ä¸å®‰å…¨æ€§**ï¼šç›¸æ¯”ä¼ ç»ŸRSAæˆ–æœ‰é™åŸŸDiffie-Hellmanï¼ˆDHï¼‰ï¼ŒECCåœ¨æ›´çŸ­çš„å¯†é’¥é•¿åº¦ä¸‹æä¾›åŒç­‰å®‰å…¨æ€§ï¼ˆå¦‚256ä½ECC â‰ˆ 3072ä½RSAï¼‰ã€‚
#### **å¯†é’¥åå•†æµç¨‹**
å‡è®¾å®¢æˆ·ç«¯ï¼ˆCï¼‰å’ŒæœåŠ¡ç«¯ï¼ˆSï¼‰åå•†å…±äº«å¯†é’¥ï¼š
- **æ­¥éª¤1**ï¼šåŒæ–¹çº¦å®šå…¬å…±å‚æ•°ï¼ˆæ¤­åœ†æ›²çº¿åç§°ã€åŸºç‚¹ `G`ï¼‰ã€‚
- æ­¥éª¤2ï¼š
- Cç”Ÿæˆéšæœºç§é’¥ `a`ï¼Œè®¡ç®—å…¬é’¥ `A = a \cdot G`ï¼Œå‘é€ `A` ç»™ Sã€‚
- Sç”Ÿæˆéšæœºç§é’¥ `b`ï¼Œè®¡ç®—å…¬é’¥ `B = b \cdot G`ï¼Œå‘é€ `B` ç»™ Cã€‚
- æ­¥éª¤3ï¼š
- Cè®¡ç®—å…±äº«å¯†é’¥ `S = a \cdot B = a \cdot (b \cdot G)`ã€‚
- Sè®¡ç®—å…±äº«å¯†é’¥ `S = b \cdot A = b \cdot (a \cdot G)`ã€‚
ç”±äºæ¤­åœ†æ›²çº¿ç‚¹ä¹˜æ»¡è¶³äº¤æ¢å¾‹ï¼Œ`a \cdot b \cdot G = b \cdot a \cdot G`ï¼ŒåŒæ–¹å¾—åˆ°ç›¸åŒçš„ `S`ã€‚
- **è¾“å‡º**ï¼š`S` ä½œä¸ºé¢„ä¸»å¯†é’¥ï¼ˆPre-Master Secretï¼‰ï¼Œè¿›ä¸€æ­¥æ´¾ç”Ÿæˆä¼šè¯å¯†é’¥ã€‚
------
### ğŸ›¡ï¸ **æ ¸å¿ƒä¼˜åŠ¿ï¼šå‰å‘ä¿å¯†æ€§ï¼ˆPFSï¼‰**
- **ä¸´æ—¶å¯†é’¥ï¼ˆEphemeralï¼‰**ï¼šæ¯æ¬¡ä¼šè¯ç”Ÿæˆ**æ–°çš„éšæœºç§é’¥**ï¼ˆ`a` å’Œ `b`ï¼‰ï¼Œä¼šè¯ç»“æŸåç«‹å³é”€æ¯ã€‚
- å®‰å…¨æ„ä¹‰ï¼š
- å³ä½¿æ”»å‡»è€…é•¿æœŸçªƒå¬å¹¶äº‹åç ´è§£æœåŠ¡å™¨ç§é’¥ï¼Œä¹Ÿæ— æ³•è§£å¯†å†å²é€šä¿¡ï¼ˆå› æ¯æ¬¡ä¼šè¯å¯†é’¥ç‹¬ç«‹ç”Ÿæˆï¼‰ã€‚
- å¯¹æ¯”RSAå¯†é’¥äº¤æ¢ï¼šè‹¥æœåŠ¡å™¨ç§é’¥æ³„éœ²ï¼Œæ‰€æœ‰å†å²é€šä¿¡å‡å¯è¢«è§£å¯†ã€‚
------
### âš¡ï¸ **ECDHE vs. å…¶ä»–å¯†é’¥äº¤æ¢åè®®**
| **ç®—æ³•** | **åŸºç¡€åŸç†** | **å‰å‘ä¿å¯†** | **æ•ˆç‡** | **å¯†é’¥é•¿åº¦** |
| --------- | ---------------- | ------------ | ---------------- | ---------------- |
| **ECDHE** | æ¤­åœ†æ›²çº¿ç¦»æ•£å¯¹æ•° | âœ… æ˜¯ | âš¡ï¸ é«˜ï¼ˆè®¡ç®—é‡å°ï¼‰ | çŸ­ï¼ˆ256ä½ï¼‰ |
| **DHE** | æœ‰é™åŸŸç¦»æ•£å¯¹æ•° | âœ… æ˜¯ | âš ï¸ ä½ï¼ˆè®¡ç®—é‡å¤§ï¼‰ | é•¿ï¼ˆ2048ä½ä»¥ä¸Šï¼‰ |
| **ECDH** | æ¤­åœ†æ›²çº¿ç¦»æ•£å¯¹æ•° | âŒ å¦ | âš¡ï¸ é«˜ | çŸ­ï¼ˆ256ä½ï¼‰ |
| **RSA** | å¤§æ•°åˆ†è§£éš¾é¢˜ | âŒ å¦ | âš¡ï¸ ä¸­ | é•¿ï¼ˆ3072ä½ï¼‰ |
- **ä¸ECDHçš„åŒºåˆ«**ï¼š
ECDHä½¿ç”¨**å›ºå®šå¯†é’¥**â€‹ï¼ˆå¦‚è¯ä¹¦ä¸­çš„å…¬é’¥ï¼‰ï¼Œç¼ºä¹å‰å‘ä¿å¯†ï¼›ECDHEé€šè¿‡ä¸´æ—¶å¯†é’¥å®ç°PFSã€‚
- **ä¸DHEçš„åŒºåˆ«**ï¼š
DHEåŸºäºå¤§ç´ æ•°æ¨¡è¿ç®—ï¼Œè®¡ç®—å¼€é”€å¤§ï¼›ECDHEé€šè¿‡æ¤­åœ†æ›²çº¿ä¼˜åŒ–ï¼Œé€Ÿåº¦å¿«3-10å€ã€‚
------
### ğŸŒ **åº”ç”¨åœºæ™¯**
1.
TLS/SSLæ¡æ‰‹
ï¼ˆä¸»æµåº”ç”¨ï¼‰ï¼š
- åœ¨TLS 1.2/1.3ä¸­ï¼ŒECDHEæ˜¯é»˜è®¤å¯†é’¥äº¤æ¢ç®—æ³•ã€‚
- æµç¨‹ç¤ºä¾‹
ï¼ˆTLS 1.2ï¼‰ï¼š
- Client Hello â†’ Server Helloï¼ˆå«è¯ä¹¦ï¼‰â†’ **Server Key Exchange**ï¼ˆå‘é€æœåŠ¡ç«¯ECDHEå…¬é’¥ï¼‰â†’ Client Key Exchangeï¼ˆå‘é€å®¢æˆ·ç«¯ECDHEå…¬é’¥ï¼‰â†’ ç”Ÿæˆå…±äº«å¯†é’¥ã€‚
2. **HTTPSåŠ å¯†**ï¼š
ä¿æŠ¤ç½‘ç«™æ•°æ®ä¼ è¾“ï¼ˆå¦‚é“¶è¡Œã€ç”µå•†å¹³å°ï¼‰ã€‚
3. **VPN/IPSec**ï¼š
ç”¨äºå»ºç«‹å®‰å…¨éš§é“ï¼Œç¡®ä¿é€šä¿¡ç«¯ç‚¹èº«ä»½å¯ä¿¡ã€‚
------
### âš ï¸ **æ³¨æ„äº‹é¡¹**
1. **ä¾èµ–å¯ä¿¡è¯ä¹¦**ï¼š
ECDHEå…¬é’¥éœ€é€šè¿‡æ•°å­—è¯ä¹¦éªŒè¯èº«ä»½ï¼Œå¦åˆ™å¯èƒ½é­å—ä¸­é—´äººæ”»å‡»ï¼ˆMITMï¼‰ã€‚
2.
ç®—æ³•æ”¯æŒï¼š
- æ—§ç³»ç»Ÿï¼ˆå¦‚IBM JDK 6ï¼‰éœ€æ‰‹åŠ¨å¯ç”¨ECDHEã€‚
- TLS 1.3å·²å¼ºåˆ¶ä½¿ç”¨ECDHEï¼Œå¹¶åºŸé™¤éPFSç®—æ³•ï¼ˆå¦‚RSAï¼‰ã€‚
3. **é‡å­è®¡ç®—å¨èƒ**ï¼š
ECDHEç›®å‰æŠ—é‡å­è®¡ç®—èƒ½åŠ›ä¼˜äºRSAï¼Œä½†æœªæ¥å¯èƒ½è¢«Shorç®—æ³•ç ´è§£ï¼›åé‡å­å¯†ç å­¦ï¼ˆå¦‚NTRUï¼‰æ˜¯æ¼”è¿›æ–¹å‘ã€‚
------
### ğŸ’ **æ€»ç»“**
ECDHEé€šè¿‡**æ¤­åœ†æ›²çº¿æ•°å­¦+ä¸´æ—¶å¯†é’¥**ï¼Œè§£å†³äº†å¯†é’¥å®‰å…¨äº¤æ¢ä¸å†å²é€šä¿¡ä¿æŠ¤ä¸¤å¤§æ ¸å¿ƒé—®é¢˜ã€‚å…¶é«˜æ•ˆæ€§ä¸å‰å‘ä¿å¯†æ€§ä½¿å…¶æˆä¸ºç°ä»£TLSåè®®çš„åŸºçŸ³ï¼Œä»HTTPSåˆ°ç‰©è”ç½‘å®‰å…¨å‡ä¾èµ–è¿™ä¸€æœºåˆ¶ã€‚è€Œç†è§£å…¶åŸç†ï¼Œå¯¹å¼€å‘å®‰å…¨é€šä¿¡ç³»ç»Ÿã€ä¼˜åŒ–æ€§èƒ½åŠåº”å¯¹æœªæ¥å¨èƒï¼ˆå¦‚é‡å­è®¡ç®—ï¼‰è‡³å…³é‡è¦ã€‚
## SHA
SHAï¼ˆSecure Hash Algorithmï¼Œå®‰å…¨æ•£åˆ—ç®—æ³•ï¼‰æ˜¯ç”±ç¾å›½å›½å®¶å®‰å…¨å±€ï¼ˆNSAï¼‰è®¾è®¡ã€ç¾å›½å›½å®¶æ ‡å‡†ä¸æŠ€æœ¯ç ”ç©¶é™¢ï¼ˆNISTï¼‰å‘å¸ƒçš„ä¸€ç³»åˆ—å¯†ç å­¦å“ˆå¸Œå‡½æ•°ï¼Œç”¨äºå°†ä»»æ„é•¿åº¦çš„æ•°æ®è½¬æ¢ä¸ºå›ºå®šé•¿åº¦çš„å”¯ä¸€å“ˆå¸Œå€¼ï¼ˆåˆç§°æ¶ˆæ¯æ‘˜è¦ï¼‰ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒè¦ç‚¹ï¼š
------
### ğŸ”‘ **æ ¸å¿ƒç‰¹æ€§**
1.
å•å‘æ€§
- ä»åŸå§‹æ•°æ®ç”Ÿæˆå“ˆå¸Œå€¼å®¹æ˜“ï¼Œä½†ä»å“ˆå¸Œå€¼åæ¨åŸå§‹æ•°æ®åœ¨è®¡ç®—ä¸Šä¸å¯è¡Œã€‚
2.
æŠ—ç¢°æ’æ€§
- æ‰¾åˆ°ä¸¤ä¸ªä¸åŒè¾“å…¥äº§ç”Ÿç›¸åŒå“ˆå¸Œå€¼çš„æ¦‚ç‡æä½ï¼ˆä¾‹å¦‚SHA-256éœ€çº¦2Â¹Â²â¸æ¬¡å°è¯•ï¼‰ã€‚
3.
é›ªå´©æ•ˆåº”
- è¾“å…¥æ•°æ®çš„å¾®å°å˜åŒ–ï¼ˆå¦‚1æ¯”ç‰¹ï¼‰ä¼šå¯¼è‡´è¾“å‡ºå“ˆå¸Œå€¼å®Œå…¨ä¸åŒã€‚
------
### âš™ï¸ **ä¸»è¦ç®—æ³•ç‰ˆæœ¬**
| **ç®—æ³•** | **è¾“å‡ºé•¿åº¦** | **å®‰å…¨æ€§** | **åº”ç”¨ç°çŠ¶** |
| --------- | ----------------- | --------------------------------- | --------------------------- |
| **SHA-0** | 160ä½ | âŒ å·²ç ´è§£ï¼ˆç¢°æ’æ”»å‡»ä»…éœ€2âµÂ¹æ¬¡è®¡ç®—ï¼‰ | 1993å¹´å‘å¸ƒåè¢«æ’¤å› |
| **SHA-1** | 160ä½ | âŒ é«˜å±ï¼ˆ2017å¹´è¢«Googleæ”»ç ´ï¼‰ | é€æ­¥æ·˜æ±°ï¼ˆå¦‚TLS 1.2å·²å¼ƒç”¨ï¼‰ |
| **SHA-2** | 224/256/384/512ä½ | âœ… å®‰å…¨ï¼ˆç›®å‰æ— æœ‰æ•ˆæ”»å‡»ï¼‰ | ä¸»æµé€‰æ‹©ï¼ˆå¦‚TLSã€æ¯”ç‰¹å¸ï¼‰ |
| **SHA-3** | å¯å˜ï¼ˆ224~512ä½ï¼‰ | âœ… æ›´é«˜å®‰å…¨ï¼ˆåŸºäºKeccakæ–°ç»“æ„ï¼‰ | é«˜å®‰å…¨åœºæ™¯ï¼ˆæ”¿åºœã€é‡‘èï¼‰ |
&amp;gt; **æ³¨**ï¼š
&amp;gt;
&amp;gt; - **SHA-2** åŒ…å«å¤šä¸ªå˜ä½“ï¼ˆå¦‚SHA-256ã€SHA-512ï¼‰ï¼Œé‡‡ç”¨ç±»ä¼¼SHA-1çš„Merkle-DamgÃ¥rdç»“æ„ä½†å¼ºåŒ–äº†å®‰å…¨æ€§ã€‚
&amp;gt; - **SHA-3** ä½¿ç”¨æµ·ç»µç»“æ„ï¼ˆSponge Constructionï¼‰ï¼Œå½»åº•è§„é¿SHA-1/2çš„è®¾è®¡ç¼ºé™·ã€‚
------
### ğŸŒ **å…¸å‹åº”ç”¨åœºæ™¯**
1.
æ•°æ®å®Œæ•´æ€§æ ¡éªŒ
- æ–‡ä»¶ä¼ è¾“åæ¯”å¯¹å“ˆå¸Œå€¼ï¼Œæ£€æµ‹ç¯¡æ”¹ï¼ˆå¦‚è½¯ä»¶ä¸‹è½½é¡µæä¾›SHA-256æ ¡éªŒç ï¼‰ã€‚
2.
æ•°å­—ç­¾å
- å¯¹æ¶ˆæ¯ç”Ÿæˆå“ˆå¸Œå€¼ï¼Œå†ç”¨ç§é’¥åŠ å¯†ç”Ÿæˆç­¾åï¼ˆå¦‚RSA-SHA256ï¼‰ã€‚
3.
å¯†ç å­˜å‚¨
- æ•°æ®åº“å­˜å‚¨å¯†ç çš„å“ˆå¸Œå€¼ï¼ˆéœ€é…åˆç›å€¼æŠµå¾¡å½©è™¹è¡¨æ”»å‡»ï¼‰ã€‚
4.
åŒºå—é“¾ä¸åŠ å¯†è´§å¸
- æ¯”ç‰¹å¸ä½¿ç”¨SHA-256è®¡ç®—åŒºå—å“ˆå¸Œï¼Œç¡®ä¿äº¤æ˜“ä¸å¯ç¯¡æ”¹ã€‚
5.
å®‰å…¨é€šä¿¡åè®®
- TLSæ¡æ‰‹é˜¶æ®µç”¨SHA-256éªŒè¯è¯ä¹¦å’Œæ¶ˆæ¯å®Œæ•´æ€§ã€‚
------
### âš ï¸ **å®‰å…¨æ³¨æ„äº‹é¡¹**
1.
é¿å…ä½¿ç”¨SHA-1/MD5
- SHA-1çš„ç¢°æ’æ”»å‡»å·²å®ç”¨åŒ–ï¼ˆå¦‚ç”Ÿæˆç›¸åŒå“ˆå¸Œå€¼çš„ä¸åŒPDFæ–‡ä»¶ï¼‰ã€‚
2.
å¯†é’¥ç®¡ç†
- HMAC-SHA256ç­‰éœ€ä¿æŠ¤å¯†é’¥ï¼Œé˜²æ­¢é‡æ”¾æ”»å‡»ï¼ˆå¦‚ç”¨æ—¶é—´æˆ³+éšæœºæ•°ï¼‰ã€‚
3.
é‡å­è®¡ç®—å¨èƒ
- SHA-256ç›®å‰æŠ—é‡å­æ”»å‡»ï¼Œä½†æœªæ¥å¯èƒ½éœ€è¦è¿ç§»è‡³SHA-3æˆ–æ›´é•¿å“ˆå¸Œï¼ˆå¦‚SHA-512ï¼‰ã€‚
------
### ğŸ’» **ä»£ç ç¤ºä¾‹ï¼ˆSHA-256è®¡ç®—ï¼‰**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;import java.security.MessageDigest;&lt;/p&gt;
&lt;p&gt;public class SHAExample {
public static String sha256(String input) throws Exception {
MessageDigest digest = MessageDigest.getInstance(&amp;ldquo;SHA-256&amp;rdquo;);
byte[] hash = digest.digest(input.getBytes(&amp;ldquo;UTF-8&amp;rdquo;));
StringBuilder hexString = new StringBuilder();
for (byte b : hash) {
hexString.append(String.format(&amp;quot;%02x&amp;quot;, b));
}
return hexString.toString();
}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;public static void main(String[] args) throws Exception {
String data = &amp;quot;Hello, SHA!&amp;quot;;
System.out.println(&amp;quot;SHA-256å“ˆå¸Œå€¼: &amp;quot; + sha256(data));
// è¾“å‡ºï¼šd3c3d3e0...ï¼ˆ64ä½åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼‰
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### ğŸ’ **æ€»ç»“**
SHAç®—æ³•é€šè¿‡**å›ºå®šé•¿åº¦è¾“å‡º**ã€**å•å‘æ€§**å’Œ**æŠ—ç¢°æ’æ€§**ï¼Œæˆä¸ºæ•°æ®å®‰å…¨çš„æ ¸å¿ƒåŸºçŸ³ã€‚å½“å‰æ¨èä¼˜å…ˆé€‰ç”¨**SHA-256**ï¼ˆå¹³è¡¡å®‰å…¨ä¸æ•ˆç‡ï¼‰æˆ–**SHA-3**ï¼ˆåº”å¯¹æœªæ¥å¨èƒï¼‰ï¼Œå¹¶ä¸¥æ ¼é¿å…å·²ç ´è§£çš„SHA-1ã€‚åœ¨æ•°å­—ç­¾åã€åŒºå—é“¾ã€APIæ ¡éªŒç­‰åœºæ™¯ä¸­ï¼Œå…¶ä¸å¯æ›¿ä»£æ€§å¥ å®šäº†ç°ä»£å¯†ç å­¦çš„ä¿¡ä»»åŸºç¡€ã€‚
## HMAC-SHA
HMAC-SHAï¼ˆHash-based Message Authentication Code using Secure Hash Algorithmï¼‰æ˜¯ä¸€ç§åŸºäºå“ˆå¸Œå‡½æ•°å’Œå¯†é’¥çš„æ¶ˆæ¯è®¤è¯ç ç®—æ³•ï¼Œç”¨äºéªŒè¯æ•°æ®çš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ã€‚å®ƒç»“åˆäº†**å¯†é’¥çš„å®‰å…¨è®¤è¯èƒ½åŠ›**å’Œ**å“ˆå¸Œå‡½æ•°çš„ä¸å¯é€†æ€§**ï¼Œå¹¿æ³›åº”ç”¨äºç½‘ç»œé€šä¿¡ã€APIé‰´æƒç­‰åœºæ™¯ã€‚ä»¥ä¸‹ä»åŸç†ã€å˜ä½“ã€åº”ç”¨åŠå®‰å…¨ç‰¹æ€§å±•å¼€è¯¦è§£ï¼š
------
### ğŸ”‘ **æ ¸å¿ƒåŸç†ï¼šHMAC-SHAçš„å·¥ä½œæœºåˆ¶**
HMAC-SHAçš„æ•°å­¦å…¬å¼å®šä¹‰ä¸ºï¼š
`HMAC(k, m) = H( (k&amp;#39; âŠ• opad) || H( (k&amp;#39; âŠ• ipad) || m ) )`
å…¶ä¸­ï¼š
- **`H`**ï¼šå“ˆå¸Œå‡½æ•°ï¼ˆå¦‚SHA-256ã€SHA-512ï¼‰ï¼›
- **`k`**ï¼šå¯†é’¥ï¼ˆé€šä¿¡åŒæ–¹å…±äº«çš„ç§˜å¯†ï¼‰ï¼›
- **`m`**ï¼šå¾…è®¤è¯çš„æ¶ˆæ¯ï¼›
- **`k&amp;#39;`**ï¼šå¤„ç†åçš„å¯†é’¥ï¼ˆè‹¥å¯†é’¥é•¿åº¦ä¸ç¬¦åˆåˆ†ç»„è¦æ±‚ï¼Œéœ€å¡«å……æˆ–å“ˆå¸Œï¼‰ï¼›
- **`ipad`**ï¼ˆå†…éƒ¨å¡«å……ï¼‰ï¼š`0x36` é‡å¤è‡³åˆ†ç»„é•¿åº¦ï¼ˆå¦‚SHA-256ä¸º512ä½ï¼‰ï¼›
- **`opad`**ï¼ˆå¤–éƒ¨å¡«å……ï¼‰ï¼š`0x5C` é‡å¤è‡³åˆ†ç»„é•¿åº¦ï¼›
- **`âŠ•`**ï¼šæŒ‰ä½å¼‚æˆ–è¿ç®—ï¼›
- **`||`**ï¼šæ•°æ®æ‹¼æ¥ã€‚
**è®¡ç®—æ­¥éª¤**ï¼š
1.
å¯†é’¥å¤„ç†ï¼š
- è‹¥å¯†é’¥çŸ­äºå“ˆå¸Œåˆ†ç»„é•¿åº¦ï¼ˆå¦‚SHA-256åˆ†ç»„ä¸º512ä½ï¼‰ï¼Œæœ«å°¾è¡¥`0`ï¼›
- è‹¥é•¿äºåˆ†ç»„é•¿åº¦ï¼Œåˆ™å¯¹å¯†é’¥å“ˆå¸Œåå–ç»“æœä½œä¸ºæ–°å¯†é’¥ã€‚
2. **å†…éƒ¨å“ˆå¸Œ**ï¼š
`inner_hash = H( (k&amp;#39; âŠ• ipad) || m )`
3. **å¤–éƒ¨å“ˆå¸Œ**ï¼š
`HMAC = H( (k&amp;#39; âŠ• opad) || inner_hash )`
æœ€ç»ˆè¾“å‡ºå›ºå®šé•¿åº¦çš„è®¤è¯ç ï¼ˆå¦‚SHA-256è¾“å‡º256ä½ï¼‰ã€‚
&amp;gt; âœ… **è®¾è®¡æ„ä¹‰**ï¼šåŒé‡å“ˆå¸Œ + å¯†é’¥æ··æ·†ï¼Œæœ‰æ•ˆæŠµå¾¡é•¿åº¦æ‰©å±•æ”»å‡»ï¼Œç¡®ä¿å³ä½¿å“ˆå¸Œå‡½æ•°å­˜åœ¨æ¼æ´ï¼ŒHMACä»ä¿æŒå®‰å…¨ã€‚
------
### âš™ï¸ **ä¸»è¦å˜ä½“ï¼šHMAC-SHAå®¶æ—**
HMACå¯æ­é…ä¸åŒSHAç®—æ³•ï¼Œå¸¸è§å˜ä½“åŒ…æ‹¬ï¼š
| **å˜ä½“** | **å“ˆå¸Œå¼ºåº¦** | **è¾“å‡ºé•¿åº¦** | **é€‚ç”¨åœºæ™¯** |
| --------------- | ------------ | ------------ | ---------------------------- |
| **HMAC-SHA256** | é«˜ | 256ä½ | TLS/SSLã€APIç­¾åï¼ˆä¸»æµé€‰æ‹©ï¼‰ |
| **HMAC-SHA512** | æé«˜ | 512ä½ | é‡‘èçº§åŠ å¯†ã€é‡å­è®¡ç®—å¨èƒé˜²æŠ¤ |
| **HMAC-SHA1** | ä¸­ï¼ˆå·²å¼±åŒ–ï¼‰ | 160ä½ | æ—§ç³»ç»Ÿå…¼å®¹ï¼ˆä¸æ¨èæ–°é¡¹ç›®ï¼‰ |
**æ€§èƒ½å¯¹æ¯”**ï¼š
- **SHA-256**ï¼šå¹³è¡¡å®‰å…¨ä¸æ•ˆç‡ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼›
- **SHA-512**ï¼šå®‰å…¨æ€§æ›´é«˜ï¼Œä½†è®¡ç®—é‡ç•¥å¤§ï¼Œç¡¬ä»¶åŠ é€Ÿå¯ä¼˜åŒ–ï¼ˆå¦‚STM32çš„HASHå¤–è®¾ï¼‰ï¼›
- **SHA-1**ï¼šå­˜åœ¨ç¢°æ’æ¼æ´ï¼Œä»…ç”¨äºå…¼å®¹æ—§åè®®ã€‚
------
### ğŸŒ **åº”ç”¨åœºæ™¯ï¼šä¸ºä½•éœ€è¦HMAC-SHAï¼Ÿ**
1.
APIè¯·æ±‚é‰´æƒ
- **äº‘æœåŠ¡ï¼ˆå¦‚AWSã€è…¾è®¯äº‘ï¼‰**ï¼šå®¢æˆ·ç«¯ç”¨å¯†é’¥å¯¹è¯·æ±‚å‚æ•°ç”ŸæˆHMAC-SHA256ç­¾åï¼ŒæœåŠ¡å™¨éªŒè¯ç­¾åé˜²æ­¢ç¯¡æ”¹ã€‚
- æµç¨‹ç¤ºä¾‹ï¼š
```
# Pythonä¼ªä»£ç 
signature = hmac_sha256(secret_key, &amp;#34;method=GET&amp;amp;path=/api&amp;amp;timestamp=123456&amp;#34;)
```
2.
é€šä¿¡åè®®å®‰å…¨
- **TLS/SSL**ï¼šç”¨äºæ¡æ‰‹é˜¶æ®µçš„æ¶ˆæ¯å®Œæ•´æ€§æ ¡éªŒï¼ˆå¦‚Finishedæ¶ˆæ¯çš„HMAC-SHA256ï¼‰ï¼›
- **IPSec/VPN**ï¼šéªŒè¯æ•°æ®åŒ…æ¥æºå’Œå®Œæ•´æ€§ã€‚
3.
ä»¤ç‰Œç­¾å
- **JWTï¼ˆJSON Web Tokenï¼‰**ï¼šä½¿ç”¨HMAC-SHA256ç”Ÿæˆç­¾åéƒ¨åˆ†ï¼Œç¡®ä¿Tokenæœªè¢«ç¯¡æ”¹ã€‚
4.
æ•°æ®å®Œæ•´æ€§ä¿æŠ¤
- **æ–‡ä»¶ä¼ è¾“**ï¼šå‘é€æ–¹è®¡ç®—æ–‡ä»¶çš„HMAC-SHA512å€¼ï¼Œæ¥æ”¶æ–¹é‡ç®—æ¯”å¯¹ï¼Œæ£€æµ‹æ–‡ä»¶ç¯¡æ”¹ã€‚
5.
èº«ä»½è®¤è¯
- **åŠ¨æ€æŒ‘æˆ˜å“åº”**ï¼šæœåŠ¡å™¨å‘é€éšæœºæ•°ï¼ˆnonceï¼‰ï¼Œå®¢æˆ·ç«¯ç”¨å¯†é’¥+nonceç”ŸæˆHMACï¼Œé¿å…å¯†ç æ˜æ–‡ä¼ è¾“ã€‚
------
### ğŸ›¡ï¸ **å®‰å…¨ç‰¹æ€§ä¸ä¼˜åŠ¿**
1.
æŠ—æ”»å‡»èƒ½åŠ›
- **é˜²ç¯¡æ”¹**ï¼šæ¶ˆæ¯æˆ–å¯†é’¥ä»»ä¸€å˜åŒ–ï¼ŒHMACå€¼å®Œå…¨ä¸åŒï¼›
- **é˜²é‡æ”¾**ï¼šç»“åˆæ—¶é—´æˆ³æˆ–éšæœºæ•°ï¼ˆnonceï¼‰ï¼›
- **æŠ—ç¢°æ’**ï¼šä¾èµ–SHA-256/512çš„å¼ºæŠ—ç¢°æ’æ€§ã€‚
2.
å¯†é’¥ä¾èµ–
- æ”»å‡»è€…æ— å¯†é’¥æ—¶ï¼Œæ— æ³•ä¼ªé€ æœ‰æ•ˆHMACï¼Œå³ä½¿å·²çŸ¥å“ˆå¸Œç®—æ³•ã€‚
3.
å‰å‘å®‰å…¨
- ä¼šè¯å¯†é’¥ä¸´æ—¶ç”Ÿæˆï¼ˆå¦‚TLSä¸­çš„ECDHEï¼‰ï¼Œå†å²é€šä¿¡ä¸å¯è§£å¯†ã€‚
&amp;gt; âš ï¸ **æ³¨æ„äº‹é¡¹**ï¼š
&amp;gt;
&amp;gt; - **å¯†é’¥ç®¡ç†**ï¼šå¯†é’¥éœ€å®‰å…¨å­˜å‚¨ï¼ˆå¦‚HSMç¡¬ä»¶æ¨¡å—ï¼‰ï¼Œå®šæœŸè½®æ¢ï¼›
&amp;gt; - **ç®—æ³•é€‰æ‹©**ï¼šé¿å…SHA-1/MD5ç­‰å¼±å“ˆå¸Œï¼Œä¼˜å…ˆé€‰ç”¨SHA-256æˆ–SHA-512ã€‚
------
### ğŸ’» **ç¼–ç¨‹å®ç°ç¤ºä¾‹**
**Javaè®¡ç®—HMAC-SHA512** ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;&lt;/p&gt;
&lt;p&gt;public class HmacExample {
public static String hmacSHA512(String key, String message) throws Exception {
Mac mac = Mac.getInstance(&amp;ldquo;HmacSHA512&amp;rdquo;);
SecretKeySpec secretKey = new SecretKeySpec(key.getBytes(), &amp;ldquo;HmacSHA512&amp;rdquo;);
mac.init(secretKey);
byte[] bytes = mac.doFinal(message.getBytes());
// è½¬æ¢ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²
StringBuilder sb = new StringBuilder();
for (byte b : bytes) sb.append(String.format(&amp;quot;%02x&amp;quot;, b));
return sb.toString();
}
}&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;**Cè¯­è¨€å®ç°è¦ç‚¹** ï¼š
- ä¾èµ–åº•å±‚åº“ï¼ˆå¦‚OpenSSLï¼‰çš„SHA-256/SHA-512å‡½æ•°ï¼›
- æ‰‹åŠ¨å®ç°å¯†é’¥å¡«å……ã€ipad/opadå¼‚æˆ–åŠåŒé‡å“ˆå¸Œæµç¨‹ã€‚
------
### ğŸ’ **æ€»ç»“**
HMAC-SHAé€šè¿‡**å¯†é’¥ç»‘å®š+åŒé‡å“ˆå¸Œ**ï¼Œè§£å†³äº†å•çº¯å“ˆå¸Œå‡½æ•°æ— æ³•æŠµå¾¡ä¼ªé€ çš„é—®é¢˜ï¼Œæˆä¸ºæ•°æ®è®¤è¯çš„é»„é‡‘æ ‡å‡†ã€‚ä»TLSæ¡æ‰‹åˆ°äº‘APIé‰´æƒï¼Œå…¶è®¾è®¡å…¼é¡¾å®‰å…¨æ€§ä¸æ•ˆç‡ã€‚å¼€å‘è€…éœ€æ ¹æ®åœºæ™¯é€‰æ‹©å˜ä½“ï¼ˆæ¨èHMAC-SHA256ï¼‰ï¼Œå¹¶ä¸¥æ ¼ç®¡ç†å¯†é’¥ç”Ÿå‘½å‘¨æœŸã€‚åœ¨é‡å­è®¡ç®—å¨èƒé€¼è¿‘çš„å½“ä¸‹ï¼ŒHMAC-SHA512ç­‰é•¿æ‘˜è¦ç®—æ³•å°†é€æ­¥æˆä¸ºæ–°ä¸€ä»£å®‰å…¨åŸºçŸ³ã€‚
## CAè¯ä¹¦
### ğŸ” **CAè¯ä¹¦è¯¦è§£ï¼šäº’è”ç½‘å®‰å…¨çš„ä¿¡ä»»åŸºçŸ³**
CAè¯ä¹¦ï¼ˆCertificate Authority Certificateï¼‰æ˜¯ç”±**å—ä¿¡ä»»çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰** ç­¾å‘çš„æ•°å­—å‡­è¯ï¼Œç”¨äºéªŒè¯å®ä½“ï¼ˆä¸ªäººã€ç»„ç»‡ã€æœåŠ¡å™¨ç­‰ï¼‰çš„èº«ä»½å¹¶ç»‘å®šå…¶å…¬é’¥ï¼Œæ˜¯å…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆPKIï¼‰çš„æ ¸å¿ƒç»„ä»¶ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬**èº«ä»½è®¤è¯ã€æ•°æ®åŠ å¯†ã€å®Œæ•´æ€§æ ¡éªŒå’Œé˜²æŠµèµ–æ€§**ï¼Œè¢«å¹¿æ³›åº”ç”¨äºHTTPSã€ç”µå­ç­¾åã€æ‹›æŠ•æ ‡ç­‰é¢†åŸŸã€‚
------
### ğŸ”§ **æ ¸å¿ƒåŸç†ä¸æŠ€æœ¯æœºåˆ¶**
#### **æŠ€æœ¯åŸºç¡€ï¼šéå¯¹ç§°åŠ å¯†ä¸æ•°å­—ç­¾å**
- **éå¯¹ç§°åŠ å¯†**ï¼šCAè¯ä¹¦åŸºäºå…¬é’¥ï¼ˆå¯å…¬å¼€ï¼‰å’Œç§é’¥ï¼ˆéœ€ä¿å¯†ï¼‰ä½“ç³»ã€‚å…¬é’¥ç”¨äºåŠ å¯†æ•°æ®ï¼Œç§é’¥ç”¨äºè§£å¯†æˆ–ç­¾åã€‚
- **æ•°å­—ç­¾å**ï¼šCAç”¨è‡ªèº«ç§é’¥å¯¹ç”¨æˆ·å…¬é’¥å’Œèº«ä»½ä¿¡æ¯ç­¾åï¼Œç”Ÿæˆè¯ä¹¦ã€‚éªŒè¯æ—¶ç”¨CAå…¬é’¥è§£å¯†ç­¾åï¼Œç¡®è®¤è¯ä¹¦çœŸå®æ€§å’Œå®Œæ•´æ€§ã€‚
- **æ•°å­—æŒ‡çº¹ï¼ˆHASHå‡½æ•°ï¼‰**ï¼šé€šè¿‡SHA-256ç­‰ç®—æ³•ç”Ÿæˆå”¯ä¸€æ‘˜è¦ï¼Œç¡®ä¿æ•°æ®æœªè¢«ç¯¡æ”¹ã€‚
#### **è¯ä¹¦å†…å®¹ç»“æ„ï¼ˆéµå¾ªX.509æ ‡å‡†ï¼‰**
| **å­—æ®µ** | **è¯´æ˜** |
| ---------- | ----------------------------------------------- |
| æŒæœ‰è€…ä¿¡æ¯ | åç§°ã€ç»„ç»‡ã€åŸŸåç­‰ï¼ˆå¦‚ `CN=example.com`ï¼‰ |
| å…¬é’¥ | è¯ä¹¦æŒæœ‰è€…çš„å…¬å¼€å¯†é’¥ï¼ˆå¦‚ RSA-2048 å…¬é’¥ï¼‰ |
| é¢å‘è€…ä¿¡æ¯ | CAæœºæ„çš„åç§°ï¼ˆå¦‚ `DigiCert Inc`ï¼‰ |
| æœ‰æ•ˆæœŸ | è¯ä¹¦ç”Ÿæ•ˆå’Œå¤±æ•ˆæ—¶é—´ï¼ˆé€šå¸¸1-2å¹´ï¼‰ |
| æ•°å­—ç­¾å | CAç”¨ç§é’¥å¯¹è¯ä¹¦å†…å®¹çš„ç­¾å |
| æ‰©å±•ä¿¡æ¯ | å¯†é’¥ç”¨é€”ï¼ˆå¦‚æœåŠ¡å™¨è®¤è¯ã€ä»£ç ç­¾åï¼‰ã€CRLåˆ†å‘ç‚¹ç­‰ |
#### **ä¿¡ä»»é“¾æœºåˆ¶**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;graph LR
A[æ ¹è¯ä¹¦] &amp;ndash;&amp;gt; B[ä¸­é—´è¯ä¹¦]
B &amp;ndash;&amp;gt; C[ç»ˆç«¯ç”¨æˆ·è¯ä¹¦]&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- **æ ¹è¯ä¹¦**ï¼šè‡ªç­¾åçš„é¡¶çº§è¯ä¹¦ï¼Œé¢„ç½®åœ¨æ“ä½œç³»ç»Ÿ/æµè§ˆå™¨ä¸­ï¼ˆå¦‚Windowsä¿¡ä»»çš„VeriSignæ ¹è¯ä¹¦ï¼‰ã€‚
- **ä¸­é—´è¯ä¹¦**ï¼šç”±æ ¹è¯ä¹¦ç­¾å‘ï¼Œç”¨äºéš”ç¦»é£é™©ï¼ˆè‹¥ä¸­é—´è¯ä¹¦æ³„éœ²ï¼Œå¯åŠé”€è€Œä¸å½±å“æ ¹è¯ä¹¦ï¼‰ã€‚
- **ç»ˆç«¯ç”¨æˆ·è¯ä¹¦**ï¼šç”±ä¸­é—´è¯ä¹¦ç­¾å‘ï¼Œç›´æ¥ç”¨äºç½‘ç«™ã€è®¾å¤‡æˆ–ç”¨æˆ·èº«ä»½è®¤è¯ã€‚
------
### ğŸŒ **ç±»å‹ä¸åº”ç”¨åœºæ™¯**
#### **æŒ‰ç”¨é€”åˆ†ç±»**
| **ç±»å‹** | **åŠŸèƒ½** | **å…¸å‹åœºæ™¯** |
| ---------------- | ---------------------------------- | ---------------------------- |
| **SSL/TLSè¯ä¹¦** | åŠ å¯†ç½‘ç«™æ•°æ®ä¼ è¾“ï¼ŒéªŒè¯æœåŠ¡å™¨èº«ä»½ | HTTPSç½‘ç«™ï¼ˆæµè§ˆå™¨æ˜¾ç¤ºğŸ”’å›¾æ ‡ï¼‰ |
| **ä»£ç ç­¾åè¯ä¹¦** | å¯¹è½¯ä»¶/è„šæœ¬ç­¾åï¼Œé˜²æ­¢ç¯¡æ”¹ | åº”ç”¨ç¨‹åºå®‰è£…åŒ…ã€é©±åŠ¨ç¨‹åº |
| **å®¢æˆ·ç«¯è¯ä¹¦** | éªŒè¯ç”¨æˆ·æˆ–è®¾å¤‡èº«ä»½ | ä¼ä¸šVPNç™»å½•ã€ç”µå­æ‹›æŠ•æ ‡ç³»ç»Ÿ |
| **é‚®ä»¶è¯ä¹¦** | åŠ å¯†é‚®ä»¶å†…å®¹ï¼ŒéªŒè¯å‘ä»¶äººèº«ä»½ | æœºå¯†å•†åŠ¡é‚®ä»¶ï¼ˆS/MIMEï¼‰ |
| **æ–‡æ¡£ç­¾åè¯ä¹¦** | å¯¹PDF/Officeæ–‡æ¡£ç­¾åï¼Œç¡®ä¿æ³•å¾‹æ•ˆåŠ› | ç”µå­åˆåŒã€æ”¿åºœå…¬æ–‡ |
#### **æŒ‰ä¿¡ä»»èŒƒå›´åˆ†ç±»**
| **ç±»å‹** | **é¢å‘æœºæ„** | **ä¿¡ä»»èŒƒå›´** | **é€‚ç”¨åœºæ™¯** |
| -------------- | -------------------- | ----------------------- | -------------------- |
| **å…¬æœ‰CAè¯ä¹¦** | å•†ä¸šCAï¼ˆå¦‚DigiCertï¼‰ | å…¨çƒæµè§ˆå™¨/ç³»ç»Ÿè‡ªåŠ¨ä¿¡ä»» | å…¬å¼€ç½‘ç«™ã€ç”µå•†å¹³å° |
| **ç§æœ‰CAè¯ä¹¦** | ä¼ä¸šè‡ªå»ºCA | ä»…å†…éƒ¨ç³»ç»Ÿä¿¡ä»» | å†…ç½‘æœåŠ¡å™¨ã€æµ‹è¯•ç¯å¢ƒ |
------
### âš™ï¸ **å·¥ä½œæµç¨‹ä¸ç”Ÿå‘½å‘¨æœŸ**
1.
ç”³è¯·ä¸éªŒè¯
- ç”¨æˆ·å‘CAæäº¤èº«ä»½è¯æ˜ï¼ˆå¦‚ä¼ä¸šè¥ä¸šæ‰§ç…§ï¼‰å’Œå…¬é’¥ã€‚
- CAå®¡æ ¸èº«ä»½çœŸå®æ€§ï¼ˆåŸŸåéªŒè¯ã€ä¼ä¸šèµ„è´¨æ ¸æŸ¥ç­‰ï¼‰ã€‚
2.
ç­¾å‘ä¸åˆ†å‘
- CAç”¨ç§é’¥ç­¾åç”Ÿæˆè¯ä¹¦ï¼Œé€šè¿‡Ukeyï¼ˆç¡¬ä»¶è½½ä½“ï¼‰æˆ–æ–‡ä»¶å½¢å¼åˆ†å‘ç»™ç”¨æˆ·ã€‚
3.
ä½¿ç”¨ä¸éªŒè¯
- å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰ç”¨CAå…¬é’¥éªŒè¯è¯ä¹¦ç­¾åï¼Œç¡®è®¤èº«ä»½åå»ºç«‹åŠ å¯†è¿æ¥ã€‚
4.
æ›´æ–°ä¸åŠé”€
- **æ›´æ–°**ï¼šè¯ä¹¦åˆ°æœŸå‰ç”³è¯·ç»­æœŸï¼ˆå¦‚Let&amp;#39;s Encryptæ¯90å¤©æ›´æ–°ï¼‰ã€‚
- **åŠé”€**ï¼šç§é’¥æ³„éœ²æˆ–èº«ä»½å˜æ›´æ—¶ï¼ŒCAå°†è¯ä¹¦åŠ å…¥åŠé”€åˆ—è¡¨ï¼ˆCRL/OCSPï¼‰ã€‚
------
### âš–ï¸ **æ³•å¾‹æ•ˆåŠ›ä¸å®‰å…¨æŒ‘æˆ˜**
#### **æ³•å¾‹æ•ˆåŠ›**
- ç¬¦åˆã€Šã€‹çš„CAè¯ä¹¦å…·å¤‡ä¸æ‰‹å†™ç­¾ååŒç­‰çš„æ³•å¾‹æ•ˆåŠ›ã€‚
- åœ¨è¯‰è®¼ä¸­ï¼Œç»CAè®¤è¯çš„ç”µå­è¯æ®æ›´æ˜“è¢«æ³•é™¢é‡‡ä¿¡ã€‚
#### **å®‰å…¨é£é™©ä¸å¯¹ç­–**
| **é£é™©** | **æ¡ˆä¾‹** | **åº”å¯¹æªæ–½** |
| ---------------- | ------------------------ | ------------------------------------ |
| **ç§é’¥æ³„éœ²** | é»‘å®¢çªƒå–ç§é’¥ä¼ªé€ è¯ä¹¦ | ä½¿ç”¨HSMï¼ˆç¡¬ä»¶å®‰å…¨æ¨¡å—ï¼‰ä¿æŠ¤ç§é’¥ |
| **CAæœºæ„è¢«æ”»ç ´** | 2011å¹´DigiNotaräº‹ä»¶ | å¤šå› ç´ è®¤è¯ã€å®šæœŸå®‰å…¨å®¡è®¡ |
| **ä¸­é—´äººæ”»å‡»** | ä¼ªé€ è¯ä¹¦æ‹¦æˆªHTTPSæµé‡ | å¯ç”¨HSTSã€è¯ä¹¦é€æ˜åº¦ï¼ˆCTï¼‰æ—¥å¿—ç›‘æ§ |
| **è¯ä¹¦å†’ç”¨** | å†’é¢†ä¼ä¸šè¯ä¹¦ç­¾ç½²æ¬ºè¯ˆåˆåŒ | ä¸¥æ ¼èº«ä»½å®¡æ ¸ã€è¯ä¹¦ç»‘å®šç»åŠäººç”Ÿç‰©ä¿¡æ¯ |
------
### ğŸ’¡ **å®é™…åº”ç”¨ç¤ºä¾‹**
1.
ç”µå­æ‹›æŠ•æ ‡
- ä¼ä¸šä½¿ç”¨CAè¯ä¹¦ç™»å½•å…¬å…±èµ„æºäº¤æ˜“å¹³å°ï¼Œå¯¹æŠ•æ ‡æ–‡ä»¶ç­¾ååŠ å¯†ï¼Œç¡®ä¿èº«ä»½çœŸå®ã€æ–‡ä»¶é˜²ç¯¡æ”¹ï¼Œå¹¶åŠ ç›–æ—¶é—´æˆ³é˜²æŠµèµ–ã€‚
2.
ç½‘ç«™HTTPSåŒ–
- é…ç½®SSLè¯ä¹¦åï¼Œç”¨æˆ·è®¿é—®ç½‘ç«™æ—¶è‡ªåŠ¨å¯ç”¨åŠ å¯†ä¼ è¾“ï¼Œé˜²æ­¢æ•°æ®çªƒå–ï¼ˆå¦‚æ”¯ä»˜ä¿¡æ¯ï¼‰ã€‚
3.
åŒºå—é“¾èº«ä»½è®¤è¯
- å°†CAè¯ä¹¦ä¸åŒºå—é“¾ç»“åˆï¼Œä¸ºæ•°å­—è´§å¸é’±åŒ…åœ°å€æä¾›å¯éªŒè¯çš„èº«ä»½ç»‘å®šã€‚
------
### ğŸ’ **æ€»ç»“**
CAè¯ä¹¦é€šè¿‡**æƒå¨èº«ä»½ç»‘å®š**å’Œ**å¯†ç å­¦ä¿éšœ**ï¼Œæˆä¸ºç½‘ç»œç©ºé—´ä¸­ä¸å¯æˆ–ç¼ºçš„â€œæ•°å­—èº«ä»½è¯â€ã€‚å…¶æ ¸å¿ƒä»·å€¼åœ¨äºï¼š
1. **å»ºç«‹ä¿¡ä»»**ï¼šé€šè¿‡CAå…¬ä¿¡åŠ›è§£å†³åŒ¿åç½‘ç»œçš„ä¿¡ä»»é—®é¢˜ï¼›
2. **ä¿éšœå®‰å…¨**ï¼šåŠ å¯†æ•æ„Ÿæ•°æ®ã€éªŒè¯èº«ä»½çœŸå®æ€§ã€é˜²æ­¢æŠµèµ–ï¼›
3. **æ³•å¾‹åˆè§„**ï¼šæ»¡è¶³ã€Šç”µå­ç­¾åæ³•ã€‹ç­‰æ³•è§„è¦æ±‚ï¼Œæ”¯æ’‘ç”µå­æ”¿åŠ¡/å•†åŠ¡åˆæ³•åŒ–ã€‚
éšç€é‡å­è®¡ç®—ç­‰æ–°æŠ€æœ¯æŒ‘æˆ˜ï¼ŒCAä½“ç³»éœ€æŒç»­æ¼”è¿›ï¼ˆå¦‚æŠ—é‡å­ç­¾åç®—æ³•ï¼‰ï¼Œä½†ä½œä¸ºäº’è”ç½‘å®‰å…¨åŸºçŸ³çš„å®šä½å°†é•¿æœŸä¸å˜ã€‚
## CA è¯ä¹¦å±‚æ¬¡
åœ¨å…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆPKIï¼‰ä½“ç³»ä¸­ï¼Œè¯ä¹¦çš„ç­¾å‘éµå¾ªåˆ†å±‚ä¿¡ä»»ç»“æ„ï¼Œä¸åŒå±‚çº§çš„è¯ä¹¦ç”±ä¸åŒçš„å®ä½“ç­¾å‘ï¼Œå…±åŒæ„æˆå®Œæ•´çš„ä¿¡ä»»é“¾ã€‚ä»¥ä¸‹æ˜¯CAæ ¹è¯ä¹¦ã€ä¸­é—´è¯ä¹¦å’Œç»ˆç«¯ç”¨æˆ·è¯ä¹¦çš„ç­¾å‘ä¸»ä½“åŠä½œç”¨è¯¦è§£ï¼š
------
### ğŸ”‘ **CAæ ¹è¯ä¹¦ï¼ˆRoot CA Certificateï¼‰**
- **ç­¾å‘è€…**ï¼š**è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰è‡ªèº«**
- ç‰¹æ€§ï¼š
- **è‡ªç­¾å**ï¼šæ ¹è¯ä¹¦çš„é¢å‘è€…å’Œä½¿ç”¨è€…ç›¸åŒï¼Œæ— éœ€ç¬¬ä¸‰æ–¹è®¤è¯ã€‚
- **ä¿¡ä»»é”šç‚¹**ï¼šä½œä¸ºä¿¡ä»»é“¾çš„èµ·ç‚¹ï¼Œé¢„è£…äºæ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ç­‰å—ä¿¡ä»»æ ¹è¯ä¹¦åº“ä¸­ï¼ˆå¦‚Windowsã€macOSå†…ç½®DigiCertã€GlobalSignç­‰æ ¹è¯ä¹¦ï¼‰ã€‚
- **ä¸¥æ ¼éš”ç¦»**ï¼šæ ¹è¯ä¹¦ç§é’¥ç¦»çº¿å­˜å‚¨ï¼ˆå¦‚ç¡¬ä»¶å®‰å…¨æ¨¡å—HSMï¼‰ï¼Œæå°‘ç”¨äºç›´æ¥ç­¾å‘ç»ˆç«¯è¯ä¹¦ï¼Œä»¥é™ä½æ³„éœ²é£é™©ã€‚
- ç¤ºä¾‹ï¼š
- å›½é™…ï¼šDigiCert Global Root CAã€VeriSign Class 3 Public Primary CAã€‚
- ä¸­å›½ï¼šé‡‘èæ ¹è¯ä¹¦ç”±ä¸­å›½äººæ°‘é“¶è¡Œç®¡ç†ï¼Œéé‡‘èæ ¹è¯ä¹¦ç”±ä¸­å›½ç”µä¿¡ç­‰æœºæ„ç®¡ç†ã€‚
------
### ğŸ”— **ä¸­é—´è¯ä¹¦ï¼ˆIntermediate CA Certificateï¼‰**
- **ç­¾å‘è€…**ï¼š**æ ¹è¯ä¹¦æˆ–ä¸Šçº§ä¸­é—´è¯ä¹¦**
- ä½œç”¨ï¼š
- **åˆ†æ‹…æ ¹è¯ä¹¦å‹åŠ›**ï¼šç”±æ ¹è¯ä¹¦ç­¾å‘ï¼Œç”¨äºæ‰¹é‡ç­¾å‘ç»ˆç«¯ç”¨æˆ·è¯ä¹¦ï¼Œé¿å…æ ¹è¯ä¹¦ç§é’¥é¢‘ç¹ä½¿ç”¨ã€‚
- **çµæ´»ç®¡ç†**ï¼šè‹¥ä¸­é—´è¯ä¹¦ç§é’¥æ³„éœ²ï¼Œå¯å¿«é€ŸåŠé”€å¹¶é‡æ–°ç­¾å‘ï¼Œä¸å½±å“æ ¹è¯ä¹¦å®‰å…¨æ€§ã€‚
- éƒ¨ç½²æ–¹å¼ï¼š
- æœåŠ¡å™¨éœ€å°†ä¸­é—´è¯ä¹¦ä¸ç»ˆç«¯è¯ä¹¦ä¸€åŒé…ç½®ï¼Œä¾›å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦é“¾å®Œæ•´æ€§ã€‚
- ç”Ÿæˆç¤ºä¾‹ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id="æ ¹è¯ä¹¦ç­¾å‘ä¸­é—´è¯ä¹¦"&gt;æ ¹è¯ä¹¦ç­¾å‘ä¸­é—´è¯ä¹¦
&lt;/h1&gt;&lt;p&gt;openssl x509 -req -in middle.csr -CA root.crt -CAkey root.key -out middle.crt&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### ğŸŒ **ç»ˆç«¯ç”¨æˆ·è¯ä¹¦ï¼ˆEnd-Entity Certificateï¼‰**
- **ç­¾å‘è€…**ï¼š**ä¸­é—´è¯ä¹¦**ï¼ˆæˆ–ç›´æ¥ç”±æ ¹è¯ä¹¦ç­¾å‘ï¼Œä½†ä¸æ¨èï¼‰
- ç±»å‹ä¸ç”¨é€”ï¼š
| **è¯ä¹¦ç±»å‹** | **ç­¾å‘åœºæ™¯** | **ç¤ºä¾‹** |
| -------------- | --------------------- | --------------------------------------- |
| **æœåŠ¡å™¨è¯ä¹¦** | ç½‘ç«™HTTPSåŠ å¯† | `*.example.com`ï¼ˆç”±DigiCertä¸­é—´CAç­¾å‘ï¼‰ |
| **ä¸ªäººè¯ä¹¦** | ç”µå­ç­¾åã€èº«ä»½è®¤è¯ | äººç¤¾ç³»ç»Ÿä¸ªäººæ•°å­—è¯ä¹¦ |
| **è®¾å¤‡è¯ä¹¦** | IoTè®¾å¤‡ã€ç§»åŠ¨ç»ˆç«¯è®¤è¯ | å›½ç½‘ç”µåŠ›é‡‡é›†ç±»ç»ˆç«¯ï¼ˆSM2è¯ä¹¦ï¼‰ |
- **éªŒè¯æµç¨‹**ï¼š
å®¢æˆ·ç«¯é€šè¿‡è¯ä¹¦é“¾è¿½æº¯è‡³å¯ä¿¡æ ¹è¯ä¹¦ï¼ˆå¦‚æµè§ˆå™¨éªŒè¯`server.crt` â†’ `middle.crt` â†’ `root.crt`ï¼‰ã€‚
------
### ğŸ’ **ä¸‰ç±»è¯ä¹¦ç­¾å‘å…³ç³»æ€»ç»“**
| **è¯ä¹¦ç±»å‹** | **ç­¾å‘è€…** | **ä¿¡ä»»æ¥æº** | **å®‰å…¨é€»è¾‘** |
| ---------------- | -------------------- | ----------------- | ---------------------------- |
| **æ ¹è¯ä¹¦** | è‡ªèº«ç­¾å‘ï¼ˆè‡ªç­¾åï¼‰ | é¢„è£…äºç³»ç»Ÿ/æµè§ˆå™¨ | ç‰©ç†éš”ç¦»ç§é’¥ï¼Œä¿éšœä¿¡ä»»é“¾èµ·ç‚¹ |
| **ä¸­é—´è¯ä¹¦** | æ ¹è¯ä¹¦æˆ–ä¸Šçº§ä¸­é—´è¯ä¹¦ | æ ¹è¯ä¹¦æˆæƒ | å¹³è¡¡å®‰å…¨æ€§ä¸ç­¾å‘æ•ˆç‡ |
| **ç»ˆç«¯ç”¨æˆ·è¯ä¹¦** | ä¸­é—´è¯ä¹¦ | ä¸­é—´è¯ä¹¦æˆæƒ | ç»‘å®šåŸŸå/èº«ä»½ï¼Œæ”¯æŒå…·ä½“åº”ç”¨ |
------
### âš ï¸ **å…³é”®æ³¨æ„äº‹é¡¹**
1. **æ ¹è¯ä¹¦ç§é’¥ä¿æŠ¤**ï¼šä¸€æ—¦æ³„éœ²ï¼Œæ•´ä¸ªä¿¡ä»»ä½“ç³»å´©æºƒï¼Œå› æ­¤éœ€ä¸¥æ ¼ç¦»çº¿å­˜å‚¨ã€‚
2. **è¯ä¹¦é“¾å®Œæ•´æ€§**ï¼šæœåŠ¡å™¨ç¼ºå¤±ä¸­é—´è¯ä¹¦ä¼šå¯¼è‡´å®¢æˆ·ç«¯éªŒè¯å¤±è´¥ï¼ˆå¦‚æµè§ˆå™¨å‘Šè­¦ï¼‰ã€‚
3.
å›½å†…CAåˆ†å±‚ç®¡ç†ï¼š
- **é‡‘èCA**ï¼šä¸­å›½äººæ°‘é“¶è¡Œç»Ÿä¸€ç®¡ç†æ ¹è¯ä¹¦ï¼Œå•†ä¸šé“¶è¡Œè”åˆå»ºè®¾ä¸­é—´CAï¼ˆå¦‚CFCAï¼‰ã€‚
- **åŒºåŸŸCA**ï¼šåœ°æ–¹æ”¿åºœèƒŒæ™¯çš„CAä¸­å¿ƒï¼ˆå¦‚å¹¿ä¸œCAã€ä¸Šæµ·CAï¼‰ç­¾å‘åŒºåŸŸæ€§ç»ˆç«¯è¯ä¹¦ã€‚
4. **è‡ªç­¾åè¯ä¹¦é£é™©**ï¼šéCAç­¾å‘çš„è‡ªç­¾åè¯ä¹¦ä¸è¢«ç³»ç»Ÿä¿¡ä»»ï¼Œä»…é™æµ‹è¯•æˆ–å†…ç½‘ä½¿ç”¨ã€‚
&amp;gt; **ä¿¡ä»»çš„æœ¬è´¨æ˜¯è´£ä»»åˆ†å±‚**ï¼šæ ¹è¯ä¹¦æ˜¯ä¿¡ä»»çš„æºå¤´ï¼Œä¸­é—´è¯ä¹¦æ˜¯ä¿¡ä»»çš„å»¶ä¼¸ï¼Œç»ˆç«¯è¯ä¹¦æ˜¯ä¿¡ä»»çš„è½åœ°ã€‚ä¸‰è€…å…±åŒæ„å»ºäº†äº’è”ç½‘å®‰å…¨çš„åŸºçŸ³ï¼Œä»»ä½•ç¯èŠ‚çš„ç–æ¼éƒ½å¯èƒ½å¼•å‘é“¾å¼é£é™©ã€‚
## æ ¹è¯ä¹¦å…¬é’¥
æ˜¯çš„ï¼Œæ‚¨çš„ç†è§£å®Œå…¨æ­£ç¡®ã€‚é¢„è£…äºæ“ä½œç³»ç»Ÿæˆ–æµè§ˆå™¨ä¸­çš„æ˜¯**æ ¹è¯ä¹¦çš„å…¬é’¥**ï¼Œè€Œå¯¹åº”çš„**ç§é’¥ç”±CAæœºæ„ä¸¥æ ¼ä¿ç®¡**ï¼Œè¿™æ˜¯PKIï¼ˆå…¬é’¥åŸºç¡€è®¾æ–½ï¼‰ä½“ç³»çš„æ ¸å¿ƒè®¾è®¡ã€‚ä»¥ä¸‹ä»åŸç†ã€æŠ€æœ¯å®ç°å’Œå®‰å…¨ç®¡ç†ä¸‰ä¸ªç»´åº¦è¯¦ç»†è¯´æ˜ï¼š
------
### ğŸ”‘ **åŸç†ä¸æŠ€æœ¯å®ç°**
#### **æ ¹è¯ä¹¦çš„æœ¬è´¨**
- **å…¬é’¥å…¬å¼€**ï¼šæ ¹è¯ä¹¦åŒ…å«CAæœºæ„çš„èº«ä»½ä¿¡æ¯åŠå…¶**å…¬é’¥**ï¼Œç”±CAæœºæ„è‡ªç­¾åç”Ÿæˆï¼ˆå³ç”¨è‡ªå·±çš„ç§é’¥ä¸ºè‡ªèº«å…¬é’¥ç­¾åï¼‰ã€‚è¯¥è¯ä¹¦è¢«é¢„è£…åˆ°æ“ä½œç³»ç»Ÿï¼ˆå¦‚Windows/macOSï¼‰æˆ–æµè§ˆå™¨ï¼ˆå¦‚Chrome/Firefoxï¼‰çš„**å—ä¿¡ä»»æ ¹è¯ä¹¦å­˜å‚¨åŒº**ä¸­ï¼Œæˆä¸ºæ•´ä¸ªä¿¡ä»»é“¾çš„èµ·ç‚¹ã€‚
- **ç§é’¥ç¦»çº¿éš”ç¦»**ï¼šæ ¹è¯ä¹¦çš„ç§é’¥**æ°¸ä¸è”ç½‘**ï¼Œä»…åœ¨é«˜åº¦å®‰å…¨çš„ç‰©ç†ç¯å¢ƒä¸­ç”Ÿæˆå’Œå­˜å‚¨ï¼Œç”¨äºç­¾å‘ä¸‹çº§è¯ä¹¦ï¼ˆå¦‚ä¸­é—´CAè¯ä¹¦ï¼‰ã€‚
#### **ä¿¡ä»»é“¾çš„è¿ä½œæœºåˆ¶**
å½“å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰éªŒè¯æœåŠ¡å™¨è¯ä¹¦æ—¶ï¼Œéœ€é€çº§å›æº¯è‡³å¯ä¿¡æ ¹è¯ä¹¦ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;graph LR
A[æœåŠ¡å™¨è¯ä¹¦] &amp;ndash;&amp;gt;|ç”¨ä¸­é—´CAå…¬é’¥éªŒè¯| B(ä¸­é—´CAè¯ä¹¦)
B &amp;ndash;&amp;gt;|ç”¨æ ¹è¯ä¹¦å…¬é’¥éªŒè¯| C[æ ¹è¯ä¹¦]
C &amp;ndash;&amp;gt;|å…¬é’¥é¢„è£…äºç³»ç»Ÿ| D[å¯ä¿¡æ ¹è¯ä¹¦åº“]&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- **éªŒè¯è¿‡ç¨‹**ï¼šå®¢æˆ·ç«¯ç”¨é¢„è£…çš„æ ¹è¯ä¹¦å…¬é’¥éªŒè¯ä¸­é—´CAè¯ä¹¦çš„ç­¾åï¼Œå†ç”¨ä¸­é—´CAå…¬é’¥éªŒè¯æœåŠ¡å™¨è¯ä¹¦ï¼Œå½¢æˆå®Œæ•´ä¿¡ä»»é“¾ã€‚
- **ç§é’¥é›¶æš´éœ²**ï¼šæ ¹ç§é’¥ä¸å‚ä¸æ—¥å¸¸éªŒè¯ï¼Œä»…ç”¨äºç­¾å‘ç›´å±ä¸‹çº§è¯ä¹¦ï¼Œæœ€å¤§ç¨‹åº¦é™ä½æ³„éœ²é£é™©ã€‚
------
### ğŸ›¡ï¸ **CAæœºæ„å¯¹æ ¹ç§é’¥çš„ä¿æŠ¤æªæ–½**
#### **ç‰©ç†å®‰å…¨**
- **ç¡¬ä»¶åŠ å¯†æ¨¡å—ï¼ˆHSMï¼‰**ï¼šæ ¹ç§é’¥åœ¨**ä¸“ç”¨ç¡¬ä»¶**ä¸­ç”Ÿæˆå’Œå­˜å‚¨ï¼Œç§é’¥æœ¬èº«æ°¸ä¸ç¦»å¼€HSMè®¾å¤‡ã€‚å³ä½¿è®¾å¤‡è¢«æ‹†è§£ï¼Œä¹Ÿæ— æ³•ç›´æ¥è¯»å–ç§é’¥ã€‚
- **åŒäººç®¡æ§ä¸ç”Ÿç‰©è¯†åˆ«**ï¼šè®¿é—®HSMéœ€è‡³å°‘ä¸¤åæˆæƒäººå‘˜åŒæ—¶åœ¨åœºï¼Œé€šè¿‡é—¨ç¦å¡+ç”Ÿç‰©è¯†åˆ«ï¼ˆå¦‚æŒ‡çº¹ï¼‰åŒé‡è®¤è¯ã€‚
- **ä¿é™©æŸœä¸ç›‘æ§**ï¼šHSMè®¾å¤‡å­˜æ”¾äºé˜²å¼¹ä¿é™©æŸœï¼Œç¯å¢ƒé…å¤‡24å°æ—¶ç›‘æ§åŠå…¥ä¾µæ£€æµ‹ç³»ç»Ÿã€‚
#### **æ“ä½œä¸æµç¨‹å®‰å…¨**
- **åˆ†å‰²çŸ¥è¯†ï¼ˆShamirç§˜å¯†å…±äº«ï¼‰**ï¼šç§é’¥è¢«æ‹†åˆ†ä¸ºå¤šä»½ï¼ˆå¦‚5ä»½ä¸­éœ€3ä»½ç»„åˆï¼‰ï¼Œç”±ä¸åŒäººå‘˜åˆ†æŒï¼Œé¿å…å•äººæŒæ¡å®Œæ•´ç§é’¥ã€‚
- **æ“ä½œå…¨ç¨‹å½•åƒ**ï¼šç§é’¥ç”Ÿæˆã€ç­¾å‘è¯ä¹¦ç­‰å…³é”®æ“ä½œéœ€å½•åƒå¤‡æ¡ˆï¼Œæ“ä½œå‘˜ã€è§è¯äººã€å®¡è®¡å‘˜ä¸‰æ–¹ç›‘ç£ã€‚
- **ç¦»çº¿ç¯å¢ƒæ“ä½œ**ï¼šæ‰€æœ‰æ¶‰åŠç§é’¥çš„æ“ä½œåœ¨**æ— ç½‘ç»œç¯å¢ƒ**ä¸­è¿›è¡Œï¼Œå½»åº•éš”ç»è¿œç¨‹æ”»å‡»ã€‚
#### **å¤‡ä»½ä¸ç¾éš¾æ¢å¤**
- **åŠ å¯†å¤‡ä»½**ï¼šç§é’¥å¤‡ä»½éœ€åŠ å¯†å­˜å‚¨ï¼Œå¤‡ä»½ä»‹è´¨ï¼ˆå¦‚æ™ºèƒ½å¡ï¼‰åˆ†ç½®äºå¤šåœ°ä¿é™©åº“ã€‚
- **æ¢å¤éœ€å¤šæ–¹åä½œ**ï¼šç§é’¥æ¢å¤å¿…é¡»æ»¡è¶³æœ€å°ä»½é¢è¦æ±‚ï¼ˆå¦‚5ä»½ä¸­è‡³å°‘3ä»½ï¼‰ï¼Œä¸”æ‰€æœ‰å‚ä¸è€…éœ€ç°åœºè®¤è¯ã€‚
------
### âš ï¸ **ç†è§£è¯¯åŒºä¸æ³¨æ„äº‹é¡¹**
#### **ç”¨æˆ·è®¾å¤‡ä¸å­˜å‚¨æ ¹ç§é’¥**
- ç”¨æˆ·è®¾å¤‡ä»…å­˜å‚¨æ ¹è¯ä¹¦çš„**å…¬é’¥**ï¼Œç”¨äºéªŒè¯ä¿¡ä»»é“¾ã€‚ç§é’¥ä»…å­˜åœ¨äºCAæœºæ„çš„HSMä¸­ï¼Œ**ä¸å¯èƒ½å‡ºç°åœ¨ç»ˆç«¯è®¾å¤‡**ï¼ˆå¦‚æ‰‹æœºã€ç”µè„‘ï¼‰ä¸Šã€‚
#### **ä¸­é—´è¯ä¹¦çš„æ¡¥æ¢ä½œç”¨**
- æ ¹è¯ä¹¦ç§é’¥ä»…ç­¾å‘ç›´å±ä¸­é—´CAè¯ä¹¦ï¼Œå†ç”±ä¸­é—´CAç§é’¥ç­¾å‘ç»ˆç«¯è¯ä¹¦ã€‚è¿™ç§åˆ†å±‚è®¾è®¡ç¡®ä¿æ ¹ç§é’¥æå°‘ä½¿ç”¨ï¼Œè€Œä¸­é—´CAç§é’¥æ³„éœ²æ—¶å¯é€šè¿‡åŠé”€æœºåˆ¶å¿«é€Ÿå“åº”ã€‚
#### **è‡ªç­¾åæ ¹è¯ä¹¦çš„ç‰¹æ®Šæ€§**
- æ ¹è¯ä¹¦çš„è‡ªç­¾åç‰¹æ€§ä½¿å…¶æˆä¸ºä¿¡ä»»é”šç‚¹ï¼Œä½†è¿™ä¹Ÿè¦æ±‚å…¶ç§é’¥å¿…é¡»ç»å¯¹å®‰å…¨ã€‚ä¸€æ—¦æ ¹ç§é’¥æ³„éœ²ï¼Œæ•´ä¸ªä¿¡ä»»é“¾å°†å´©æºƒï¼Œæ‰€æœ‰ä¾èµ–è¯¥æ ¹è¯ä¹¦çš„é€šä¿¡å‡é¢ä¸´ä¸­é—´äººæ”»å‡»é£é™©ã€‚
------
### ğŸ’ **æ€»ç»“**
| **ç»„ä»¶** | **å­˜å‚¨ä½ç½®** | **å®‰å…¨é€»è¾‘** | **ç”¨é€”** |
| -------------- | ------------------------- | ---------------------------------- | -------------------- |
| **æ ¹è¯ä¹¦å…¬é’¥** | æ“ä½œç³»ç»Ÿ/æµè§ˆå™¨é¢„è£… | ä½œä¸ºä¿¡ä»»é”šç‚¹ï¼Œå…¬å¼€éªŒè¯ä¸‹çº§è¯ä¹¦ç­¾å | æ„å»ºä¿¡ä»»é“¾èµ·ç‚¹ |
| **æ ¹è¯ä¹¦ç§é’¥** | CAæœºæ„HSMè®¾å¤‡ï¼ˆç‰©ç†éš”ç¦»ï¼‰ | ç¦»çº¿å­˜å‚¨ã€å¤šäººåˆ†æŒã€æ“ä½œå®¡è®¡ | ä»…ç­¾å‘ç›´å±ä¸­é—´CAè¯ä¹¦ |
&amp;gt; **å…³é”®ç»“è®º**ï¼š
&amp;gt; âœ… â€‹**æ‚¨çš„ç†è§£æ­£ç¡®**â€‹ï¼šé¢„è£…çš„æ˜¯æ ¹è¯ä¹¦å…¬é’¥ï¼Œç§é’¥ç”±CAæœºæ„ç»å¯¹æŒæ§ã€‚
&amp;gt; ğŸ” â€‹**å®‰å…¨åŸºçŸ³**â€‹ï¼šæ ¹ç§é’¥çš„ç‰©ç†éš”ç¦»å’Œæ“ä½œç®¡æ§æ˜¯PKIä½“ç³»å¯ä¿¡çš„æ ¸å¿ƒï¼Œä»»ä½•ç–å¿½å¯èƒ½å¯¼è‡´å…¨å±€æ€§å®‰å…¨ç¾éš¾ã€‚
&amp;gt; ğŸŒ â€‹**å®é™…å½±å“**â€‹ï¼šå½“æ‚¨è®¿é—®HTTPSç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨è‡ªåŠ¨è°ƒç”¨é¢„è£…çš„æ ¹å…¬é’¥éªŒè¯æœåŠ¡å™¨è¯ä¹¦ï¼Œè€Œæ ¹ç§é’¥åœ¨CAçš„ä¿é™©åº“ä¸­â€œæ²‰ç¡â€â€”â€”è¿™æ­£æ˜¯äº’è”ç½‘ä¿¡ä»»ä½“ç³»çš„ç²¾å¦™è®¾è®¡ã€‚
## TLS
TLSï¼ˆTransport Layer Securityï¼Œä¼ è¾“å±‚å®‰å…¨æ€§åè®®ï¼‰æ˜¯äº’è”ç½‘ä¿å¯†é€šä¿¡çš„æ ¸å¿ƒåè®®ï¼Œç”¨äºä¿éšœæ•°æ®ä¼ è¾“çš„æœºå¯†æ€§ã€å®Œæ•´æ€§å’Œèº«ä»½è®¤è¯ã€‚ä»¥ä¸‹æ˜¯å…¶æŠ€æœ¯ç»†èŠ‚ä¸åº”ç”¨è§£æï¼š
------
### ğŸ” **TLSçš„æ ¸å¿ƒç›®æ ‡**
1. **æœºå¯†æ€§**ï¼šé€šè¿‡å¯¹ç§°åŠ å¯†ï¼ˆå¦‚AESã€ChaCha20ï¼‰åŠ å¯†æ•°æ®ï¼Œé˜²æ­¢çªƒå¬ã€‚
2. **å®Œæ•´æ€§**ï¼šä½¿ç”¨HMACæˆ–AEADç®—æ³•ï¼ˆå¦‚SHA-256ã€Poly1305ï¼‰ç¡®ä¿æ•°æ®æœªè¢«ç¯¡æ”¹ã€‚
3. **èº«ä»½è®¤è¯**ï¼šåŸºäºPKIä½“ç³»éªŒè¯æœåŠ¡å™¨/å®¢æˆ·ç«¯èº«ä»½ï¼ˆX.509è¯ä¹¦ï¼‰ã€‚
------
### â³ **å‘å±•å†ç¨‹ä¸ç‰ˆæœ¬æ¼”è¿›**
| **ç‰ˆæœ¬** | **å‘å¸ƒæ—¶é—´** | **å…³é”®æ”¹è¿›** | **ç°çŠ¶** |
| ----------- | ------------ | -------------------------------------- | ---------------------------- |
| **SSL 3.0** | 1996 | é¦–ä¸ªå¹¿æ³›åº”ç”¨ç‰ˆæœ¬ | âš ï¸ å·²å¼ƒç”¨ï¼ˆPOODLEæ¼æ´ï¼‰ |
| **TLS 1.0** | 1999 | ä¿®å¤SSLæ¼æ´ï¼Œæ”¯æŒæ›´å¤šç®—æ³• | âš ï¸ é€æ­¥æ·˜æ±°ï¼ˆå¼±åŠ å¯†ç®—æ³•ï¼‰ |
| **TLS 1.2** | 2008 | å¼ºåˆ¶SHA-256ã€AES-GCMï¼Œæ”¯æŒå‰å‘ä¿å¯† | âœ… ä¸»æµï¼ˆ&amp;gt;95%ç½‘ç«™æ”¯æŒï¼‰ |
| **TLS 1.3** | 2018 | 1-RTTæ¡æ‰‹ã€0-RTTæ¨¡å¼ã€ä»…ä¿ç•™å¼ºåŠ å¯†ç®—æ³• | âœ… æœ€æ–°æ ‡å‡†ï¼ˆæ€§èƒ½ä¸å®‰å…¨æœ€ä¼˜ï¼‰ |
&amp;gt; **æ³¨**ï¼šTLS 1.3åˆ é™¤RSAå¯†é’¥äº¤æ¢ã€SHA-1ã€RC4ç­‰ä¸å®‰å…¨æœºåˆ¶ï¼Œä»…æ”¯æŒAEADåŠ å¯†ã€‚
------
### ğŸ¤ **TLSæ¡æ‰‹æµç¨‹ï¼ˆä»¥TLS 2ä¸ºä¾‹ï¼‰**
1. Client Hello
- å®¢æˆ·ç«¯å‘é€æ”¯æŒçš„TLSç‰ˆæœ¬ã€åŠ å¯†å¥—ä»¶åˆ—è¡¨ã€éšæœºæ•°ã€‚
2. Server Hello
- æœåŠ¡å™¨é€‰å®šç‰ˆæœ¬å’ŒåŠ å¯†å¥—ä»¶ï¼Œè¿”å›éšæœºæ•°+æœåŠ¡å™¨è¯ä¹¦ã€‚
3. å¯†é’¥äº¤æ¢
- å®¢æˆ·ç«¯ç”Ÿæˆé¢„ä¸»å¯†é’¥ï¼Œç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†åå‘é€ï¼ˆRSAæ–¹æ¡ˆï¼‰
æˆ–é€šè¿‡DH/ECDHäº¤æ¢ç”Ÿæˆå…±äº«å¯†é’¥ã€‚
4. ç”Ÿæˆä¼šè¯å¯†é’¥
- åŒæ–¹åŸºäºéšæœºæ•°+é¢„ä¸»å¯†é’¥ï¼Œç”Ÿæˆå¯¹ç§°åŠ å¯†å¯†é’¥ã€‚
5. æ¡æ‰‹å®Œæˆ
- äº¤æ¢`Finished`æ¶ˆæ¯éªŒè¯å¯†é’¥å’Œå®Œæ•´æ€§ã€‚
**ä¼˜åŒ–**ï¼šTLS 1.3åˆå¹¶æ­¥éª¤è‡³**1-RTTæ¡æ‰‹**ï¼Œæ”¯æŒ**0-RTT**å¿«é€Ÿé‡è¿ã€‚
------
### ğŸ”‘ **å¯†é’¥äº¤æ¢æœºåˆ¶**
| **ç±»å‹** | **åŸç†** | **å®‰å…¨æ€§** | **åº”ç”¨åœºæ™¯** |
| ----------------------- | ------------------------------ | --------------- | --------------- |
| **RSA** | å®¢æˆ·ç«¯ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†é¢„ä¸»å¯†é’¥ | âŒ æ— å‰å‘ä¿å¯† | é€æ­¥æ·˜æ±° |
| **Diffie-Hellman (DH)** | åŒæ–¹äº¤æ¢å‚æ•°ç”Ÿæˆå…±äº«å¯†é’¥ | âœ… å‰å‘ä¿å¯† | TLS 1.2å¸¸ç”¨ |
| **ECDHE** | æ¤­åœ†æ›²çº¿ä¼˜åŒ–DHï¼Œè®¡ç®—é‡æ›´ä½ | âœ… å‰å‘ä¿å¯†+é«˜æ•ˆ | TLS 1.2/1.3é¦–é€‰ |
&amp;gt; **å‰å‘ä¿å¯†ï¼ˆPFSï¼‰**ï¼šå³ä½¿é•¿æœŸç§é’¥æ³„æ¼ï¼Œå†å²ä¼šè¯ä»å®‰å…¨ã€‚
------
### ğŸ“¦ **åè®®åˆ†å±‚ä¸å­åè®®**
1. è®°å½•åè®®ï¼ˆRecord Protocolï¼‰
- åˆ†å¸§ã€å‹ç¼©ï¼ˆå·²å¼ƒç”¨ï¼‰ã€åŠ å¯†/è®¤è¯æ•°æ®ã€‚
2. æ¡æ‰‹åè®®ï¼ˆHandshake Protocolï¼‰
- åå•†å¯†é’¥å’Œç®—æ³•ï¼Œæ ¸å¿ƒæµç¨‹è§ç¬¬ä¸‰èŠ‚ã€‚
3. å‘Šè­¦åè®®ï¼ˆAlert Protocolï¼‰
- é€šçŸ¥é”™è¯¯ï¼ˆå¦‚è¯ä¹¦å¤±æ•ˆã€è§£å¯†å¤±è´¥ï¼‰ã€‚
4. å˜æ›´å¯†ç è§„èŒƒåè®®ï¼ˆChange Cipher Specï¼‰
- é€šçŸ¥åˆ‡æ¢è‡³åŠ å¯†é€šä¿¡æ¨¡å¼ã€‚
------
### ğŸ›¡ï¸ **å®‰å…¨ç‰¹æ€§æ·±åº¦è§£æ**
1. è¯ä¹¦éªŒè¯é“¾
- å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨è¯ä¹¦çš„ç­¾å‘é“¾ï¼Œè¿½æº¯è‡³ä¿¡ä»»çš„æ ¹CAã€‚
2. OCSPè£…è®¢ï¼ˆStaplingï¼‰
- æœåŠ¡å™¨é™„å¸¦è¯ä¹¦çŠ¶æ€å“åº”ï¼Œé¿å…å®¢æˆ·ç«¯å•ç‹¬æŸ¥è¯¢CAã€‚
3. SNIæ‰©å±•ï¼ˆServer Name Indicationï¼‰
- å•IPå¤šè¯ä¹¦åœºæ™¯ä¸‹ï¼Œå®¢æˆ·ç«¯åœ¨æ¡æ‰‹æ—¶å£°æ˜ç›®æ ‡åŸŸåã€‚
------
### ğŸŒ **åº”ç”¨åœºæ™¯**
1. HTTPS
- HTTP over TLSï¼Œç«¯å£443ï¼Œç°ä»£ç½‘ç«™æ ‡é…ï¼ˆå¦‚é“¶è¡Œã€ç”µå•†ï¼‰ã€‚
2. é‚®ä»¶å®‰å…¨
- SMTPSï¼ˆç«¯å£465ï¼‰ã€IMAPSï¼ˆç«¯å£993ï¼‰ã€‚
3. VPNä¸è¿œç¨‹è®¿é—®
- TLSç”¨äºIPSec/L2TPçš„åŠ å¯†é€šé“ã€‚
4. ç‰©è”ç½‘ï¼ˆIoTï¼‰
- DTLSï¼ˆåŸºäºUDPçš„TLSï¼‰é€‚é…èµ„æºå—é™è®¾å¤‡ã€‚
------
### âš ï¸ **éƒ¨ç½²æœ€ä½³å®è·µ**
1. ç¦ç”¨æ—§åè®®
- å…³é—­SSL 3.0ã€TLS 1.0/1.1ã€‚
2. ç®—æ³•é…ç½®
- ä¼˜å…ˆé€‰æ‹©ECDHE+AES-GCM/ChaCha20-Poly1305ã€‚
3. è¯ä¹¦ç®¡ç†
- ä½¿ç”¨ACMEè‡ªåŠ¨åŒ–ç»­ç­¾ï¼ˆå¦‚Let&amp;#39;s Encryptï¼‰ã€‚
4. HSTSç­–ç•¥
- å¼ºåˆ¶æµè§ˆå™¨ä»…é€šè¿‡HTTPSè¿æ¥ã€‚
------
### ğŸ“Š **TLSåè®®æ¼”è¿›è¶‹åŠ¿**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;timeline
title TLSåè®®å‘å±•æ—¶é—´çº¿
section æ·˜æ±°æœŸ
1996 ï¼š SSL 3.0
2015 ï¼š SSLå…¨ç³»åˆ—å¼ƒç”¨
section è¿‡æ¸¡æœŸ
1999 ï¼š TLS 1.0
2008 ï¼š TLS 1.2 (ä¸»æµ)
section æ–°æ—¶ä»£
2018 ï¼š TLS 1.3
æœªæ¥ ï¼š QUICé›†æˆ(TLS 1.3 in HTTP/3)&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;&amp;gt; å½“å‰**TLS 1.3**åœ¨æ€§èƒ½ï¼ˆ1-RTTæ¡æ‰‹ï¼‰å’Œå®‰å…¨æ€§ï¼ˆä»…å¼ºåŠ å¯†ç®—æ³•ï¼‰ä¸Šå…¨é¢é¢†å…ˆï¼Œå»ºè®®æ–°é¡¹ç›®é»˜è®¤å¯ç”¨ï¼Œå¹¶é…åˆHTTP/2/3å®ç°é«˜æ•ˆå®‰å…¨ä¼ è¾“ã€‚
## SSLå¼ƒç”¨
SSLï¼ˆSecure Sockets Layerï¼‰åè®®å› å…¶ä¸¥é‡çš„å®‰å…¨ç¼ºé™·å’Œè®¾è®¡æ¼æ´ï¼Œå·²è¢«è¡Œä¸šå…¨é¢å¼ƒç”¨ã€‚ä»¥ä¸‹æ˜¯å¼ƒç”¨çš„æ ¸å¿ƒåŸå› åŠæŠ€æœ¯ç»†èŠ‚åˆ†æï¼š
------
### ğŸ”“ **å®‰å…¨æ¼æ´è‡´å‘½æ€§**
1. **POODLEæ”»å‡»ï¼ˆPadding Oracle On Downgraded Legacy Encryptionï¼‰**
- **åŸç†**ï¼šæ”»å‡»è€…åˆ©ç”¨SSL 3.0çš„å¡«å……æœºåˆ¶ç¼ºé™·ï¼Œé€šè¿‡é™çº§æ”»å‡»å¼ºåˆ¶ä¼šè¯å›é€€åˆ°SSL 3.0ï¼Œé€å­—èŠ‚è§£å¯†åŠ å¯†æ•°æ®ã€‚
- **å½±å“**ï¼šå¯çªƒå–Cookieã€ä¼šè¯ä»¤ç‰Œç­‰æ•æ„Ÿä¿¡æ¯ã€‚
- **ç°çŠ¶**ï¼šä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Firefoxï¼‰å·²é»˜è®¤ç¦ç”¨SSL 3.0ã€‚
2. **BEASTæ”»å‡»ï¼ˆBrowser Exploit Against SSL/TLSï¼‰**
- **åŸç†**ï¼šé’ˆå¯¹SSL 3.0å’ŒTLS 1.0çš„CBCï¼ˆå¯†ç å—é“¾æ¥ï¼‰æ¨¡å¼æ¼æ´ï¼Œåˆ©ç”¨é¢„æµ‹IVï¼ˆåˆå§‹åŒ–å‘é‡ï¼‰è§£å¯†æ•°æ®ã€‚
- **å½±å“**ï¼šå¯åŠ«æŒHTTPSä¼šè¯ï¼Œçªƒå–ç”¨æˆ·å‡­è¯ã€‚
3. **å…¶ä»–é«˜å±æ¼æ´**
- **CRIMEæ”»å‡»**ï¼šåˆ©ç”¨SSLå‹ç¼©æœºåˆ¶æ³„éœ²åŠ å¯†æ•°æ®ã€‚
- **å¿ƒè„æ»´è¡€ï¼ˆHeartbleedï¼‰**ï¼šOpenSSLåº“çš„å†…å­˜æ³„éœ²æ¼æ´ï¼Œå½±å“SSL/TLSå®ç°ï¼Œå¯è¯»å–æœåŠ¡å™¨å†…å­˜ï¼ˆå¦‚ç§é’¥ï¼‰ã€‚
------
### âš ï¸ **åŠ å¯†ç®—æ³•ä¸åè®®è®¾è®¡ç¼ºé™·**
| **ç¼ºé™·ç±»å‹** | **SSLé—®é¢˜** | **TLSæ”¹è¿›** |
| --------------------- | ----------------------- | ---------------------------------- |
| **åŠ å¯†ç®—æ³•** | æ”¯æŒå¼±ç®—æ³•ï¼ˆRC4ã€DESï¼‰ | å¼ºåˆ¶ä½¿ç”¨AES-GCMã€ChaCha20ç­‰å¼ºç®—æ³• |
| **å¯†é’¥äº¤æ¢** | æ— å‰å‘ä¿å¯†ï¼ˆå¦‚é™æ€RSAï¼‰ | æ”¯æŒECDHEå®ç°å‰å‘ä¿å¯† |
| **æ¶ˆæ¯è®¤è¯ï¼ˆMACï¼‰** | ä½¿ç”¨ä¸å®‰å…¨MACè®¡ç®—æ–¹å¼ | é‡‡ç”¨HMACç®—æ³•ï¼ŒæŠ—ç¯¡æ”¹èƒ½åŠ›æ›´å¼º |
| **ä¼ªéšæœºå‡½æ•°ï¼ˆPRFï¼‰** | éšæœºæ€§ä¸è¶³ï¼Œæ˜“è¢«é¢„æµ‹ | åŸºäºHMACçš„PRFï¼Œç»“åˆSHA-256ç­‰å¼ºæ•£åˆ— |
&amp;gt; **å‰å‘ä¿å¯†ï¼ˆPFSï¼‰**ï¼šTLSçš„ECDHEæ–¹æ¡ˆç¡®ä¿å³ä½¿é•¿æœŸç§é’¥æ³„éœ²ï¼Œå†å²ä¼šè¯ä»å®‰å…¨ã€‚
------
### âš™ï¸ **åè®®ç‰ˆæœ¬è¿­ä»£ä¸å…¼å®¹æ€§**
1. **ç‰ˆæœ¬æ¼”è¿›**
- **SSL 2.0/3.0**ï¼š1990å¹´ä»£è®¾è®¡ï¼Œç¼ºä¹ç°ä»£å®‰å…¨æœºåˆ¶ï¼ˆå¦‚SNIæ‰©å±•ã€ALPNï¼‰ã€‚
- **TLS 1.2/1.3**ï¼šä¿®å¤æ¼æ´ï¼Œä¼˜åŒ–æ¡æ‰‹æ•ˆç‡ï¼ˆTLS 1.3ä»…éœ€1-RTTï¼Œæ”¯æŒ0-RTTï¼‰ã€‚
2. **å…¼å®¹æ€§å‰²è£‚**
- SSLä¸TLS**æ— æ³•äº’æ“ä½œ**ï¼šå› åŠ å¯†å¥—ä»¶å’Œç‰ˆæœ¬å·å·®å¼‚ï¼Œæ··åˆéƒ¨ç½²æ˜“å¯¼è‡´è¿æ¥å¤±è´¥ã€‚
- **ç°ä»£ç”Ÿæ€æ·˜æ±°**ï¼šChromeã€Firefoxç­‰è‡ª2018å¹´èµ·å®Œå…¨ç¦ç”¨SSLã€‚
------
### ğŸ“‰ **æ€§èƒ½ä¸ç®¡ç†æˆæœ¬**
1. **æ€§èƒ½ç“¶é¢ˆ**
- SSLæ¡æ‰‹å»¶è¿Ÿé«˜ï¼ˆ3-4 RTTï¼‰ï¼Œè€ŒTLS 1.3é™è‡³1-RTTã€‚
- å¼±åŠ å¯†ç®—æ³•ï¼ˆå¦‚RC4ï¼‰å¢åŠ æœåŠ¡å™¨CPUè´Ÿè½½ã€‚
2. **ç»´æŠ¤å¤æ‚åº¦**
- æŒç»­ä¿®è¡¥æ¼æ´æˆæœ¬é«˜ï¼ˆå¦‚OpenSSLé¢‘ç¹æ›´æ–°ï¼‰ã€‚
- è¯ä¹¦ç®¡ç†å¤æ‚ï¼Œç¼ºä¹è‡ªåŠ¨åŒ–ç»­ç­¾æœºåˆ¶ï¼ˆå¯¹æ¯”ACMEåè®®ï¼‰ã€‚
------
### ğŸ›¡ï¸ **è¿ç§»è‡³TLSçš„è¡Œä¸šå®è·µ**
1. **åè®®é…ç½®ä¼˜åŒ–**
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id="nginxç¦ç”¨sslä»…å¯ç”¨tls-2"&gt;Nginxç¦ç”¨SSLï¼Œä»…å¯ç”¨TLS 2+
&lt;/h1&gt;&lt;p&gt;ssl_protocols TLSv1.2 TLSv1.3;
ssl_ciphers &amp;lsquo;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256&amp;rsquo;;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;2. **è‡ªåŠ¨åŒ–å·¥å…·æ”¯æŒ**
- **è¯ä¹¦ç®¡ç†**ï¼šLet&amp;#39;s Encryptæä¾›å…è´¹è¯ä¹¦åŠè‡ªåŠ¨ç»­ç­¾ã€‚
- **æ¼æ´æ‰«æ**ï¼šQualys SSL Labsã€`testssl.sh`æ£€æµ‹é…ç½®å¼±ç‚¹ã€‚
3. **å¼ºåˆ¶å®‰å…¨ç­–ç•¥**
- **HSTSå“åº”å¤´**ï¼šå¼ºåˆ¶æµè§ˆå™¨ä½¿ç”¨HTTPSï¼Œé˜²æ­¢é™çº§æ”»å‡»ã€‚
- **OCSPè£…è®¢**ï¼šå®æ—¶éªŒè¯è¯ä¹¦çŠ¶æ€ï¼Œå‡å°‘å»¶è¿Ÿã€‚
------
### ğŸ’ **æ€»ç»“ï¼šå¼ƒç”¨SSLçš„å¿…ç„¶æ€§**
SSLçš„å¼ƒç”¨æ˜¯**å®‰å…¨æ¼”è¿›ä¸æ€§èƒ½ä¼˜åŒ–**çš„å¿…ç„¶ç»“æœï¼š
- ğŸ” **å®‰å…¨å±‚é¢**ï¼šåè®®å±‚æ¼æ´æ— æ³•ä¿®è¡¥ï¼Œè¢«åŠ¨é˜²å¾¡æˆæœ¬è¿‡é«˜ï¼›
- âš¡ **æ€§èƒ½å±‚é¢**ï¼šæ¡æ‰‹æ•ˆç‡ä½ï¼Œå¼±ç®—æ³•æ‹–ç´¯æœåŠ¡å™¨èµ„æºï¼›
- ğŸŒ **ç”Ÿæ€å±‚é¢**ï¼šTLSå·²æˆä¸ºç°ä»£æµè§ˆå™¨ã€äº‘æœåŠ¡åŠæ ‡å‡†çš„å”¯ä¸€é€‰æ‹©ã€‚
â€‹**è¿ç§»å»ºè®®**â€‹ï¼š
&amp;gt; ç«‹å³ç¦ç”¨æ‰€æœ‰SSLç‰ˆæœ¬ï¼Œå‡çº§è‡³TLS 1.2/1.3ï¼Œå¹¶é…ç½®å¼ºå¯†ç å¥—ä»¶å’ŒHSTSç­–ç•¥ã€‚å¯¹äºé—ç•™ç³»ç»Ÿï¼Œå¯é€šè¿‡åå‘ä»£ç†ï¼ˆå¦‚Nginxï¼‰å¸è½½TLSå¤„ç†ï¼Œå…¼é¡¾å®‰å…¨ä¸å…¼å®¹æ€§ã€‚
## TLS å…¨è¿‡ç¨‹
### ğŸ” **TLSå…¨è¿‡ç¨‹è¯¦è§£ï¼šä»æ¡æ‰‹åˆ°åŠ å¯†é€šä¿¡**
TLSï¼ˆTransport Layer Securityï¼‰æ˜¯ä¿éšœç½‘ç»œé€šä¿¡å®‰å…¨çš„æ ¸å¿ƒåè®®ï¼Œé€šè¿‡åŠ å¯†ã€èº«ä»½è®¤è¯å’Œå®Œæ•´æ€§æ ¡éªŒç¡®ä¿æ•°æ®ä¼ è¾“å®‰å…¨ã€‚ä»¥ä¸‹æ˜¯å…¶å…¨è¿‡ç¨‹çš„è¯¦ç»†è§£æï¼Œç»“åˆTLS 1.2ï¼ˆä¸»æµç‰ˆæœ¬ï¼‰å’ŒTLS 1.3ï¼ˆæœ€æ–°ä¼˜åŒ–ç‰ˆæœ¬ï¼‰çš„æµç¨‹è¯´æ˜ã€‚
------
### ğŸ”„ **æ¡æ‰‹é˜¶æ®µï¼šåå•†å‚æ•°ä¸èº«ä»½è®¤è¯**
#### **å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ˆClient Helloï¼‰**
å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€åˆå§‹æ¶ˆæ¯ï¼ŒåŒ…å«ï¼š
- **TLSç‰ˆæœ¬**ï¼šæ”¯æŒçš„åè®®ç‰ˆæœ¬ï¼ˆå¦‚TLS 1.2æˆ–1.3ï¼‰ã€‚
- **éšæœºæ•°ï¼ˆClient Randomï¼‰**ï¼š32å­—èŠ‚éšæœºå€¼ï¼Œç”¨äºåç»­å¯†é’¥ç”Ÿæˆã€‚
- **åŠ å¯†å¥—ä»¶åˆ—è¡¨**ï¼šæ”¯æŒçš„ç®—æ³•ç»„åˆï¼ˆå¦‚`TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256`ï¼‰ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºã€‚
- **ä¼šè¯IDï¼ˆå¯é€‰ï¼‰**ï¼šç”¨äºä¼šè¯æ¢å¤ï¼ˆå‡å°‘åç»­æ¡æ‰‹å¼€é”€ï¼‰ã€‚
&amp;gt; ğŸ“Œ *åŠ å¯†å¥—ä»¶å‘½åè§„åˆ™*ï¼š
&amp;gt; `å¯†é’¥äº¤æ¢ç®—æ³•_èº«ä»½è®¤è¯ç®—æ³•_å¯¹ç§°åŠ å¯†ç®—æ³•_æ‘˜è¦ç®—æ³•`
&amp;gt; ä¾‹å¦‚ï¼š`ECDHE_RSA`ï¼ˆå¯†é’¥äº¤æ¢+ç­¾åï¼‰ã€`AES_128_GCM`ï¼ˆåŠ å¯†ï¼‰ã€`SHA256`ï¼ˆå®Œæ•´æ€§æ ¡éªŒï¼‰ã€‚
------
#### **æœåŠ¡å™¨å“åº”ï¼ˆServer Helloï¼‰**
æœåŠ¡å™¨é€‰æ‹©æœ€ä½³å‚æ•°å¹¶å›å¤ï¼š
- **ç¡®è®¤TLSç‰ˆæœ¬**ï¼šé€‰æ‹©åŒæ–¹å‡æ”¯æŒçš„æœ€é«˜ç‰ˆæœ¬ã€‚
- **éšæœºæ•°ï¼ˆServer Randomï¼‰**ï¼šæœåŠ¡å™¨ç”Ÿæˆçš„32å­—èŠ‚éšæœºå€¼ã€‚
- **é€‰å®šåŠ å¯†å¥—ä»¶**ï¼šä»å®¢æˆ·ç«¯åˆ—è¡¨ä¸­é€‰å‡ºä¸€ç»„ã€‚
- **ä¼šè¯IDï¼ˆå¯é€‰ï¼‰**ï¼šè‹¥æ”¯æŒä¼šè¯æ¢å¤ï¼Œè¿”å›æ–°IDæˆ–å¤ç”¨æ—§IDã€‚
**é™„åŠ å…³é”®æ¶ˆæ¯**ï¼š
- **è¯ä¹¦ï¼ˆCertificateï¼‰**ï¼š
æœåŠ¡å™¨å‘é€æ•°å­—è¯ä¹¦é“¾ï¼ˆå«å…¬é’¥ï¼‰ï¼Œç”±CAç­¾å‘ï¼Œç”¨äºèº«ä»½è®¤è¯ã€‚
- **Server Key Exchangeï¼ˆå¯é€‰ï¼‰**ï¼š
è‹¥åŠ å¯†å¥—ä»¶éœ€é¢å¤–å‚æ•°ï¼ˆå¦‚ECDHEçš„æ¤­åœ†æ›²çº¿å‚æ•°ï¼‰ï¼Œåˆ™å‘é€æ­¤æ¶ˆæ¯ã€‚
- **Certificate Requestï¼ˆå¯é€‰ï¼‰**ï¼š
è‹¥éœ€åŒå‘è®¤è¯ï¼ˆå¦‚ä¼ä¸šAPIï¼‰ï¼Œè¦æ±‚å®¢æˆ·ç«¯æä¾›è¯ä¹¦ã€‚
- **Server Hello Done**ï¼š
æ ‡è®°æœåŠ¡å™¨å“åº”ç»“æŸã€‚
------
#### **å®¢æˆ·ç«¯éªŒè¯ä¸å¯†é’¥äº¤æ¢**
å®¢æˆ·ç«¯å®Œæˆä»¥ä¸‹æ“ä½œï¼š
- **è¯ä¹¦éªŒè¯**ï¼š
æ ¡éªŒæœåŠ¡å™¨è¯ä¹¦çš„æœ‰æ•ˆæ€§ï¼ˆCAç­¾åã€æœ‰æ•ˆæœŸã€åŸŸååŒ¹é…ã€åŠé”€çŠ¶æ€ï¼‰ã€‚
- ç”Ÿæˆé¢„ä¸»å¯†é’¥ï¼ˆPre-Master Secretï¼‰ï¼š
æ ¹æ®å¯†é’¥äº¤æ¢ç®—æ³•ç”Ÿæˆï¼š
- **RSA**ï¼šå®¢æˆ·ç«¯ç”Ÿæˆéšæœºæ•°ï¼Œç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†åå‘é€ã€‚
- **ECDHE/DHE**ï¼šå®¢æˆ·ç«¯ç”Ÿæˆä¸´æ—¶å…¬ç§é’¥å¯¹ï¼Œå‘é€å…¬é’¥å‚æ•°ã€‚
- **å‘é€å®¢æˆ·ç«¯è¯ä¹¦ï¼ˆå¯é€‰ï¼‰**ï¼š
è‹¥éœ€åŒå‘è®¤è¯ï¼Œå®¢æˆ·ç«¯å‘é€è¯ä¹¦åŠç­¾åã€‚
- **åˆ‡æ¢åŠ å¯†é€šçŸ¥ï¼ˆChange Cipher Specï¼‰**ï¼š
é€šçŸ¥æœåŠ¡å™¨åç»­é€šä¿¡å¯ç”¨åŠ å¯†ã€‚
- **Finishedæ¶ˆæ¯**ï¼š
ç”¨ä¼šè¯å¯†é’¥åŠ å¯†çš„éªŒè¯æ•°æ®ï¼Œä¾›æœåŠ¡å™¨æ ¡éªŒæ¡æ‰‹å®Œæ•´æ€§ã€‚
------
#### **æœåŠ¡å™¨å®Œæˆæ¡æ‰‹**
- **è§£å¯†é¢„ä¸»å¯†é’¥**ï¼š
è‹¥ä½¿ç”¨RSAï¼ŒæœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†è·å–é¢„ä¸»å¯†é’¥ã€‚
- **ç”Ÿæˆä¼šè¯å¯†é’¥**ï¼š
åŒæ–¹åŸºäº`Client Random + Server Random + Pre-Master Secret`ï¼Œé€šè¿‡ä¼ªéšæœºå‡½æ•°ï¼ˆPRFï¼‰ç”Ÿæˆ**ä¸»å¯†é’¥ï¼ˆMaster Secretï¼‰â€‹**ï¼Œå†æ´¾ç”Ÿå‡º**ä¼šè¯å¯†é’¥**â€‹ï¼ˆå¯¹ç§°åŠ å¯†å¯†é’¥ï¼‰ã€‚
- **åˆ‡æ¢åŠ å¯†é€šçŸ¥**ï¼š
æœåŠ¡å™¨å‘é€`Change Cipher Spec`ï¼Œå¯ç”¨åŠ å¯†ã€‚
- **Finishedæ¶ˆæ¯**ï¼š
ç”¨ä¼šè¯å¯†é’¥åŠ å¯†çš„éªŒè¯æ•°æ®ï¼Œå®¢æˆ·ç«¯æ ¡éªŒé€šè¿‡åæ¡æ‰‹å®Œæˆã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;sequenceDiagram
participant Client
participant Server
Client-&amp;raquo;Server: Client Hello (éšæœºæ•°+åŠ å¯†å¥—ä»¶åˆ—è¡¨)
Server-&amp;raquo;Client: Server Hello (éšæœºæ•°+é€‰å®šå¥—ä»¶) + è¯ä¹¦ + Server Key Exchange
Client-&amp;raquo;Server: éªŒè¯è¯ä¹¦ + Client Key Exchange + Change Cipher Spec + Finished
Server-&amp;raquo;Client: Change Cipher Spec + Finished&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### ğŸ”’ **åŠ å¯†é€šä¿¡é˜¶æ®µï¼šå¯¹ç§°åŠ å¯†ä¼ è¾“**
æ¡æ‰‹å®Œæˆåï¼Œè¿›å…¥é«˜æ•ˆçš„æ•°æ®åŠ å¯†ä¼ è¾“ï¼š
1. **ä¼šè¯å¯†é’¥åº”ç”¨**ï¼š
åŒæ–¹ä½¿ç”¨ç›¸åŒçš„ä¼šè¯å¯†é’¥ï¼ˆå¦‚AES-128ï¼‰åŠ å¯†åº”ç”¨æ•°æ®ã€‚
2. è®°å½•åè®®ï¼ˆRecord Protocolï¼‰å¤„ç†ï¼š
- **åˆ†æ®µ**ï¼šå°†æ•°æ®åˆ†å—ï¼ˆâ‰¤16KBï¼‰ã€‚
- **åŠ å¯†ä¸è®¤è¯**ï¼šå¯¹ç§°åŠ å¯†æ•°æ® + HMACæ ¡éªŒå®Œæ•´æ€§ã€‚
- **æ·»åŠ å¤´éƒ¨**ï¼šé™„åŠ ç±»å‹ã€ç‰ˆæœ¬ã€é•¿åº¦ä¿¡æ¯ï¼Œé€šè¿‡TCPä¼ è¾“ã€‚
3. **ç»ˆæ­¢è¿æ¥**ï¼š
é€šè¿‡`Alert`åè®®é€šçŸ¥å…³é—­è¿æ¥ï¼ˆå¦‚`close_notify`ï¼‰ã€‚
------
### âš¡ **TLS 3çš„æ ¸å¿ƒä¼˜åŒ–**
TLS 1.3å¤§å¹…ç®€åŒ–æµç¨‹ï¼Œæå‡å®‰å…¨æ€§å’Œæ€§èƒ½ï¼š
1. **1-RTTæ¡æ‰‹**ï¼š
- å®¢æˆ·ç«¯åœ¨`Client Hello`ä¸­é¢„ç”Ÿæˆå¯†é’¥å‚æ•°ï¼ˆå¦‚å…±äº«å¯†é’¥ï¼‰ï¼ŒæœåŠ¡å™¨ç›´æ¥å“åº”åŠ å¯†çš„`Server Hello`ï¼Œæ— éœ€é¢å¤–äº¤äº’ã€‚
2. **0-RTTæ¢å¤ä¼šè¯**ï¼š
è‹¥ä¹‹å‰è¿æ¥è¿‡ï¼Œå®¢æˆ·ç«¯é¦–æ¬¡è¯·æ±‚å³å¯æºå¸¦åŠ å¯†æ•°æ®ï¼ˆå¦‚HTTPè¯·æ±‚ï¼‰ï¼Œå‡å°‘å»¶è¿Ÿã€‚
3. **ç®—æ³•ç²¾ç®€**ï¼š
ç§»é™¤ä¸å®‰å…¨ç®—æ³•ï¼ˆå¦‚RSAã€SHA-1ã€CBCæ¨¡å¼ï¼‰ï¼Œå¼ºåˆ¶å‰å‘å®‰å…¨ï¼ˆä»…æ”¯æŒECDHE/DHEï¼‰ã€‚
&amp;gt; ğŸ“Š **TLS 1.2 vs 1.3 å¯¹æ¯”**
&amp;gt;
&amp;gt; | **ç‰¹æ€§** | **TLS 1.2** | **TLS 1.3** |
&amp;gt; | ------------ | ---------------------- | ----------------------- |
&amp;gt; | **æ¡æ‰‹è€—æ—¶** | 2-RTTï¼ˆçº¦300msï¼‰ | 1-RTTï¼ˆçº¦150msï¼‰ |
&amp;gt; | **å¯†é’¥äº¤æ¢** | æ”¯æŒRSAï¼ˆæ— å‰å‘å®‰å…¨ï¼‰ | ä»…ECDHE/DHEï¼ˆå‰å‘å®‰å…¨ï¼‰ |
&amp;gt; | **åŠ å¯†å¥—ä»¶** | å¤æ‚ç»„åˆï¼ˆæ˜“é…ç½®é”™è¯¯ï¼‰ | ç®€åŒ–ä¸”æ›´å®‰å…¨ |
------
### ğŸ›¡ï¸ **å…³é”®å®‰å…¨æœºåˆ¶**
1. èº«ä»½è®¤è¯ï¼š
- ä¾èµ–CAä½“ç³»éªŒè¯æœåŠ¡å™¨è¯ä¹¦ï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚
2. å‰å‘å®‰å…¨æ€§ï¼ˆPFSï¼‰ï¼š
- ECDHE/DHEç­‰ç®—æ³•ç¡®ä¿å³ä½¿ç§é’¥æ³„éœ²ï¼Œå†å²ä¼šè¯ä»å®‰å…¨ã€‚
3. å®Œæ•´æ€§ä¿æŠ¤ï¼š
- HMACæˆ–AEADæ¨¡å¼ï¼ˆå¦‚AES-GCMï¼‰é˜²æ­¢æ•°æ®ç¯¡æ”¹ã€‚
4. **éšæœºæ•°é˜²é‡æ”¾**ï¼š
`Client/Server Random`ç¡®ä¿æ¯æ¬¡ä¼šè¯å¯†é’¥å”¯ä¸€ã€‚
------
### âš ï¸ **å¸¸è§é—®é¢˜ä¸æ³¨æ„äº‹é¡¹**
1. **è¯ä¹¦å¤±æ•ˆé£é™©**ï¼š
CAç§é’¥æ³„éœ²æˆ–é”™è¯¯ç­¾å‘ï¼ˆå¦‚Symantecäº‹ä»¶ï¼‰ä¼šå¯¼è‡´å…¨å±€ä¿¡ä»»å´©å¡Œã€‚
2. **é™çº§æ”»å‡»é˜²æŠ¤**ï¼š
TLS 1.3é€šè¿‡`supported_versions`æ‰©å±•é˜»æ­¢ç‰ˆæœ¬é™çº§ã€‚
3. **æ€§èƒ½ä¼˜åŒ–å»ºè®®**ï¼š
- å¯ç”¨ä¼šè¯æ¢å¤ï¼ˆSession ID/Ticketsï¼‰å‡å°‘æ¡æ‰‹å¼€é”€ã€‚
- ä½¿ç”¨OCSP StaplingåŠ é€Ÿè¯ä¹¦çŠ¶æ€æ£€æŸ¥ã€‚
------
### ğŸ’ **æ€»ç»“**
TLSé€šè¿‡**éå¯¹ç§°åŠ å¯†åå•†å¯†é’¥** â†’ **å¯¹ç§°åŠ å¯†ä¿æŠ¤æ•°æ®** â†’ **è¯ä¹¦ä½“ç³»éªŒè¯èº«ä»½**çš„ä¸‰å±‚è®¾è®¡ï¼Œå¹³è¡¡å®‰å…¨ä¸æ•ˆç‡ã€‚å…¶æ¼”è¿›ä»TLS 1.2çš„çµæ´»æ€§åˆ°1.3çš„æè‡´ä¼˜åŒ–ï¼ŒæŒç»­åº”å¯¹æ–°å‹å¨èƒï¼ˆå¦‚é‡å­è®¡ç®—ï¼‰ã€‚ç†è§£å…¨æµç¨‹å¯¹å¼€å‘ï¼ˆå¦‚Javaçš„`SSLSocket`é…ç½®ï¼‰ã€è¿ç»´ï¼ˆè¯ä¹¦ç®¡ç†ï¼‰åŠå®‰å…¨å®¡è®¡ï¼ˆWiresharkæŠ“åŒ…åˆ†æï¼‰å‡è‡³å…³é‡è¦ã€‚
&amp;gt; **é™„ï¼šTLSæ ¸å¿ƒåè®®æ ˆ**
&amp;gt;
&amp;gt; ```
&amp;gt; åº”ç”¨æ•°æ®åè®® â†’ è®°å½•åè®®ï¼ˆåŠ å¯†/åˆ†å—ï¼‰ â†’ TCPä¼ è¾“
&amp;gt; æ¡æ‰‹/å‘Šè­¦/å˜æ›´åè®® â†’ è®°å½•åè®® â†’ TCPä¼ è¾“
&amp;gt; ```
## Pre Master Sercret
åœ¨ TLS/SSL åè®®ä¸­ï¼Œ`Pre-Master Secret`ã€`Master Secret` å’Œ `ä¼šè¯å¯†é’¥` æ„æˆäº†ä¸€å¥—åˆ†å±‚å¯†é’¥æ´¾ç”Ÿä½“ç³»ï¼Œå…±åŒä¿éšœé€šä¿¡çš„å®‰å…¨æ€§ä¸æ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯ä¸‰è€…çš„å¯¹æ¯”åŠå…¶è®¾è®¡é€»è¾‘ï¼š
------
### ğŸ”‘ **Pre-Master Secretï¼ˆé¢„ä¸»å¯†é’¥ï¼‰**
- ä½œç”¨ï¼š
- **å¯†é’¥åå•†è½½ä½“**ï¼šé€šè¿‡éå¯¹ç§°åŠ å¯†ï¼ˆå¦‚ RSAï¼‰æˆ–å¯†é’¥äº¤æ¢ç®—æ³•ï¼ˆå¦‚ ECDHEï¼‰å®‰å…¨ä¼ é€’ï¼Œç¡®ä¿åªæœ‰åˆæ³•é€šä¿¡åŒæ–¹èƒ½è·å–è¯¥å¯†é’¥ã€‚
- **é˜²ç¯¡æ”¹æ ¡éªŒ**ï¼šå‰ä¸¤ä¸ªå­—èŠ‚åŒ…å« TLS ç‰ˆæœ¬å·ï¼Œç”¨äºéªŒè¯æ¡æ‰‹é˜¶æ®µæ˜¯å¦è¢«é™çº§æ”»å‡»ï¼ˆå¦‚ç‰ˆæœ¬å·è¢«æ¶æ„ä¿®æ”¹ï¼‰ã€‚
- ç”Ÿæˆæ–¹å¼ï¼š
- **å®¢æˆ·ç«¯ç”Ÿæˆ**ï¼šéšæœºç”Ÿæˆ 48 å­—èŠ‚æ•°æ®ï¼ˆTLS 1.2ï¼‰æˆ–é€šè¿‡ ECDHE è®¡ç®—å…±äº«å¯†é’¥ï¼ˆTLS 1.3ï¼‰ã€‚
- è®¾è®¡åŸå› ï¼š
- âœ… **å®‰å…¨ä¼ è¾“**ï¼šé€šè¿‡æœåŠ¡å™¨å…¬é’¥åŠ å¯†ä¼ è¾“ï¼Œé¿å…ä¸­é—´äººçªƒå¬ã€‚
- âœ… **å‰å‘å®‰å…¨åŸºç¡€**ï¼šè‹¥ä½¿ç”¨ ECDHE ç®—æ³•ï¼Œæ¯æ¬¡ä¼šè¯ç”Ÿæˆç‹¬ç«‹çš„ä¸´æ—¶å¯†é’¥ï¼Œå³ä½¿æœåŠ¡å™¨ç§é’¥æ³„éœ²ï¼Œå†å²ä¼šè¯ä»å®‰å…¨ã€‚
------
### ğŸ” **Master Secretï¼ˆä¸»å¯†é’¥ï¼‰**
- ä½œç”¨ï¼š
- **å¯†é’¥æ´¾ç”Ÿç§å­**ï¼šåŸºäº `Pre-Master Secret`ã€`Client Random` å’Œ `Server Random`ï¼Œé€šè¿‡ä¼ªéšæœºå‡½æ•°ï¼ˆPRFï¼‰ç”Ÿæˆ 48 å­—èŠ‚ä¸»å¯†é’¥ã€‚
- **ç»Ÿä¸€å¯†é’¥æº**ï¼šä¸ºåç»­æ´¾ç”Ÿä¼šè¯å¯†é’¥æä¾›ç¡®å®šæ€§çš„è¾“å…¥ï¼Œç¡®ä¿åŒæ–¹ç”Ÿæˆç›¸åŒå¯†é’¥ææ–™ã€‚
- ç”Ÿæˆå…¬å¼ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Master\ Secret = PRF(Pre\text{-}Master\ Secret,\ &amp;ldquo;master\ secret&amp;rdquo;,\ ClientRandom + ServerRandom)&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- è®¾è®¡åŸå› ï¼š
- âœ… **éš”ç¦»æ•æ„Ÿä¿¡æ¯**ï¼š`Pre-Master Secret` ä»…ç”¨äºç”Ÿæˆ `Master Secret`ï¼Œå®Œæˆåç«‹å³é”€æ¯ï¼Œå‡å°‘æ³„éœ²é£é™©ã€‚
- âœ… **çµæ´»æ€§**ï¼šé€šè¿‡ PRF å‡½æ•°æ‰©å±•å‡ºä»»æ„é•¿åº¦å¯†é’¥å—ï¼Œé€‚é…ä¸åŒåŠ å¯†ç®—æ³•éœ€æ±‚ï¼ˆå¦‚ AES å¯†é’¥é•¿åº¦å¯å˜ï¼‰ã€‚
------
### ğŸ”’ **ä¼šè¯å¯†é’¥ï¼ˆSession Keyï¼‰**
- ä½œç”¨ï¼š
- å®é™…åŠ å¯†ä¸è®¤è¯ï¼šä» Master Secret æ´¾ç”Ÿå‡ºå¤šç»„å¯¹ç§°å¯†é’¥ï¼ŒåŒ…æ‹¬ï¼š
- **å¯¹ç§°åŠ å¯†å¯†é’¥**ï¼ˆå¦‚ AES-256 å¯†é’¥ï¼‰ã€‚
- **MAC å¯†é’¥**ï¼ˆå¦‚ HMAC-SHA256ï¼‰ï¼Œç”¨äºæ•°æ®å®Œæ•´æ€§æ ¡éªŒã€‚
- **åˆå§‹åŒ–å‘é‡ï¼ˆIVï¼‰**ï¼Œç”¨äº CBC ç­‰åŠ å¯†æ¨¡å¼é˜²é‡æ”¾ã€‚
- **åŒå‘éš”ç¦»**ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä½¿ç”¨ä¸åŒçš„å¯†é’¥ï¼ˆå¦‚ `client_write_key` å’Œ `server_write_key`ï¼‰ï¼Œé˜²æ­¢åå°„æ”»å‡»ã€‚
- ç”Ÿæˆæµç¨‹ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;graph LR
A[Master Secret] &amp;ndash;&amp;gt; B(PRF æ´¾ç”Ÿ)
B &amp;ndash;&amp;gt; C1[å®¢æˆ·ç«¯åŠ å¯†å¯†é’¥]
B &amp;ndash;&amp;gt; C2[æœåŠ¡ç«¯åŠ å¯†å¯†é’¥]
B &amp;ndash;&amp;gt; D1[å®¢æˆ·ç«¯ MAC å¯†é’¥]
B &amp;ndash;&amp;gt; D2[æœåŠ¡ç«¯ MAC å¯†é’¥]
B &amp;ndash;&amp;gt; E1[å®¢æˆ·ç«¯ IV]
B &amp;ndash;&amp;gt; E2[æœåŠ¡ç«¯ IV]&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- è®¾è®¡åŸå› ï¼š
- âœ… **é«˜æ•ˆæ€§**ï¼šå¯¹ç§°åŠ å¯†ï¼ˆAESï¼‰æ¯”éå¯¹ç§°åŠ å¯†ï¼ˆRSAï¼‰å¿« 1000 å€ä»¥ä¸Šï¼Œé€‚åˆå¤§æ•°æ®ä¼ è¾“ã€‚
- âœ… **æœ€å°åŒ–æ”»å‡»é¢**ï¼šä¼šè¯å¯†é’¥ä»…åœ¨ä¸€æ¬¡è¿æ¥ä¸­æœ‰æ•ˆï¼Œä¼šè¯ç»“æŸå³ä¸¢å¼ƒï¼Œé™åˆ¶å¯†é’¥æš´éœ²æ—¶é—´ã€‚
------
### ğŸ’ **åˆ†å±‚è®¾è®¡çš„æ ¸å¿ƒé€»è¾‘**
| **å±‚çº§** | **å®‰å…¨ç›®æ ‡** | **æ€§èƒ½è€ƒé‡** | **å…¸å‹ç”Ÿå‘½å‘¨æœŸ** |
| --------------------- | -------------------- | -------------------- | ------------------ |
| **Pre-Master Secret** | å®‰å…¨ä¼ è¾“ã€å‰å‘ä¿å¯† | éå¯¹ç§°åŠ å¯†ä¿æŠ¤çŸ­æ•°æ® | ä»…æ¡æ‰‹é˜¶æ®µå­˜åœ¨ |
| **Master Secret** | ç»Ÿä¸€å¯†é’¥æ´¾ç”Ÿæº | PRF è®¡ç®—æ•ˆç‡é«˜ | ä¼šè¯å¯†é’¥ç”Ÿæˆåé”€æ¯ |
| **ä¼šè¯å¯†é’¥** | é«˜æ•ˆåŠ å¯†ã€å®Œæ•´æ€§ä¿æŠ¤ | å¯¹ç§°åŠ å¯†å¤„ç†æµ·é‡æ•°æ® | å•æ¬¡è¿æ¥æœ‰æ•ˆ |
#### âš™ï¸ **è®¾è®¡ä¼˜åŠ¿æ€»ç»“**
1. **èŒè´£åˆ†ç¦»**ï¼š
- `Pre-Master Secret` è§£å†³**å¯†é’¥å®‰å…¨ä¼ è¾“é—®é¢˜**ï¼ˆéå¯¹ç§°åŠ å¯†ï¼‰ã€‚
- `Master Secret` è§£å†³**å¯†é’¥æ´¾ç”Ÿä¸€è‡´æ€§é—®é¢˜**ï¼ˆPRF ç¡®å®šæ€§è¾“å‡ºï¼‰ã€‚
- `ä¼šè¯å¯†é’¥` è§£å†³**å®é™…æ•°æ®åŠ å¯†æ•ˆç‡é—®é¢˜**ï¼ˆå¯¹ç§°åŠ å¯†ï¼‰ã€‚
2. **æ·±åº¦é˜²å¾¡**ï¼š
- æ¯å±‚å¯†é’¥ç‹¬ç«‹ç”Ÿæˆä¸é”€æ¯ï¼Œå³ä½¿æŸä¸€å±‚æ³„éœ²ï¼ˆå¦‚ä¼šè¯å¯†é’¥è¢«ç ´è§£ï¼‰ï¼Œä¹Ÿä¸å½±å“å…¶ä»–ä¼šè¯æˆ–ä¸Šå±‚å¯†é’¥ã€‚
3. **å‰å‘ä¿å¯†å¢å¼º**ï¼š
- TLS 1.3 å¼ºåˆ¶ä½¿ç”¨ ECDHE ç”Ÿæˆ `Pre-Master Secret`ï¼Œç¡®ä¿æ¯æ¬¡ä¼šè¯çš„ä¸´æ—¶å¯†é’¥ç‹¬ç«‹ï¼Œé•¿æœŸç§é’¥æ³„éœ²ä¸å½±å“å†å²é€šä¿¡ã€‚
&amp;gt; **å®é™…å½±å“**ï¼šå½“ç”¨æˆ·è®¿é—® HTTPS ç½‘ç«™æ—¶ï¼Œåˆ†å±‚å¯†é’¥ä½“ç³»åœ¨ 300ms å†…å®Œæˆåå•†ï¼ˆTLS 1.2ï¼‰ï¼Œå´æ”¯æ’‘äº†åç»­ GB çº§æ•°æ®çš„å®‰å…¨ä¼ è¾“â€”â€”è¿™æ˜¯å®‰å…¨ä¸æ€§èƒ½çš„æè‡´å¹³è¡¡ âœ…ã€‚
## TLS FINISH æ‘˜è¦
TLSåè®®ä¸­çš„`FINISHED`æ¶ˆæ¯æ˜¯æ¡æ‰‹é˜¶æ®µçš„æœ€åä¸€æ­¥ï¼Œå…¶æ ¸å¿ƒæ˜¯**æ¡æ‰‹æ‘˜è¦ï¼ˆ`verify_data`ï¼‰**ï¼Œç”¨äºéªŒè¯æ•´ä¸ªæ¡æ‰‹è¿‡ç¨‹çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒè¦ç‚¹ï¼š
------
### ğŸ” **æ¡æ‰‹æ‘˜è¦çš„ä½œç”¨**
1. **å®Œæ•´æ€§æ ¡éªŒ**ï¼š
åŸºäºæ•´ä¸ªæ¡æ‰‹è¿‡ç¨‹çš„æ‰€æœ‰æ¶ˆæ¯ï¼ˆä»`ClientHello`åˆ°`FINISHED`å‰ï¼‰è®¡ç®—å“ˆå¸Œå€¼ï¼Œç¡®ä¿æ¶ˆæ¯æœªè¢«ç¯¡æ”¹ã€‚
2. **å¯†é’¥ä¸€è‡´æ€§ç¡®è®¤**ï¼š
é€šè¿‡ä¸»å¯†é’¥ï¼ˆ`master_secret`ï¼‰ç”Ÿæˆ`verify_data`ï¼ŒéªŒè¯åŒæ–¹è®¡ç®—çš„ä¼šè¯å¯†é’¥æ˜¯å¦ä¸€è‡´ã€‚
3. **é˜²ä¸­é—´äººæ”»å‡»**ï¼š
ä»»ä½•å¯¹æ¡æ‰‹æ¶ˆæ¯çš„ç¯¡æ”¹éƒ½ä¼šå¯¼è‡´`verify_data`ä¸åŒ¹é…ï¼Œè¿æ¥ç«‹å³ç»ˆæ­¢ã€‚
------
### âš™ï¸ **æ¡æ‰‹æ‘˜è¦çš„ç”Ÿæˆç®—æ³•**
#### **æ ¸å¿ƒå…¬å¼**
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;verify_data = PRF(master_secret, label, Hash(handshake_messages))&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- **`PRF`ï¼ˆä¼ªéšæœºå‡½æ•°ï¼‰**ï¼š
ç”¨äºæ‰©å±•å¯†é’¥çš„ä¼ªéšæœºå‡½æ•°ï¼ŒTLS 1.2ä¸­é€šå¸¸åŸºäºHMAC-SHA256ã€‚
- **
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;label&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ï¼ˆæ ‡ç­¾ï¼‰**ï¼š
åŒºåˆ†å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ï¼š
- å®¢æˆ·ç«¯ï¼š`&amp;#34;client finished&amp;#34;`
- æœåŠ¡ç«¯ï¼š`&amp;#34;server finished&amp;#34;`ã€‚
- **
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Hash(handshake_messages)&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;**ï¼š
æ‰€æœ‰æ¡æ‰‹æ¶ˆæ¯ï¼ˆä¸å«è®°å½•å±‚å¤´ï¼‰çš„å“ˆå¸Œå€¼ï¼š
- TLS 1.2ï¼šä½¿ç”¨åå•†çš„å“ˆå¸Œç®—æ³•ï¼ˆå¦‚SHA-256ï¼‰ã€‚
- TLS 1.0/1.1ï¼šç»„åˆMD5å’ŒSHA-1ï¼ˆ`MD5(handshake_messages) + SHA1(handshake_messages)`ï¼‰ã€‚
#### **é•¿åº¦è¦æ±‚**
- é»˜è®¤ **12å­—èŠ‚**ï¼ˆ96ä½ï¼‰ï¼ŒTLS 1.2å…è®¸å¯†ç å¥—ä»¶æŒ‡å®šæ›´é•¿é•¿åº¦ï¼ˆä½†â‰¥12å­—èŠ‚ï¼‰ã€‚
- ä¾‹å¦‚ï¼šTLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 å¥—ä»¶å›ºå®šä½¿ç”¨12å­—èŠ‚ã€‚
------
### ğŸ”„ **ä¸åŒTLSç‰ˆæœ¬çš„å·®å¼‚**
| **TLSç‰ˆæœ¬** | **å“ˆå¸Œç®—æ³•** | **PRFæ„é€ ** | **å®‰å…¨æ€§** |
| --------------- | ----------------------- | ------------------------- | ---------------------- |
| **TLS 1.0/1.1** | MD5 + SHA-1ï¼ˆç»„åˆå“ˆå¸Œï¼‰ | åŸºäºMD5/SHA-1çš„PRF | âŒ å¼±ï¼ˆæ˜“å—ç¢°æ’æ”»å‡»ï¼‰ |
| **TLS 1.2** | å•ä¸€å¼ºå“ˆå¸Œï¼ˆå¦‚SHA-256ï¼‰ | HMACæ‰©å±•ï¼ˆå¦‚HMAC-SHA256ï¼‰ | âœ… é«˜ï¼ˆæŠ—ç¢°æ’æ€§å¼ºï¼‰ |
| **TLS 1.3** | HKDFï¼ˆåŸºäºSHA-256/384ï¼‰ | ç®€åŒ–çš„HKDFæ„é€  | âœ… æé«˜ï¼ˆç®—æ³•ç²¾ç®€ä¼˜åŒ–ï¼‰ |
&amp;gt; ğŸ“Œ **æ³¨**ï¼šTLS 1.3ä¸­`FINISHED`æ¶ˆæ¯çš„ç”Ÿæˆä¸å†ä¾èµ–`master_secret`ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨æ¡æ‰‹é˜¶æ®µçš„ä¸´æ—¶å¯†é’¥ã€‚
------
### ğŸ›¡ï¸ **å®‰å…¨æ„ä¹‰ä¸æ”»å‡»é˜²æŠ¤**
1. **æŠ—é‡æ”¾æ”»å‡»**ï¼š
`verify_data`åŒ…å«åŒæ–¹éšæœºæ•°ï¼ˆ`ClientRandom`/`ServerRandom`ï¼‰ï¼Œæ¯æ¬¡ä¼šè¯å”¯ä¸€ã€‚
2. **å‰å‘å®‰å…¨æ”¯æŒ**ï¼š
è‹¥ä½¿ç”¨ECDHEç­‰ç®—æ³•ï¼Œå³ä½¿ä¸»å¯†é’¥æ³„éœ²ï¼Œå†å²ä¼šè¯ä»å®‰å…¨ï¼ˆå› `verify_data`ä¾èµ–ä¸´æ—¶å¯†é’¥ï¼‰ã€‚
3. **å®ç°æ¼æ´é˜²å¾¡**ï¼š
å®é™…æ”»å‡»ï¼ˆå¦‚å¿ƒè„æ»´è¡€ï¼‰å¸¸ç»•è¿‡è¯ä¹¦éªŒè¯è€Œéä¼ªé€ `FINISHED`ï¼ˆå› ç®—æ³•å¼ºåº¦é«˜ï¼‰ã€‚
------
### ğŸ’ **æ€»ç»“**
TLS `FINISHED`çš„æ¡æ‰‹æ‘˜è¦ï¼ˆ`verify_data`ï¼‰æ˜¯**æ¡æ‰‹å®Œæ•´æ€§ä¸å¯†é’¥ä¸€è‡´æ€§çš„ç»ˆæéªŒè¯**ï¼Œé€šè¿‡`PRF(master_secret + æ ‡ç­¾ + æ¡æ‰‹æ¶ˆæ¯å“ˆå¸Œ)`ç”Ÿæˆã€‚å…¶è®¾è®¡èåˆäº†éšæœºæ€§ã€ç®—æ³•å¼ºåº¦ä¸å¯†é’¥éš”ç¦»ï¼Œæˆä¸ºæŠµå¾¡ä¸­é—´äººæ”»å‡»çš„æ ¸å¿ƒé˜²çº¿ã€‚ç°ä»£TLSï¼ˆ1.2+ï¼‰æ¨èä½¿ç”¨**HMAC-SHA256**ç­‰å¼ºå“ˆå¸Œç»„åˆï¼Œå¹¶é€æ­¥æ·˜æ±°å¼±ç®—æ³•ï¼ˆå¦‚MD5/SHA-1ï¼‰ä»¥åº”å¯¹é‡å­è®¡ç®—å¨èƒã€‚
## Websocket
WebSocketä¿æ´»ï¼ˆKeep-Aliveï¼‰æœºåˆ¶æ˜¯ç»´æŒé•¿è¿æ¥ç¨³å®šæ€§çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ— æ•°æ®äº¤äº’æ—¶**é˜²æ­¢è¿æ¥è¢«ç½‘ç»œè®¾å¤‡ï¼ˆå¦‚è·¯ç”±å™¨ã€é˜²ç«å¢™ï¼‰è‡ªåŠ¨æ–­å¼€**ï¼ŒåŒæ—¶å®æ—¶æ£€æµ‹å¯¹ç«¯çŠ¶æ€ã€‚å…¶æ ¸å¿ƒæœºåˆ¶åŒ…æ‹¬å¿ƒè·³åŒ…å’Œåè®®å±‚Ping/Pongå¸§ï¼Œä»¥ä¸‹ä»åŸç†åˆ°å®è·µå±•å¼€è¯¦è§£ï¼š
------
### âš™ï¸ **ä¿æ´»æœºåˆ¶çš„æ ¸å¿ƒåŸç†**
#### **é—®é¢˜èƒŒæ™¯ï¼šé•¿è¿æ¥çš„è„†å¼±æ€§**
- **éæ­£å¸¸æ–­å¼€åœºæ™¯**ï¼šå®¢æˆ·ç«¯å¼‚å¸¸ï¼ˆå¦‚æ–­ç”µã€å´©æºƒï¼‰ã€ç½‘ç»œä¸­æ–­ã€é˜²ç«å¢™è¶…æ—¶æ¸…ç†ï¼ˆé€šå¸¸60ç§’æ— æ´»åŠ¨å³æ–­å¼€ï¼‰ç­‰ï¼Œå¯¼è‡´è¿æ¥&amp;#34;å‡å­˜æ´»&amp;#34;ã€‚
- **ä¼ ç»ŸHTTPçš„å±€é™**ï¼šè½®è¯¢ï¼ˆPollingï¼‰æ•ˆç‡ä½ä¸‹ï¼Œé•¿è½®è¯¢ï¼ˆLong Pollingï¼‰å»¶è¿Ÿé«˜ä¸”èµ„æºæ¶ˆè€—å¤§ã€‚
#### **ä¿æ´»ç›®æ ‡**
- **ç»´æŒè¿æ¥æ´»è·ƒ**ï¼šå®šæœŸå‘é€è½»é‡æ•°æ®åŒ…ï¼Œé˜»æ­¢ç½‘ç»œè®¾å¤‡è¶…æ—¶æ–­å¼€ã€‚
- **å¿«é€Ÿæ•…éšœæ£€æµ‹**ï¼šåŠæ—¶å‘ç°è¿æ¥å¼‚å¸¸ï¼Œè§¦å‘é‡è¿æˆ–èµ„æºå›æ”¶ã€‚
- **åŒå‘å¥åº·æ£€æŸ¥**ï¼šæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯å‡å¯ä¸»åŠ¨æ¢æµ‹å¯¹ç«¯çŠ¶æ€ã€‚
------
### ğŸ› ï¸ **æŠ€æœ¯å®ç°ï¼šä¸¤ç§ä¸»æµä¿æ´»æ–¹å¼**
#### **åº”ç”¨å±‚å¿ƒè·³åŒ…ï¼ˆåº”ç”¨è‡ªå®šä¹‰ï¼‰**
- **æœºåˆ¶**ï¼šå®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯**å®šæ—¶å‘é€ç‰¹å®šæ•°æ®**ï¼ˆå¦‚`{&amp;#34;event&amp;#34;:&amp;#34;ping&amp;#34;}`ï¼‰ï¼Œå¯¹æ–¹è¿”å›å“åº”ï¼ˆå¦‚`{&amp;#34;event&amp;#34;:&amp;#34;pong&amp;#34;}`ï¼‰ã€‚
- ä»£ç ç¤ºä¾‹ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;// å®¢æˆ·ç«¯å‘é€å¿ƒè·³
setInterval(() =&amp;gt; {
ws.send(JSON.stringify({ event: &amp;ldquo;ping&amp;rdquo; }));
}, 30000); // æ¯30ç§’å‘é€ä¸€æ¬¡&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- æœåŠ¡ç«¯é…ç½®ï¼ˆä»¥Gateway-Workerä¸ºä¾‹ï¼‰ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;$gateway-&amp;gt;pingInterval = 55; // 55ç§’å‘é€ä¸€æ¬¡å¿ƒè·³
$gateway-&amp;gt;pingNotResponseLimit = 1; // 1æ¬¡æ— å“åº”åˆ™æ–­å¼€è¿æ¥
$gateway-&amp;gt;pingData = &amp;lsquo;{&amp;ldquo;type&amp;rdquo;:&amp;ldquo;ping&amp;rdquo;}&amp;rsquo;; // å¿ƒè·³æ•°æ®å†…å®¹&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- **ä¼˜ç‚¹**ï¼šçµæ´»å¯æ§ï¼Œå¯æºå¸¦ä¸šåŠ¡æ•°æ®ï¼ˆå¦‚ç”¨æˆ·çŠ¶æ€ï¼‰ã€‚
- **ç¼ºç‚¹**ï¼šéœ€åº”ç”¨å±‚åè®®è®¾è®¡ï¼Œå¢åŠ å¸¦å®½å¼€é”€ã€‚
#### **åè®®å±‚Ping/Pongå¸§ï¼ˆWebSocketæ ‡å‡†ï¼‰**
- å¸§ç±»å‹ï¼š
- **Pingå¸§ï¼ˆ0x9ï¼‰**ï¼šä¸»åŠ¨æ¢æµ‹æ–¹ï¼ˆæœåŠ¡ç«¯/å®¢æˆ·ç«¯ï¼‰å‘é€ã€‚
- **Pongå¸§ï¼ˆ0xAï¼‰**ï¼šæ¥æ”¶æ–¹å¿…é¡»å›å¤ï¼Œè¡¨ç¤ºè¿æ¥æ­£å¸¸ã€‚
- æµç¨‹ï¼š
1. æœåŠ¡ç«¯å‘é€Pingå¸§ â†’ å®¢æˆ·ç«¯å›å¤Pongå¸§ã€‚
2. è‹¥æœåŠ¡ç«¯æœªæ”¶åˆ°Pongå¸§ï¼Œåˆ¤å®šè¿æ¥æ–­å¼€å¹¶å…³é—­Socketã€‚
- ä»£ç ç¤ºä¾‹
ï¼ˆOkHttpå®¢æˆ·ç«¯ï¼‰ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;OkHttpClient client = new OkHttpClient.Builder()
.pingInterval(40, TimeUnit.SECONDS) // æ¯40ç§’å‘é€Ping
.build();&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- **ä¼˜ç‚¹**ï¼šæ— éœ€åº”ç”¨å±‚é€»è¾‘ï¼Œç”±åè®®æ ˆè‡ªåŠ¨å¤„ç†ï¼Œè½»é‡é«˜æ•ˆã€‚
- **ç¼ºç‚¹**ï¼šéƒ¨åˆ†è€æ—§æµè§ˆå™¨æˆ–åº“æ”¯æŒä¸å®Œæ•´ã€‚
#### **ä¿æ´»æœºåˆ¶å¯¹æ¯”**
| **æœºåˆ¶** | **è§¦å‘æ–¹** | **æ•°æ®ä¼ è¾“** | **é€‚ç”¨åœºæ™¯** |
| --------------- | --------------- | -------------- | ------------------------------ |
| **å¿ƒè·³åŒ…** | åº”ç”¨å±‚é€»è¾‘ | è‡ªå®šä¹‰æ•°æ® | éœ€ä¸šåŠ¡çŠ¶æ€åŒæ­¥ï¼ˆå¦‚IMåœ¨çº¿çŠ¶æ€ï¼‰ |
| **Ping/Pongå¸§** | WebSocketåè®®æ ˆ | ç©ºæˆ–å°‘é‡å…ƒæ•°æ® | é€šç”¨ä¿æ´»ï¼Œä½å¼€é”€ |
------
### â±ï¸ **å…³é”®å‚æ•°ä¸ä¼˜åŒ–ç­–ç•¥**
1.
æ—¶é—´é—´éš”ï¼ˆIntervalï¼‰ï¼š
- **æ¨èå€¼**ï¼šâ‰¤60ç§’ï¼ˆé¿å…é˜²ç«å¢™è¶…æ—¶ï¼‰ï¼Œå¸¸ç”¨15~55ç§’ã€‚
- **åŠ¨æ€è°ƒæ•´**ï¼šæ ¹æ®ç½‘ç»œè´¨é‡åŠ¨æ€è°ƒæ•´é—´éš”ï¼ˆå¦‚å¼±ç½‘ç¯å¢ƒä¸‹ç¼©çŸ­ï¼‰ã€‚
2.
è¶…æ—¶åˆ¤å®šï¼ˆTimeout Limitï¼‰ï¼š
- æœåŠ¡ç«¯è®¾ç½®`pingNotResponseLimit`ï¼ˆå…è®¸æ— å“åº”æ¬¡æ•°ï¼‰ï¼Œè¶…è¿‡åˆ™æ–­å¼€è¿æ¥ã€‚
3.
åŒå‘ä¿æ´»ï¼š
- æœåŠ¡ç«¯ä¸»åŠ¨å‘é€Pingï¼šå‡è½»å®¢æˆ·ç«¯å‹åŠ›ï¼ˆå°¤å…¶ç§»åŠ¨ç«¯çœç”µåœºæ™¯ï¼‰ã€‚
- å®¢æˆ·ç«¯ä¸»åŠ¨å‘é€å¿ƒè·³ï¼šé€‚ç”¨äºæœåŠ¡ç«¯èµ„æºå—é™åœºæ™¯ã€‚
------
### ğŸŒ **åº”ç”¨åœºæ™¯ä¸å¿…è¦æ€§**
| **åœºæ™¯** | **ä¿æ´»ä½œç”¨** |
| ------------------------ | ---------------------------------------------- |
| **å®æ—¶é€šä¿¡ï¼ˆIM/ç›´æ’­ï¼‰** | ç»´æŒç”¨æˆ·åœ¨çº¿çŠ¶æ€ï¼ŒåŠæ—¶æ¨é€æ¶ˆæ¯ï¼Œé¿å…æ¶ˆæ¯ä¸¢å¤±ã€‚ |
| **é‡‘èäº¤æ˜“/ç‰©è”ç½‘ç›‘æ§** | ç¡®ä¿æŒ‡ä»¤å®æ—¶åˆ°è¾¾ï¼Œè®¾å¤‡æ‰çº¿ç§’çº§æ„ŸçŸ¥ã€‚ |
| **åœ¨çº¿åä½œï¼ˆæ–‡æ¡£ç¼–è¾‘ï¼‰** | å¤šç”¨æˆ·çŠ¶æ€åŒæ­¥ï¼Œé¿å…æ“ä½œå†²çªã€‚ |
| **APIé•¿è¿æ¥ç®¡ç†** | æ›¿ä»£HTTPè½®è¯¢ï¼Œé™ä½æœåŠ¡å™¨è´Ÿè½½ã€‚ |
&amp;gt; ğŸ’¡ **æ•°æ®è¯æ˜**ï¼šæŸIMç³»ç»Ÿæœªå¯ç”¨ä¿æ´»æ—¶ï¼Œå› é˜²ç«å¢™æ–­å¼€å¯¼è‡´çš„è¿æ¥ä¸¢å¤±ç‡è¾¾35%ï¼›å¯ç”¨55ç§’å¿ƒè·³åé™è‡³0.1%ã€‚
------
### âš ï¸ **æ³¨æ„äº‹é¡¹ä¸å±€é™æ€§**
1.
ä¿æ´» â‰  é«˜å¯ç”¨ï¼š
- éœ€é…å¥—**æ–­çº¿é‡è¿æœºåˆ¶**ï¼ˆå¦‚å®¢æˆ·ç«¯ç›‘å¬`onclose`äº‹ä»¶ï¼Œé˜¶æ¢¯å¼é‡è¿ï¼‰ã€‚
- é‡è¿ç­–ç•¥ç¤ºä¾‹ï¼š`é‡è¯•é—´éš” = åŸºç¡€é—´éš” + éšæœºæŠ–åŠ¨`ï¼ˆé¿å…æœåŠ¡ç«¯æ‹¥å¡ï¼‰ã€‚
2.
èµ„æºæ¶ˆè€—æƒè¡¡ï¼š
- é«˜é¢‘å¿ƒè·³å¢åŠ æœåŠ¡å™¨CPU/å¸¦å®½å‹åŠ›ï¼ˆéœ€æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¹³è¡¡ï¼‰ã€‚
3.
åè®®å…¼å®¹æ€§ï¼š
- éƒ¨åˆ†ä»£ç†è®¾å¤‡å¯èƒ½è¿‡æ»¤Ping/Pongå¸§ï¼Œéœ€é™çº§ä¸ºåº”ç”¨å±‚å¿ƒè·³ã€‚
------
### ğŸ’ **æ€»ç»“**
WebSocketä¿æ´»æœºåˆ¶æ˜¯é•¿è¿æ¥çš„â€œç”Ÿå‘½çº¿â€ï¼Œé€šè¿‡**å¿ƒè·³åŒ…**æˆ–**Ping/Pongå¸§**ï¼Œä»¥æä½å¼€é”€è§£å†³äº†ç½‘ç»œç¯å¢ƒä¸å¯é å¯¼è‡´çš„è¿æ¥ä¸­æ–­é—®é¢˜ã€‚è®¾è®¡æ—¶éœ€å…³æ³¨ï¼š
- **æœºåˆ¶é€‰æ‹©**ï¼šé€šç”¨åœºæ™¯ä¼˜å…ˆç”¨Ping/Pongå¸§ï¼Œå¤æ‚ä¸šåŠ¡ç”¨è‡ªå®šä¹‰å¿ƒè·³åŒ…ã€‚
- **å‚æ•°è°ƒä¼˜**ï¼šé—´éš”â‰¤60ç§’ï¼Œè¶…æ—¶é™åˆ¶â‰¤2æ¬¡ã€‚
- **å®¹ç¾é…å¥—**ï¼šå¿…é¡»ç»“åˆæ–­çº¿é‡è¿ã€çŠ¶æ€åŒæ­¥ç­‰é€»è¾‘ã€‚
åœ¨å®æ—¶æ€§è¦æ±‚é«˜çš„é¢†åŸŸï¼ˆå¦‚é‡‘èã€ç‰©è”ç½‘ï¼‰ï¼Œåˆç†é…ç½®ä¿æ´»æœºåˆ¶å¯æå‡ç³»ç»Ÿé²æ£’æ€§åŠç”¨æˆ·ä½“éªŒï¼Œæˆä¸ºé«˜å¯ç”¨æ¶æ„çš„åŸºçŸ³ã€‚
## SSE &amp;amp; WebSocket
ä»¥ä¸‹æ˜¯SSEï¼ˆServer-Sent Eventsï¼‰ä¸WebSocketçš„å…¨é¢å¯¹æ¯”ï¼Œç»“åˆæŠ€æœ¯ç‰¹æ€§å’Œå®é™…åº”ç”¨åœºæ™¯ï¼Œå¸®åŠ©å¼€å‘è€…åšå‡ºåˆç†é€‰å‹ï¼š
------
### ğŸ”„ **æ ¸å¿ƒå·®å¼‚å¯¹æ¯”**
| **ç»´åº¦** | **SSE** | **WebSocket** | **å¼•ç”¨** |
| ---------------- | -------------------------------------- | ------------------------------------- | -------- |
| **é€šä¿¡æ–¹å‘** | å•å‘ï¼ˆä»…æœåŠ¡ç«¯â†’å®¢æˆ·ç«¯ï¼‰ | åŒå‘å…¨åŒå·¥ï¼ˆæœåŠ¡ç«¯â†”å®¢æˆ·ç«¯ï¼‰ | |
| **åè®®åŸºç¡€** | åŸºäºHTTP/HTTPSï¼Œå¤ç”¨ç°æœ‰ç«¯å£å’Œä»£ç† | ç‹¬ç«‹åè®®ï¼ˆws/wssï¼‰ï¼Œéœ€åè®®å‡çº§æ¡æ‰‹ | |
| **æ•°æ®æ ¼å¼** | ä»…æ–‡æœ¬ï¼ˆJSON/çº¯æ–‡æœ¬ï¼‰ï¼ŒäºŒè¿›åˆ¶éœ€ç¼–ç  | æ”¯æŒæ–‡æœ¬+äºŒè¿›åˆ¶ï¼ˆå¦‚å›¾ç‰‡ã€éŸ³è§†é¢‘æµï¼‰ | |
| **è‡ªåŠ¨é‡è¿** | âœ… å†…ç½®è‡ªåŠ¨é‡è¿ä¸æ¶ˆæ¯IDè¿½è¸ª | âŒ éœ€æ‰‹åŠ¨å®ç°å¿ƒè·³åŒ…å’Œæ–­çº¿é‡è¿é€»è¾‘ | |
| **å¼€å‘å¤æ‚åº¦** | ä½ï¼ˆæµè§ˆå™¨åŸç”Ÿ`EventSource` APIï¼‰ | é«˜ï¼ˆéœ€å¤„ç†æ¡æ‰‹ã€å¸§è§£æã€çŠ¶æ€ç®¡ç†ï¼‰ | |
| **æµè§ˆå™¨å…¼å®¹æ€§** | ä¸æ”¯æŒIE/æ—§ç‰ˆEdgeï¼ŒAndroidâ‰¥4.4/iOSâ‰¥6.0 | æ”¯æŒIE10+åŠæ‰€æœ‰ç°ä»£æµè§ˆå™¨ | |
| **æœåŠ¡å™¨è´Ÿè½½** | ä¸­ï¼ˆé•¿è¿æ¥å ç”¨è¾ƒå°‘èµ„æºï¼‰ | é«˜ï¼ˆæ¯ä¸ªè¿æ¥ç‹¬ç«‹TCPé€šé“ï¼Œå†…å­˜æ¶ˆè€—å¤§ï¼‰ | |
------
### âš¡ **æ€§èƒ½ä¸æ‰©å±•æ€§**
| **åœºæ™¯** | **SSEè¡¨ç°** | **WebSocketè¡¨ç°** | **å¼•ç”¨** |
| -------------- | ------------------------------------ | ------------------------------- | -------- |
| **ä½å»¶è¿Ÿéœ€æ±‚** | ä¾èµ–æœåŠ¡ç«¯æ¨é€é¢‘ç‡ï¼ŒHTTPå¤´éƒ¨æœ‰å¼€é”€ | æä½å»¶è¿Ÿï¼ˆæ¡æ‰‹åæ— å†—ä½™å¤´éƒ¨ï¼‰ | |
| **é«˜å¹¶å‘è¿æ¥** | HTTP/1.1ä¸‹å—é™äº6ä¸ªè¿æ¥ï¼ˆåŒåŸŸåï¼‰ | æ— ç¡¬æ€§è¿æ¥æ•°é™åˆ¶ | |
| **HTTP/2æ”¯æŒ** | âœ… å¤šè·¯å¤ç”¨è§£å†³è¿æ¥é™åˆ¶ï¼Œæ€§èƒ½æå‡æ˜¾è‘— | åè®®æ— å…³ï¼Œä½†éœ€ç‹¬ç«‹è¿æ¥ | |
| **äºŒè¿›åˆ¶ä¼ è¾“** | âŒ éœ€Base64ç¼–ç ï¼Œæ•ˆç‡ä½ | âœ… åŸç”Ÿæ”¯æŒï¼Œé€‚åˆéŸ³è§†é¢‘/æ–‡ä»¶ä¼ è¾“ | |
------
### ğŸ› ï¸ **é€‚ç”¨åœºæ™¯æ¨è**
#### **SSE æ›´ä¼˜çš„åœºæ™¯**
- **å®æ—¶æ•°æ®ç›‘æ§**ï¼šè‚¡ç¥¨è¡Œæƒ…ã€IoTè®¾å¤‡çŠ¶æ€æ¨é€ï¼ˆå¦‚æ¸©åº¦ä¼ æ„Ÿå™¨æ•°æ®æµï¼‰ã€‚
- **æ¶ˆæ¯é€šçŸ¥**ï¼šæ–°é—»æ›´æ–°ã€æœªè¯»æ¶ˆæ¯æé†’ï¼ˆå®¢æˆ·ç«¯æ— éœ€å›å¤ï¼‰ã€‚
- **è¿›åº¦è·Ÿè¸ª**ï¼šæ–‡ä»¶ä¸Šä¼ /ä¸‹è½½è¿›åº¦ã€åå°ä»»åŠ¡å¤„ç†çŠ¶æ€ã€‚
- **AIå¤§æ¨¡å‹å¯¹è¯**ï¼šæµå¼è¾“å‡ºç”Ÿæˆç»“æœï¼ˆå¦‚ChatGPTé€è¯è¿”å›å“åº”ï¼‰ã€‚
&amp;gt; ğŸ’¡ **ä¼˜åŠ¿**ï¼šå¼€å‘å¿«ã€çœèµ„æºï¼Œè‡ªåŠ¨é‡è¿å‡å°‘è¿ç»´æˆæœ¬ã€‚
#### **WebSocket æ›´ä¼˜çš„åœºæ™¯**
- **åŒå‘äº¤äº’åº”ç”¨**ï¼šåœ¨çº¿èŠå¤©å®¤ã€å¤šç©å®¶æ¸¸æˆæŒ‡ä»¤åŒæ­¥ã€‚
- **å®æ—¶åä½œå·¥å…·**ï¼šååŒæ–‡æ¡£ç¼–è¾‘ï¼ˆå¦‚å¤šäººåŒæ—¶ç¼–è¾‘è¡¨æ ¼ï¼‰ã€‚
- **é«˜é¢‘æ•°æ®äº¤æ¢**ï¼šé‡‘èäº¤æ˜“æŒ‡ä»¤ã€ç›´æ’­å¼¹å¹•äº’åŠ¨ã€‚
- **éŸ³è§†é¢‘æµä¼ è¾“**ï¼šè§†é¢‘ä¼šè®®ã€è¿œç¨‹å±å¹•å…±äº«ã€‚
&amp;gt; ğŸ’¡ **ä¼˜åŠ¿**ï¼šå…¨åŒå·¥é€šä¿¡æ”¯æ’‘å¤æ‚äº¤äº’ï¼ŒäºŒè¿›åˆ¶æ”¯æŒæå‡ä¼ è¾“æ•ˆç‡ã€‚
------
### âš ï¸ **å…³é”®æ³¨æ„äº‹é¡¹**
1. **SSEçš„å±€é™æ€§**
- å®¢æˆ·ç«¯æ— æ³•ä¸»åŠ¨å‘é€æ•°æ®ï¼Œéœ€æ­é…AJAX/Fetchå®ç°åŒå‘é€šä¿¡ã€‚
- æ–‡æœ¬ä¼ è¾“é™åˆ¶ä¸é€‚åˆå¤šåª’ä½“åœºæ™¯ï¼Œä¸”IEå…¼å®¹æ€§éœ€é™çº§æ–¹æ¡ˆï¼ˆå¦‚é•¿è½®è¯¢ï¼‰ã€‚
2. **WebSocketçš„æŒ‘æˆ˜**
- éœ€é¢å¤–å¤„ç†åè®®å‡çº§ï¼ˆ`Upgrade: websocket`ï¼‰å’Œå¸§è§£æã€‚
- é•¿è¿æ¥ç»´æŠ¤æˆæœ¬é«˜ï¼Œå¤§è§„æ¨¡å¹¶å‘éœ€æ¶ˆæ¯ä¸­é—´ä»¶ï¼ˆå¦‚Redis Pub/Subï¼‰åˆ†æµã€‚
3. **å®‰å…¨æœºåˆ¶**
- SSEï¼šä¾èµ–HTTPå®‰å…¨æœºåˆ¶ï¼ˆHTTPS + CORSï¼‰ã€‚
- WebSocketï¼šæ— åŒæºç­–ç•¥é™åˆ¶ï¼Œéœ€é˜²èŒƒè·¨åŸŸåŠ«æŒï¼ˆå¦‚éªŒè¯`Origin`å¤´ï¼‰ã€‚
------
### ğŸ’ **é€‰å‹å†³ç­–æŒ‡å—**
| **éœ€æ±‚** | **æ¨èæŠ€æœ¯** | **ç†ç”±** |
| ---------------------------- | ------------ | ---------------------------- |
| æœåŠ¡ç«¯å•å‘æ¨é€ï¼ˆå¦‚æ•°æ®å¤§å±ï¼‰ | SSE | å¼€å‘ç®€å•ï¼Œè‡ªåŠ¨é‡è¿ï¼ŒHTTPå‹å¥½ |
| å®¢æˆ·ç«¯éœ€ä¸»åŠ¨äº¤äº’ï¼ˆå¦‚èŠå¤©ï¼‰ | WebSocket | åŒå‘é€šä¿¡ï¼Œä½å»¶è¿Ÿï¼Œæ”¯æŒäºŒè¿›åˆ¶ |
| å…¼å®¹è€æ—§æµè§ˆå™¨ | WebSocket | IE10+æ”¯æŒï¼ŒSSEæ— æ³•è¦†ç›–IEç”¨æˆ· |
| é«˜é¢‘äºŒè¿›åˆ¶ä¼ è¾“ï¼ˆå¦‚è§†é¢‘æµï¼‰ | WebSocket | åŸç”ŸäºŒè¿›åˆ¶æ”¯æŒï¼Œæ€§èƒ½ä¼˜åŠ¿æ˜¾è‘— |
&amp;gt; **æŠ€æœ¯æ¼”è¿›è¶‹åŠ¿**ï¼š
&amp;gt;
&amp;gt; - HTTP/3çš„æ™®åŠå¯èƒ½è¿›ä¸€æ­¥æå‡SSEæ€§èƒ½ï¼ˆè§£å†³é˜Ÿå¤´é˜»å¡ï¼‰ã€‚
&amp;gt; - WebSocketä»æ˜¯å¼ºå®æ—¶äº¤äº’åœºæ™¯ä¸å¯æ›¿ä»£çš„æ–¹æ¡ˆï¼Œå°¤å…¶åœ¨5G/è¾¹ç¼˜è®¡ç®—ä¸­ã€‚
------
### ğŸ’¡ **æ€»ç»“**
- **é€‰SSEå½“ä¸”ä»…å½“**ï¼šä¸šåŠ¡åªéœ€**æœåŠ¡ç«¯å•å‘æ¨é€**ï¼Œè¿½æ±‚**å¿«é€Ÿå®ç°**ä¸**ä½è¿ç»´æˆæœ¬**ï¼Œä¸”èƒ½æ¥å—**æ–‡æœ¬ä¼ è¾“**å’Œ**å…¼å®¹æ€§é™åˆ¶**ã€‚
- **é€‰WebSocketå½“**ï¼šä¸šåŠ¡éœ€**åŒå‘äº¤äº’**ã€**é«˜é¢‘æ•°æ®ä¼ è¾“**æˆ–**äºŒè¿›åˆ¶æ”¯æŒ**ï¼Œæ„¿æŠ•å…¥æˆæœ¬å¤„ç†å¤æ‚åè®®ä¸çŠ¶æ€ç®¡ç†ã€‚
&amp;gt; æœ€ç»ˆå†³ç­–åº”åŸºäº**ä¸šåŠ¡åœºæ™¯ä¼˜å…ˆçº§**ï¼ˆå®æ—¶æ€§/å¼€å‘æ•ˆç‡/å…¼å®¹æ€§ï¼‰ï¼Œè€ŒéæŠ€æœ¯æœ¬èº«ä¼˜åŠ£ã€‚
&lt;/code&gt;&lt;/pre&gt;</description></item><item><title>ã€Computer Networkã€‘OSI</title><link>https://dyhes.github.io/p/computer-networkosi/</link><pubDate>Mon, 23 Jun 2025 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/computer-networkosi/</guid><description>&lt;h2 id="tcpip--osi"&gt;TCP/IP &amp;amp; OSI
&lt;/h2&gt;&lt;p&gt;TCP/IPæ¨¡å‹ä¸OSIä¸ƒå±‚æ¨¡å‹æ˜¯è®¡ç®—æœºç½‘ç»œä¸­ä¸¤ç§æ ¸å¿ƒå‚è€ƒæ¶æ„ï¼Œå‰è€…ä¸»å¯¼å®é™…äº’è”ç½‘é€šä¿¡ï¼Œåè€…æä¾›ç†è®ºæ¡†æ¶ã€‚ä»¥ä¸‹æ˜¯äºŒè€…æ·±åº¦å¯¹æ¯”ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-å±‚æ¬¡ç»“æ„å¯¹æ¯”"&gt;ğŸ“Š &lt;strong&gt;å±‚æ¬¡ç»“æ„å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;OSIä¸ƒå±‚æ¨¡å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;TCP/IPå››å±‚æ¨¡å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…³é”®å·®å¼‚&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;åº”ç”¨å±‚ï¼ˆApplicationï¼‰&lt;/td&gt;
&lt;td&gt;åº”ç”¨å±‚ï¼ˆApplicationï¼‰&lt;/td&gt;
&lt;td&gt;TCP/IPå°†OSIçš„&lt;strong&gt;ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚ä¸åº”ç”¨å±‚åˆå¹¶ä¸ºä¸€å±‚&lt;/strong&gt;ï¼Œç›´æ¥æ•´åˆä¼šè¯ç®¡ç†ã€æ•°æ®åŠ å¯†ï¼ˆå¦‚SSLï¼‰å’Œåº”ç”¨åè®®ï¼ˆå¦‚HTTPï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¡¨ç¤ºå±‚ï¼ˆPresentationï¼‰&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¼šè¯å±‚ï¼ˆSessionï¼‰&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¼ è¾“å±‚ï¼ˆTransportï¼‰&lt;/td&gt;
&lt;td&gt;ä¼ è¾“å±‚ï¼ˆTransportï¼‰&lt;/td&gt;
&lt;td&gt;åŠŸèƒ½é«˜åº¦ä¸€è‡´ï¼šå‡æä¾›ç«¯åˆ°ç«¯ä¼ è¾“ï¼ˆTCPå¯é è¿æ¥/UDPæ— è¿æ¥ï¼‰å’Œæµé‡æ§åˆ¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç½‘ç»œå±‚ï¼ˆNetworkï¼‰&lt;/td&gt;
&lt;td&gt;äº’è”ç½‘å±‚ï¼ˆInternetï¼‰&lt;/td&gt;
&lt;td&gt;TCP/IPçš„äº’è”ç½‘å±‚æ ¸å¿ƒåè®®ä¸º&lt;strong&gt;IP&lt;/strong&gt;ï¼Œä¸“æ³¨è·¯ç”±ä¸å¯»å€ï¼Œè€ŒOSIç½‘ç»œå±‚è¿˜å®šä¹‰é¢å‘è¿æ¥æœåŠ¡ï¼ˆå¦‚è™šç”µè·¯ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ•°æ®é“¾è·¯å±‚ï¼ˆData Linkï¼‰&lt;/td&gt;
&lt;td&gt;ç½‘ç»œæ¥å£å±‚ï¼ˆNetwork Interfaceï¼‰&lt;/td&gt;
&lt;td&gt;TCP/IPåˆå¹¶OSIçš„&lt;strong&gt;ç‰©ç†å±‚ä¸æ•°æ®é“¾è·¯å±‚&lt;/strong&gt;ï¼Œä½†æœªæ˜ç¡®å®šä¹‰åè®®ï¼Œä¾èµ–åº•å±‚ç½‘ç»œæŠ€æœ¯ï¼ˆå¦‚ä»¥å¤ªç½‘ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç‰©ç†å±‚ï¼ˆPhysicalï¼‰&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼šTCP/IPçš„ç®€åŒ–ç»“æ„ï¼ˆ4å±‚ vs. 7å±‚ï¼‰ä½¿å…¶æ›´æ˜“å®ç°ï¼Œä½†ç‰ºç‰²äº†ç»†åˆ†åŠŸèƒ½çš„æ¸…æ™°æ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-åŠŸèƒ½èŒè´£å·®å¼‚"&gt;âš™ï¸ &lt;strong&gt;åŠŸèƒ½èŒè´£å·®å¼‚&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="å…³é”®å±‚çº§çš„èŒèƒ½å¯¹æ¯”"&gt;&lt;strong&gt;å…³é”®å±‚çº§çš„èŒèƒ½å¯¹æ¯”&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨å±‚&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OSI&lt;/strong&gt;ï¼šä¸¥æ ¼åŒºåˆ†åŠŸèƒ½â€”â€”åº”ç”¨å±‚æä¾›ç”¨æˆ·æœåŠ¡ï¼ˆå¦‚FTPï¼‰ï¼Œè¡¨ç¤ºå±‚å¤„ç†æ•°æ®åŠ å¯†/å‹ç¼©ï¼Œä¼šè¯å±‚ç®¡ç†å¯¹è¯åŒæ­¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP/IP&lt;/strong&gt;ï¼šåˆå¹¶ä¸‰å±‚åŠŸèƒ½ï¼Œåº”ç”¨å±‚ç›´æ¥æ‰¿è½½æ‰€æœ‰ä»»åŠ¡ï¼ˆå¦‚HTTPå«æ•°æ®æ ¼å¼åŒ–ï¼ŒTLS/SSLå®ç°åŠ å¯†ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼ è¾“å±‚&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OSI&lt;/strong&gt;ï¼šä»…æ”¯æŒ&lt;strong&gt;é¢å‘è¿æ¥&lt;/strong&gt;æœåŠ¡ï¼ˆå¦‚TP4åè®®ï¼‰ï¼Œä¾èµ–ä¸‹å±‚ç½‘ç»œå±‚æä¾›å¯é æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP/IP&lt;/strong&gt;ï¼šåŒæ—¶æ”¯æŒ&lt;strong&gt;TCPï¼ˆé¢å‘è¿æ¥ï¼‰&lt;/strong&gt; å’Œ &lt;strong&gt;UDPï¼ˆæ— è¿æ¥ï¼‰&lt;/strong&gt;ï¼Œç”±ä¼ è¾“å±‚è‡ªèº«å®ç°å¯é æ€§ï¼Œé€‚åº”äº’è”ç½‘çµæ´»éœ€æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œ/äº’è”ç½‘å±‚&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OSI&lt;/strong&gt;ï¼šæä¾›&lt;strong&gt;é¢å‘è¿æ¥ï¼ˆè™šç”µè·¯ï¼‰å’Œæ— è¿æ¥æœåŠ¡&lt;/strong&gt;ï¼Œæ”¯æŒå¤æ‚è·¯ç”±ç­–ç•¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP/IP&lt;/strong&gt;ï¼š&lt;strong&gt;ä»…æ— è¿æ¥æœåŠ¡&lt;/strong&gt;ï¼ˆIPåè®®ï¼‰ï¼Œç®€åŒ–è®¾è®¡ä½†ä¾èµ–ä¸Šå±‚è¡¥è¶³å¯é æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº•å±‚ï¼ˆç‰©ç†+æ•°æ®é“¾è·¯ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OSI&lt;/strong&gt;ï¼šç‰©ç†å±‚å®šä¹‰ç”µæ°”ç‰¹æ€§ï¼ˆå¦‚ç”µå‹ã€å…‰çº¤ä¿¡å·ï¼‰ï¼Œæ•°æ®é“¾è·¯å±‚å¤„ç†å¸§åŒæ­¥ä¸å·®é”™æ§åˆ¶ï¼ˆå¦‚MACå­å±‚ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP/IP&lt;/strong&gt;ï¼šæœªè§„å®šå…·ä½“åè®®ï¼Œç”±ç¡¬ä»¶å‚å•†å®ç°ï¼ˆå¦‚ARPåè®®å·¥ä½œåœ¨æ­¤å±‚ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-è®¾è®¡ç†å¿µä¸å®é™…åº”ç”¨"&gt;ğŸ§  &lt;strong&gt;è®¾è®¡ç†å¿µä¸å®é™…åº”ç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç»´åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;OSIæ¨¡å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;TCP/IPæ¨¡å‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è®¾è®¡ç›®æ ‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç†è®ºå…ˆè¡Œçš„&lt;strong&gt;é€šç”¨æ ‡å‡†&lt;/strong&gt;ï¼Œé€‚é…æ‰€æœ‰ç½‘ç»œç±»å‹ã€‚&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;è§£å†³å®é™…é—®é¢˜&lt;/strong&gt;ï¼ŒåŸºäºARPANETéœ€æ±‚è®¾è®¡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åè®®ä¾èµ–æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åè®®æ— å…³ï¼Œä»…å®šä¹‰åŠŸèƒ½å±‚çº§ã€‚&lt;/td&gt;
&lt;td&gt;ç´§å¯†ç»‘å®š&lt;strong&gt;TCPã€IPã€UDPç­‰åè®®&lt;/strong&gt;ï¼Œæ¨¡å‹ä¸ºåè®®æœåŠ¡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å®é™…åº”ç”¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸»è¦ç”¨äºæ•™å­¦å’Œç†è®ºåˆ†æï¼Œå®é™…åè®®æ ˆè¾ƒå°‘å®Œæ•´é‡‡ç”¨ã€‚&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;äº’è”ç½‘äº‹å®æ ‡å‡†&lt;/strong&gt;ï¼ˆå¦‚HTTPã€IPã€TCPå‡å±æ­¤æ¨¡å‹ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;çµæ´»æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åˆ†å±‚æ¸…æ™°ä½†å¤æ‚ï¼Œæ–°å¢æŠ€æœ¯é€‚é…éš¾åº¦é«˜ã€‚&lt;/td&gt;
&lt;td&gt;ç»“æ„æ¾æ•£ï¼Œæ˜“äºæ‰©å±•ï¼ˆå¦‚IPv6ç›´æ¥èå…¥ç°æœ‰å±‚ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ¡ˆä¾‹&lt;/strong&gt;ï¼šç”µå­é‚®ä»¶ä¼ è¾“åœ¨OSIä¸­éœ€ç»ä¼šè¯å±‚å»ºç«‹è¿æ¥ã€è¡¨ç¤ºå±‚åŠ å¯†æ•°æ®ï¼›åœ¨TCP/IPä¸­ç”±åº”ç”¨å±‚çš„SMTPåè®®ç›´æ¥å¤„ç†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-ä¼˜åŠ£åŠ¿åˆ†æ"&gt;âš–ï¸ &lt;strong&gt;ä¼˜åŠ£åŠ¿åˆ†æ&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OSIä¼˜åŠ¿&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æ¨¡å—åŒ–è®¾è®¡ä¾¿äºç†è§£ç½‘ç»œé€šä¿¡å…¨æµç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;ä¸¥æ ¼åˆ†å±‚åˆ©äºåè®®æ ‡å‡†åŒ–ï¼ˆå¦‚å®šä¹‰æœåŠ¡è®¿é—®ç‚¹SAPï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OSIåŠ£åŠ¿&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚åœ¨å®é™…ä¸­æå°‘ç‹¬ç«‹ä½¿ç”¨ï¼ˆå¦‚åŠ å¯†å¸¸ç”±åº”ç”¨å±‚ç›´æ¥å¤„ç†ï¼‰ï¼Œå¯¼è‡´å†—ä½™ã€‚&lt;/li&gt;
&lt;li&gt;å®ç°å¤æ‚ï¼Œå•†ä¸šåŒ–æˆæœ¬é«˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP/IPä¼˜åŠ¿&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é«˜æ•ˆç®€æ´&lt;/strong&gt;ï¼šå‡å°‘å†—ä½™å±‚ï¼Œæå‡æ•°æ®ä¼ è¾“æ•ˆç‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¹¿æ³›å…¼å®¹&lt;/strong&gt;ï¼šæ”¯æŒå¼‚æ„ç½‘ç»œäº’è”ï¼ˆå¦‚ä»¥å¤ªç½‘ã€Wi-Fiã€å«æ˜Ÿé€šä¿¡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP/IPåŠ£åŠ¿&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œæ¥å£å±‚å®šä¹‰æ¨¡ç³Šï¼Œä¸åŒç¡¬ä»¶å…¼å®¹éœ€é¢å¤–é€‚é…ã€‚&lt;/li&gt;
&lt;li&gt;æ··åˆæœåŠ¡ä¸å®ç°ç»†èŠ‚ï¼Œä¸åˆ©äºæ–°åè®®è®¾è®¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ åœºæ™¯&lt;/strong&gt;ï¼šä¼˜å…ˆæŒæ¡&lt;strong&gt;OSIæ¨¡å‹&lt;/strong&gt;ä»¥ç†è§£ç½‘ç»œåˆ†å±‚æœ¬è´¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼€å‘/å·¥ç¨‹åœºæ™¯&lt;/strong&gt;ï¼š&lt;strong&gt;TCP/IPæ¨¡å‹&lt;/strong&gt;æ˜¯å®é™…ç¼–ç¨‹ã€åè®®è®¾è®¡å’Œç½‘ç»œè¿ç»´çš„åŸºç¡€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èåˆè¶‹åŠ¿&lt;/strong&gt;ï¼šç°ä»£æ•™å­¦å¸¸å°†äºŒè€…ç»“åˆä¸º&lt;strong&gt;äº”å±‚æ¨¡å‹&lt;/strong&gt;ï¼ˆç‰©ç†å±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€åº”ç”¨å±‚ï¼‰ï¼Œå…¼é¡¾ç†è®ºä¸å®ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸¤ç§æ¨¡å‹æœ¬è´¨äº’è¡¥ï¼šOSIæä¾›â€œç†æƒ³åœ°å›¾â€ï¼ŒTCP/IPæä¾›â€œç°å®è·¯å¾„â€ã€‚ç†è§£å·®å¼‚æ–¹èƒ½æ·±å…¥ç½‘ç»œæ¶æ„è®¾è®¡é€»è¾‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="bootpdhcp"&gt;BOOTP/DHCP
&lt;/h2&gt;&lt;p&gt;BOOTPï¼ˆBootstrap Protocolï¼‰ä¸DHCPï¼ˆDynamic Host Configuration Protocolï¼‰æ˜¯ç”¨äºè‡ªåŠ¨åˆ†é…IPåœ°å€åŠç½‘ç»œé…ç½®çš„æ ¸å¿ƒåè®®ï¼ŒäºŒè€…æœ‰ç»§æ‰¿å…³ç³»ä½†å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚ä»¥ä¸‹ä»è®¾è®¡ç›®æ ‡ã€å·¥ä½œæœºåˆ¶ã€æ ¸å¿ƒç‰¹æ€§åŠåº”ç”¨åœºæ™¯å±•å¼€åˆ†æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-bootpé™æ€é…ç½®çš„æ— ç›˜å·¥ä½œç«™å¼•å¯¼åè®®"&gt;ğŸ”§ &lt;strong&gt;BOOTPï¼šé™æ€é…ç½®çš„æ— ç›˜å·¥ä½œç«™å¼•å¯¼åè®®&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡"&gt;&lt;strong&gt;è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;èµ·æº&lt;/strong&gt;ï¼š1985å¹´ç”±RFC 951å®šä¹‰ï¼Œä¸“ä¸º&lt;strong&gt;æ— ç›˜å·¥ä½œç«™&lt;/strong&gt;è®¾è®¡ï¼ˆå¦‚æ—©æœŸè®¡ç®—æœºã€è·¯ç”±å™¨ï¼‰ï¼Œéœ€ä»ç½‘ç»œåŠ è½½æ“ä½œç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒä»»åŠ¡&lt;/strong&gt;ï¼šåˆ†é…å›ºå®šIPåœ°å€ã€æŒ‡å®šå¯åŠ¨æ–‡ä»¶ä½ç½®ï¼ˆå¦‚é€šè¿‡TFTPæœåŠ¡å™¨åŠ è½½ç³»ç»Ÿé•œåƒï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å·¥ä½œæœºåˆ¶"&gt;&lt;strong&gt;å·¥ä½œæœºåˆ¶&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å¹¿æ’­è¯·æ±‚ï¼š
&lt;ul&gt;
&lt;li&gt;å¯åŠ¨æ—¶ä»¥&lt;code&gt;0.0.0.0&lt;/code&gt;ä¸ºæºIPï¼Œ&lt;code&gt;255.255.255.255&lt;/code&gt;ä¸ºç›®æ ‡IPå¹¿æ’­&lt;code&gt;BOOTREQUEST&lt;/code&gt;åŒ…ï¼Œæºå¸¦MACåœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨é™æ€å“åº”ï¼š
&lt;ul&gt;
&lt;li&gt;BOOTPæœåŠ¡å™¨æ ¹æ®MACåœ°å€æŸ¥è¯¢é¢„é…ç½®çš„é™æ€æ˜ å°„è¡¨ï¼Œè¿”å›åŒ…å«IPåœ°å€ã€ç½‘å…³ã€å¯åŠ¨æ–‡ä»¶è·¯å¾„çš„&lt;code&gt;BOOTREPLY&lt;/code&gt;åŒ…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸¤é˜¶æ®µå¯åŠ¨ï¼š
&lt;ul&gt;
&lt;li&gt;å…ˆè·å–IPå’Œæ–‡ä»¶è·¯å¾„ â†’ å†é€šè¿‡TFTPä¸‹è½½ç³»ç»Ÿé•œåƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="æ ¸å¿ƒå±€é™"&gt;&lt;strong&gt;æ ¸å¿ƒå±€é™&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é™æ€ç»‘å®š&lt;/strong&gt;ï¼šIPåœ°å€ä¸MACç¡¬ç»‘å®šï¼Œæ— æ³•åŠ¨æ€å¤ç”¨ï¼Œæ˜“é€ æˆIPæµªè´¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½å•ä¸€&lt;/strong&gt;ï¼šä»…æ”¯æŒåŸºç¡€IPé…ç½®ï¼Œä¸æä¾›DNSã€ç§ŸæœŸç®¡ç†ç­‰é«˜çº§å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— ç»­çº¦æœºåˆ¶&lt;/strong&gt;ï¼šé…ç½®ä»…åœ¨é‡å¯æ—¶æ›´æ–°ï¼Œæ— æ³•é€‚åº”ç§»åŠ¨è®¾å¤‡é¢‘ç¹æ¥å…¥çš„ç½‘ç»œç¯å¢ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-dhcpåŠ¨æ€ä¸»æœºé…ç½®çš„ç°ä»£æ ‡å‡†"&gt;ğŸ”„ &lt;strong&gt;DHCPï¼šåŠ¨æ€ä¸»æœºé…ç½®çš„ç°ä»£æ ‡å‡†&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="å¯¹bootpçš„æ”¹è¿›"&gt;&lt;strong&gt;å¯¹BOOTPçš„æ”¹è¿›&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€åœ°å€æ± &lt;/strong&gt;ï¼šIPæŒ‰éœ€åˆ†é…ï¼Œæ”¯æŒç§Ÿçº¦æœºåˆ¶ï¼ˆé»˜è®¤8å¤©ï¼‰ï¼Œåˆ°æœŸå¯å›æ”¶å¤ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•é…ç½®é¡¹&lt;/strong&gt;ï¼šé™¤IPå¤–ï¼Œå¯åˆ†é…å­ç½‘æ©ç ã€é»˜è®¤ç½‘å…³ã€DNSæœåŠ¡å™¨ã€åŸŸåç­‰30+ç§å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¨è‡ªåŠ¨åŒ–ç®¡ç†&lt;/strong&gt;ï¼šæ”¯æŒåœ°å€ç»­ç§Ÿï¼ˆåå°è‡ªåŠ¨å‘èµ·ï¼‰ã€å†²çªæ£€æµ‹ï¼ˆARPéªŒè¯ï¼‰ã€å¤šæœåŠ¡å™¨å®¹é”™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å·¥ä½œæµç¨‹å››æ­¥åå•†"&gt;&lt;strong&gt;å·¥ä½œæµç¨‹ï¼ˆå››æ­¥åå•†ï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æ­¥éª¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æŠ¥æ–‡ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å‘ç°é˜¶æ®µ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DHCP Discover&lt;/td&gt;
&lt;td&gt;å®¢æˆ·ç«¯å¹¿æ’­å¯»æ‰¾å¯ç”¨æœåŠ¡å™¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æä¾›é˜¶æ®µ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DHCP Offer&lt;/td&gt;
&lt;td&gt;æœåŠ¡å™¨å“åº”å¯ç”¨IPåŠé…ç½®å‚æ•°ï¼ˆå•æ’­/å¹¿æ’­ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¯·æ±‚é˜¶æ®µ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DHCP Request&lt;/td&gt;
&lt;td&gt;å®¢æˆ·ç«¯ç¡®è®¤é€‰æ‹©æŸæœåŠ¡å™¨æä¾›çš„IPï¼Œå¹¶å¹¿æ’­é€šçŸ¥å…¶ä»–æœåŠ¡å™¨é‡Šæ”¾èµ„æºã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¡®è®¤é˜¶æ®µ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DHCP Ack/Nak&lt;/td&gt;
&lt;td&gt;æœåŠ¡å™¨ç¡®è®¤åˆ†é…ï¼ˆAckï¼‰æˆ–æ‹’ç»ï¼ˆNakï¼Œå¦‚IPå†²çªï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id="é«˜çº§ç‰¹æ€§"&gt;&lt;strong&gt;é«˜çº§ç‰¹æ€§&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç§Ÿçº¦ç®¡ç†ï¼š
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯åœ¨ç§ŸæœŸ50%æ—¶è‡ªåŠ¨è¯·æ±‚ç»­ç§Ÿï¼ˆç›´æ¥å‘Requestï¼‰ï¼Œ87.5%æ—¶å¹¿æ’­å¯»æ‰¾æ–°æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸­ç»§ä»£ç†&lt;/strong&gt;ï¼š
è·¨å­ç½‘æ—¶ï¼Œä¸­ç»§ä»£ç†è½¬å‘è¯·æ±‚ï¼ˆå¡«å……&lt;code&gt;giaddr&lt;/code&gt;å­—æ®µï¼‰ï¼Œå®ç°å•æœåŠ¡å™¨ç®¡ç†å¤šç½‘æ®µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨å¢å¼º&lt;/strong&gt;ï¼š
æ”¯æŒDHCP Snoopingé˜²æ¬ºéª—ã€IPå†²çªæ£€æµ‹ï¼ˆå®¢æˆ·ç«¯ä¸»åŠ¨ARPéªŒè¯ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-bootpä¸dhcpå…³é”®å¯¹æ¯”"&gt;âš–ï¸ &lt;strong&gt;BOOTPä¸DHCPå…³é”®å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;BOOTP&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;DHCP&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;IPåˆ†é…æ–¹å¼&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é™æ€ç»‘å®šï¼ˆMACâ†’IPå›ºå®šæ˜ å°„ï¼‰&lt;/td&gt;
&lt;td&gt;åŠ¨æ€ç§Ÿçº¦ï¼ˆå¯å›æ”¶å¤ç”¨ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é…ç½®å‚æ•°&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä»…IPã€å¯åŠ¨æ–‡ä»¶è·¯å¾„&lt;/td&gt;
&lt;td&gt;IPã€æ©ç ã€ç½‘å…³ã€DNSç­‰30+é€‰é¡¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç»­çº¦æœºåˆ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ— ï¼Œé‡å¯æ—¶æ‰æ›´æ–°&lt;/td&gt;
&lt;td&gt;åå°è‡ªåŠ¨ç»­ç§Ÿï¼ˆæ— éœ€ç”¨æˆ·å¹²é¢„ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ— ç›˜å·¥ä½œç«™ã€å›ºå®šè®¾å¤‡&lt;/td&gt;
&lt;td&gt;ç§»åŠ¨è®¾å¤‡ã€å¤§å‹ä¼ä¸šç½‘ã€ISPåŠ¨æ€æ¥å…¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åè®®å…¼å®¹æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸ä¾èµ–DHCP&lt;/td&gt;
&lt;td&gt;å®Œå…¨å…¼å®¹BOOTPå®¢æˆ·ç«¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;èµ„æºæ•ˆç‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä½ï¼ˆIPé™æ€å ç”¨ï¼‰&lt;/td&gt;
&lt;td&gt;é«˜ï¼ˆIPåŠ¨æ€å¤ç”¨ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-å®é™…åº”ç”¨ä¸æ¼”è¿›"&gt;ğŸŒ &lt;strong&gt;å®é™…åº”ç”¨ä¸æ¼”è¿›&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;BOOTPçš„é—ç•™åœºæ™¯&lt;/strong&gt;ï¼š
ä»ç”¨äºæ—§å¼å·¥ä¸šè®¾å¤‡ã€è·¯ç”±å™¨å›ºä»¶æ›´æ–°æˆ–ç‰¹å®šæ— ç›˜ç³»ç»Ÿï¼ˆå¦‚ç˜¦å®¢æˆ·æœºï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DHCPçš„ç»Ÿæ²»åœ°ä½&lt;/strong&gt;ï¼š
æˆä¸ºç°ä»£ç½‘ç»œæ ‡é…ï¼Œæ”¯æŒIPv6ï¼ˆDHCPv6ï¼‰ã€äº‘ç½‘ç»œï¼ˆå¦‚SDNç¯å¢ƒï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åè®®å…¼å®¹æ€§&lt;/strong&gt;ï¼š
DHCPæœåŠ¡å™¨å¯åŒæ—¶æœåŠ¡BOOTPå®¢æˆ·ç«¯ï¼ˆé€šè¿‡ä¿ç•™é™æ€æ˜ å°„ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-1"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;BOOTP&lt;/strong&gt;æ˜¯ç½‘ç»œè‡ªåŠ¨é…ç½®çš„å¥ åŸºè€…ï¼Œè§£å†³äº†æ— ç›˜è®¾å¤‡çš„å¯åŠ¨é—®é¢˜ï¼Œä½†é™æ€æ¨¡å‹éš¾ä»¥æ‰©å±•ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DHCP&lt;/strong&gt;é€šè¿‡åŠ¨æ€ç§Ÿçº¦ã€ä¸°å¯Œé€‰é¡¹å’Œè‡ªåŠ¨åŒ–ç®¡ç†ï¼Œæˆä¸ºIPåˆ†é…çš„äº‹å®æ ‡å‡†ï¼Œå°¤å…¶é€‚åˆåŠ¨æ€ç½‘ç»œç¯å¢ƒã€‚äºŒè€…è™½å…±ç”¨ä¸€ä¸ªæŠ¥æ–‡ç»“æ„ï¼ˆUDP 67/68ç«¯å£ï¼‰ï¼Œä½†DHCPä»¥â€œç§Ÿçº¦â€ä¸ºæ ¸å¿ƒçš„è®¾è®¡å½»åº•é©æ–°äº†IPèµ„æºçš„ç®¡ç†é€»è¾‘ï¼Œæˆä¸ºç°ä»£ç½‘ç»œä¸å¯æˆ–ç¼ºçš„åŸºç¡€æœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dhcp--rarp"&gt;DHCP &amp;amp; RARP
&lt;/h2&gt;&lt;p&gt;DHCPï¼ˆåŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼‰èƒ½å¤Ÿå–ä»£RARPï¼ˆåå‘åœ°å€è§£æåè®®ï¼‰ä¸»è¦æºäºå…¶è®¾è®¡ä¸Šçš„å…¨é¢ä¼˜åŒ–ï¼Œè§£å†³äº†RARPåœ¨åŠŸèƒ½ã€æ‰©å±•æ€§å’Œç®¡ç†ä¸Šçš„æ ¹æœ¬æ€§ç¼ºé™·ã€‚ä»¥ä¸‹ä»äº”ä¸ªå…³é”®ç»´åº¦åˆ†æè¿™ä¸€æ›¿ä»£é€»è¾‘ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-åè®®å±‚çº§ä¸ç½‘ç»œæ‰©å±•æ€§"&gt;ğŸ”§ &lt;strong&gt;åè®®å±‚çº§ä¸ç½‘ç»œæ‰©å±•æ€§&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åè®®&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å·¥ä½œå±‚çº§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;è·¨å­ç½‘èƒ½åŠ›&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å®ç°æ–¹å¼&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;RARP&lt;/td&gt;
&lt;td&gt;æ•°æ®é“¾è·¯å±‚ï¼ˆäºŒå±‚ï¼‰&lt;/td&gt;
&lt;td&gt;âŒ å¹¿æ’­æ— æ³•é€šè¿‡è·¯ç”±å™¨&lt;/td&gt;
&lt;td&gt;ç›´æ¥å°è£…äºä»¥å¤ªç½‘å¸§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DHCP&lt;/td&gt;
&lt;td&gt;åº”ç”¨å±‚ï¼ˆåŸºäºUDPï¼‰&lt;/td&gt;
&lt;td&gt;âœ… æ”¯æŒä¸­ç»§ä»£ç†è·¨å­ç½‘è½¬å‘&lt;/td&gt;
&lt;td&gt;å°è£…äºUDP/IPåè®®æ ˆä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ ¸å¿ƒå·®å¼‚&lt;/strong&gt;ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RARPä½œä¸ºäºŒå±‚åè®®ï¼Œå…¶å¹¿æ’­è¯·æ±‚è¢«é™åˆ¶åœ¨&lt;strong&gt;åŒä¸€ç‰©ç†ç½‘æ®µå†…&lt;/strong&gt;ï¼Œéœ€æ¯ä¸ªå­ç½‘éƒ¨ç½²ä¸“ç”¨æœåŠ¡å™¨ï¼›è€ŒDHCPé€šè¿‡UDP/IPå°è£…ï¼Œåˆ©ç”¨&lt;strong&gt;DHCPä¸­ç»§ä»£ç†&lt;/strong&gt;ï¼ˆå¦‚è·¯ç”±å™¨ï¼‰è½¬å‘è¯·æ±‚è‡³ä¸­å¿ƒæœåŠ¡å™¨ï¼Œå®ç°å•ç‚¹ç®¡ç†å¤šç½‘æ®µã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-åŠŸèƒ½ä¸°å¯Œæ€§ä¸é…ç½®çµæ´»æ€§"&gt;âš™ï¸ &lt;strong&gt;åŠŸèƒ½ä¸°å¯Œæ€§ä¸é…ç½®çµæ´»æ€§&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;RARPæ”¯æŒæƒ…å†µ&lt;/th&gt;
&lt;th&gt;DHCPæ”¯æŒæƒ…å†µ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;IPåœ°å€åˆ†é…&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆä»…é™æ€ç»‘å®šï¼‰&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆåŠ¨æ€/é™æ€/è‡ªåŠ¨åˆ†é…ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å­ç½‘æ©ç /ç½‘å…³&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âœ…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DNSæœåŠ¡å™¨&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âœ…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç§ŸæœŸç®¡ç†&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆè‡ªåŠ¨ç»­ç§Ÿ/å›æ”¶ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å…¶ä»–ç½‘ç»œå‚æ•°&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆ30+ç§Optioné€‰é¡¹ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…³é”®çªç ´&lt;/strong&gt;ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RARPä»…èƒ½æä¾›&lt;strong&gt;IPåœ°å€æ˜ å°„&lt;/strong&gt;ï¼ˆéœ€é¢„å…ˆé…ç½®MAC-IPé™æ€è¡¨ï¼‰ï¼Œè€ŒDHCPé€šè¿‡åŠ¨æ€åœ°å€æ± å’Œç§Ÿçº¦æœºåˆ¶ï¼ˆå¦‚é»˜è®¤8å¤©ç§ŸæœŸ+50%è‡ªåŠ¨ç»­ç§Ÿï¼‰æ˜¾è‘—æå‡IPåˆ©ç”¨ç‡ï¼ŒåŒæ—¶æ”¯æŒç½‘å…³ã€DNSç­‰å…³é”®å‚æ•°çš„ä¸€ç«™å¼é…ç½®ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-éƒ¨ç½²æˆæœ¬ä¸ç®¡ç†æ•ˆç‡"&gt;ğŸŒ &lt;strong&gt;éƒ¨ç½²æˆæœ¬ä¸ç®¡ç†æ•ˆç‡&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;RARPçš„ç¡¬ä¼¤ï¼š
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªå­ç½‘éœ€ç‹¬ç«‹éƒ¨ç½²RARPæœåŠ¡å™¨ï¼Œç»´æŠ¤å¤§é‡MAC-IPæ˜ å°„è¡¨ï¼›&lt;/li&gt;
&lt;li&gt;æ— é›†ä¸­ç®¡ç†èƒ½åŠ›ï¼Œæ‰©å®¹æˆ–å˜æ›´éœ€é€ç½‘æ®µè°ƒæ•´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DHCPçš„ä¼˜åŒ–ï¼š
&lt;ul&gt;
&lt;li&gt;å•å°æœåŠ¡å™¨é€šè¿‡ä¸­ç»§ä»£ç†æœåŠ¡å¤šç½‘æ®µï¼Œä¸­ç»§ä»£ç†å°†å®¢æˆ·ç«¯å¹¿æ’­è½¬ä¸ºå•æ’­å‘é€è‡³ä¸­å¿ƒæœåŠ¡å™¨ï¼›&lt;/li&gt;
&lt;li&gt;æ”¯æŒåœ°å€æ± è‡ªåŠ¨åŒ–åˆ†é…ï¼Œæ— éœ€æ‰‹åŠ¨ç»‘å®šMACåœ°å€ï¼ˆBOOTPä»éœ€é™æ€ç»‘å®šï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æŠ€æœ¯æ¼”è¿›ä¸åœºæ™¯é€‚é…"&gt;ğŸ”„ &lt;strong&gt;æŠ€æœ¯æ¼”è¿›ä¸åœºæ™¯é€‚é…&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RARPçš„åŸå§‹åœºæ™¯&lt;/strong&gt;ï¼š
ä¸“ä¸º1980å¹´ä»£&lt;strong&gt;æ— ç›˜å·¥ä½œç«™&lt;/strong&gt;è®¾è®¡ï¼ˆå¦‚é€šè¿‡TFTPåŠ è½½ç³»ç»Ÿé•œåƒï¼‰ï¼Œä½†æ— æ³•é€‚åº”ç°ä»£åŠ¨æ€ç½‘ç»œç¯å¢ƒã€‚&lt;/li&gt;
&lt;li&gt;DHCPçš„æ‰©å±•èƒ½åŠ›ï¼š
&lt;ul&gt;
&lt;li&gt;å…¼å®¹IPv6ï¼ˆDHCPv6ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;æ”¯æŒäº‘ç½‘ç»œã€SDNç¯å¢ƒä¸­çš„åŠ¨æ€é…ç½®éœ€æ±‚ï¼›&lt;/li&gt;
&lt;li&gt;å¯æ— ç¼æ›¿ä»£BOOTPï¼ˆé€šè¿‡ä¿ç•™é™æ€æ˜ å°„å…¼å®¹æ—§è®¾å¤‡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-rarpçš„ä¸å¯ä¿®å¤ç¼ºé™·"&gt;âš ï¸ &lt;strong&gt;RARPçš„ä¸å¯ä¿®å¤ç¼ºé™·&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ— å®¹é”™æœºåˆ¶&lt;/strong&gt;ï¼šæœåŠ¡å™¨å®•æœºå¯¼è‡´å…¨ç½‘è®¾å¤‡æ— æ³•è·å–IPï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— å†²çªæ£€æµ‹&lt;/strong&gt;ï¼šIPåœ°å€å†²çªéœ€äººå·¥å¹²é¢„ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— å®‰å…¨æ€§è®¾è®¡&lt;/strong&gt;ï¼šæ˜“å—ARPæ¬ºéª—æ”»å‡»ï¼ˆå¦‚ä¼ªé€ RARPå“åº”ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ›¿ä»£æœ¬è´¨ä»ç¡¬ä»¶ç»‘å®šåˆ°æœåŠ¡ç”Ÿæ€"&gt;ğŸ’ &lt;strong&gt;æ›¿ä»£æœ¬è´¨ï¼šä»â€œç¡¬ä»¶ç»‘å®šâ€åˆ°â€œæœåŠ¡ç”Ÿæ€â€&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;RARPæ˜¯&lt;strong&gt;åœ°å€æ˜ å°„å·¥å…·&lt;/strong&gt;ï¼Œè€ŒDHCPæ˜¯&lt;strong&gt;ç½‘ç»œé…ç½®æœåŠ¡å¹³å°&lt;/strong&gt;ã€‚ä¸¤è€…çš„å–ä»£å¹¶éç®€å•åŠŸèƒ½å‡çº§ï¼Œè€Œæ˜¯ä»å•ç‚¹è§£å†³æ–¹æ¡ˆåˆ°ç”Ÿæ€åŒ–æœåŠ¡çš„èŒƒå¼è½¬ç§»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ”„ RARPå¦‚åŒæ‰‹åŠ¨åˆ†é…é’¥åŒ™çš„ä¿ç®¡å‘˜ï¼ŒDHCPåˆ™æ˜¯æ™ºèƒ½é—¨ç¦ç³»ç»Ÿâ€”â€”ä¸ä»…åŠ¨æ€åˆ†å‘é’¥åŒ™ï¼Œè¿˜ç®¡ç†æƒé™æ—¶æ•ˆã€æä¾›å¯¼èˆªåœ°å›¾ï¼ˆDNSï¼‰ã€ç”šè‡³è·¨åŒºåŸŸé€šè¡Œï¼ˆä¸­ç»§ä»£ç†ï¼‰ã€‚
è¿™ç§ä»£é™…å·®å¼‚ä½¿DHCPæˆä¸ºç°ä»£ç½‘ç»œï¼ˆæœ‰çº¿/æ— çº¿ã€IPv4/IPv6ï¼‰çš„&lt;strong&gt;åŸºç¡€è®¾æ–½çº§åè®®&lt;/strong&gt;ï¼Œè€ŒRARPä»…å­˜äºç‰¹å®šå·¥ä¸šè®¾å¤‡æˆ–å†å²ç ”ç©¶åœºæ™¯ä¸­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="æŠ¥æ–‡å°è£…"&gt;æŠ¥æ–‡å°è£…
&lt;/h2&gt;&lt;p&gt;åœ¨TCP/IPåè®®æ ˆä¸­ï¼Œæ•°æ®ä»ä¸Šå±‚å‘ä¸‹å±‚ä¼ é€’æ—¶ä¼šé€å±‚æ·»åŠ å¤´éƒ¨ï¼ˆæˆ–å°¾éƒ¨ï¼‰ä¿¡æ¯ï¼Œå½¢æˆæ–°çš„æ•°æ®å•å…ƒï¼Œè¿™ä¸€è¿‡ç¨‹ç§°ä¸º&lt;strong&gt;å°è£…ï¼ˆEncapsulationï¼‰&lt;/strong&gt;ã€‚å°è£…çš„æ ¸å¿ƒç›®çš„æ˜¯ä¸ºæ•°æ®æ·»åŠ å½“å‰å±‚æ‰€éœ€çš„æ§åˆ¶ä¿¡æ¯ï¼ˆå¦‚åœ°å€ã€æ ¡éªŒã€åè®®æ ‡è¯†ç­‰ï¼‰ï¼Œç¡®ä¿æ•°æ®èƒ½æ­£ç¡®è·¯ç”±ã€ä¼ è¾“å’Œè§£æã€‚ä»¥ä¸‹æ˜¯å„å±‚å°è£…è¿‡ç¨‹çš„è¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-å°è£…æµç¨‹æ¦‚è§ˆ"&gt;ğŸ“¦ &lt;strong&gt;å°è£…æµç¨‹æ¦‚è§ˆ&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;TCP/IPæ¨¡å‹ä»åº”ç”¨å±‚åˆ°ç‰©ç†å±‚çš„å°è£…é¡ºåºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;åº”ç”¨å±‚æ•°æ® â†’ ä¼ è¾“å±‚æ®µï¼ˆSegmentï¼‰â†’ ç½‘ç»œå±‚åŒ…ï¼ˆPacketï¼‰â†’ æ•°æ®é“¾è·¯å±‚å¸§ï¼ˆFrameï¼‰â†’ ç‰©ç†å±‚æ¯”ç‰¹æµï¼ˆBitï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¯å±‚å°†ä¸Šå±‚ä¼ é€’çš„æ•°æ®è§†ä¸ºâ€œè½½è·â€ï¼ˆPayloadï¼‰ï¼Œå¹¶æ·»åŠ æœ¬å±‚å¤´éƒ¨ä¿¡æ¯ï¼Œå½¢æˆæ–°çš„æ•°æ®å•å…ƒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-åˆ†å±‚å°è£…è¯¦è§£"&gt;ğŸ” &lt;strong&gt;åˆ†å±‚å°è£…è¯¦è§£&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="1åº”ç”¨å±‚--ä¼ è¾“å±‚å°è£…ä¸ºæ®µsegment"&gt;&lt;strong&gt;ï¼ˆ1ï¼‰åº”ç”¨å±‚ â†’ ä¼ è¾“å±‚ï¼šå°è£…ä¸ºæ®µï¼ˆSegmentï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸Šå±‚è¾“å…¥&lt;/strong&gt;ï¼šåº”ç”¨å±‚åŸå§‹æ•°æ®ï¼ˆå¦‚HTTPè¯·æ±‚ã€DNSæŸ¥è¯¢æŠ¥æ–‡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¼ è¾“å±‚æ“ä½œï¼š
&lt;ul&gt;
&lt;li&gt;æ·»åŠ TCP/UDPå¤´éƒ¨ï¼šåŒ…å«å…³é”®æ§åˆ¶ä¿¡æ¯ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æºç«¯å£ &amp;amp; ç›®çš„ç«¯å£&lt;/strong&gt;ï¼ˆ16ä½ï¼‰ï¼šæ ‡è¯†å‘é€/æ¥æ”¶çš„åº”ç”¨ç¨‹åºï¼ˆå¦‚HTTPç”¨80ç«¯å£ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åºåˆ—å· &amp;amp; ç¡®è®¤å·&lt;/strong&gt;ï¼ˆTCPç‰¹æœ‰ï¼‰ï¼šå®ç°å¯é ä¼ è¾“å’Œæµé‡æ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¡éªŒå’Œ&lt;/strong&gt;ï¼šæ£€æµ‹æ•°æ®ä¼ è¾“æ˜¯å¦å‡ºé”™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å•å…ƒ&lt;/strong&gt;ï¼šå°è£…åç§°ä¸º&lt;strong&gt;æ®µï¼ˆTCPï¼‰&lt;/strong&gt; æˆ– &lt;strong&gt;æ•°æ®æŠ¥ï¼ˆUDPï¼‰&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼šHTTPæ•°æ®æ·»åŠ TCPå¤´éƒ¨åï¼Œå˜ä¸ºTCPæ®µï¼Œç›®çš„ç«¯å£ä¸º80ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="2ä¼ è¾“å±‚--ç½‘ç»œå±‚å°è£…ä¸ºåŒ…packet"&gt;&lt;strong&gt;ï¼ˆ2ï¼‰ä¼ è¾“å±‚ â†’ ç½‘ç»œå±‚ï¼šå°è£…ä¸ºåŒ…ï¼ˆPacketï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸Šå±‚è¾“å…¥&lt;/strong&gt;ï¼šä¼ è¾“å±‚æ®µï¼ˆSegmentï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå±‚æ“ä½œï¼š
&lt;ul&gt;
&lt;li&gt;æ·»åŠ IPå¤´éƒ¨ï¼šæ ¸å¿ƒå­—æ®µåŒ…æ‹¬ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æºIP &amp;amp; ç›®çš„IP&lt;/strong&gt;ï¼ˆ32/128ä½ï¼‰ï¼šé€»è¾‘å¯»å€ï¼ŒæŒ‡å¯¼è·¨ç½‘ç»œè·¯ç”±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TTLï¼ˆç”Ÿå­˜æ—¶é—´ï¼‰&lt;/strong&gt;ï¼šæ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨å‡1ï¼Œé˜²æ­¢ç¯è·¯ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åè®®æ ‡è¯†&lt;/strong&gt;ï¼ˆå¦‚TCP=6, UDP=17ï¼‰ï¼šå‘ŠçŸ¥æ¥æ”¶æ–¹ä¼ è¾“å±‚åè®®ç±»å‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å•å…ƒ&lt;/strong&gt;ï¼šå°è£…åç§°ä¸º&lt;strong&gt;IPåŒ…&lt;/strong&gt;ï¼ˆPacketï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å…³é”®ç‚¹&lt;/strong&gt;ï¼šIPåœ°å€å…¨ç¨‹ä¸å˜ï¼ˆé™¤éNATï¼‰ï¼Œä½†MACåœ°å€é€è·³å˜åŒ–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="3ç½‘ç»œå±‚--æ•°æ®é“¾è·¯å±‚å°è£…ä¸ºå¸§frame"&gt;&lt;strong&gt;ï¼ˆ3ï¼‰ç½‘ç»œå±‚ â†’ æ•°æ®é“¾è·¯å±‚ï¼šå°è£…ä¸ºå¸§ï¼ˆFrameï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸Šå±‚è¾“å…¥&lt;/strong&gt;ï¼šç½‘ç»œå±‚åŒ…ï¼ˆPacketï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®é“¾è·¯å±‚æ“ä½œï¼š
&lt;ul&gt;
&lt;li&gt;æ·»åŠ å¸§å¤´ &amp;amp; å¸§å°¾ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¸§å¤´&lt;/strong&gt;ï¼šæºMAC &amp;amp; ç›®çš„MACåœ°å€ï¼ˆ48ä½ï¼‰ï¼Œç”¨äºåŒä¸€ç‰©ç†ç½‘æ®µå†…è®¾å¤‡å¯»å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¸§å°¾&lt;/strong&gt;ï¼šCRCæ ¡éªŒç ï¼Œæ£€æµ‹å¸§ä¼ è¾“é”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åè®®ç±»å‹æ ‡è¯†&lt;/strong&gt;ï¼šå¦‚0x0800è¡¨ç¤ºIPv4åè®®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å•å…ƒ&lt;/strong&gt;ï¼šå°è£…åç§°ä¸º&lt;strong&gt;å¸§&lt;/strong&gt;ï¼ˆFrameï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è·¯ç”±åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥ç›®çš„IPä¸åœ¨æœ¬ç½‘æ®µï¼Œç›®çš„MACè®¾ä¸º&lt;strong&gt;ç½‘å…³MAC&lt;/strong&gt;ï¼ˆé€šè¿‡ARPæŸ¥è¯¢ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨è½¬å‘æ—¶ä¼šæ›¿æ¢æº/ç›®çš„MACä¸ºä¸‹ä¸€è·³åœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id="4æ•°æ®é“¾è·¯å±‚--ç‰©ç†å±‚è½¬æ¢ä¸ºæ¯”ç‰¹æµbit"&gt;&lt;strong&gt;ï¼ˆ4ï¼‰æ•°æ®é“¾è·¯å±‚ â†’ ç‰©ç†å±‚ï¼šè½¬æ¢ä¸ºæ¯”ç‰¹æµï¼ˆBitï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸Šå±‚è¾“å…¥&lt;/strong&gt;ï¼šæ•°æ®é“¾è·¯å±‚å¸§ï¼ˆFrameï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç‰©ç†å±‚æ“ä½œï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¯”ç‰¹æµè½¬æ¢&lt;/strong&gt;ï¼šå°†å¸§çš„äºŒè¿›åˆ¶æ•°æ®è½¬åŒ–ä¸ºç”µä¿¡å·ï¼ˆç”µç¼†ï¼‰ã€å…‰ä¿¡å·ï¼ˆå…‰çº¤ï¼‰æˆ–ç”µç£æ³¢ï¼ˆWi-Fiï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— å¤´éƒ¨æ·»åŠ &lt;/strong&gt;ï¼šä»…è¿›è¡Œä¿¡å·ç¼–ç ï¼ˆå¦‚æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®å•å…ƒ&lt;/strong&gt;ï¼šç‰©ç†å±‚ä¼ è¾“çš„å•ä½æ˜¯&lt;strong&gt;æ¯”ç‰¹&lt;/strong&gt;ï¼ˆBitï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å°è£…è¿‡ç¨‹ç¤ºä¾‹httpè¯·æ±‚çš„å®Œæ•´æµç¨‹"&gt;ğŸŒ &lt;strong&gt;å°è£…è¿‡ç¨‹ç¤ºä¾‹ï¼šHTTPè¯·æ±‚çš„å®Œæ•´æµç¨‹&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;å‡è®¾PCï¼ˆIP: 193.1.1.2ï¼‰è®¿é—®æœåŠ¡å™¨ï¼ˆIP: 195.1.1.2ï¼‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨å±‚&lt;/strong&gt;ï¼šç”ŸæˆHTTPè¯·æ±‚æŠ¥æ–‡ï¼ˆåŸå§‹æ•°æ®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼ è¾“å±‚&lt;/strong&gt;ï¼šæ·»åŠ TCPå¤´éƒ¨ï¼ˆæºç«¯å£éšæœº &amp;gt;1024ï¼Œç›®çš„ç«¯å£80ï¼‰ â†’ &lt;strong&gt;TCPæ®µ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œå±‚&lt;/strong&gt;ï¼šæ·»åŠ IPå¤´éƒ¨ï¼ˆæºIP 193.1.1.2ï¼Œç›®çš„IP 195.1.1.2ï¼‰ â†’ &lt;strong&gt;IPåŒ…&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®é“¾è·¯å±‚ï¼š
&lt;ul&gt;
&lt;li&gt;å‘ç°ç›®çš„IPä¸åœ¨æœ¬åœ°ç½‘æ®µ â†’ æŸ¥è¯¢ç½‘å…³MACï¼ˆé€šè¿‡ARPï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å°è£…å¸§å¤´ï¼ˆæºMAC=PC1_MACï¼Œç›®çš„MAC=ç½‘å…³_MACï¼‰ â†’ &lt;strong&gt;ä»¥å¤ªç½‘å¸§&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰©ç†å±‚&lt;/strong&gt;ï¼šè½¬æ¢ä¸ºæ¯”ç‰¹æµï¼Œé€šè¿‡ç½‘å¡å‘å‡ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å°è£…çš„æŠ€æœ¯æœ¬è´¨"&gt;âš™ï¸ &lt;strong&gt;å°è£…çš„æŠ€æœ¯æœ¬è´¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åˆ†å±‚è§£è€¦&lt;/strong&gt;ï¼šæ¯å±‚åªå…³æ³¨æœ¬å±‚åŠŸèƒ½ï¼ˆå¦‚ä¼ è¾“å±‚ç®¡ç«¯å£ï¼Œç½‘ç»œå±‚ç®¡IPï¼‰ï¼Œé€šè¿‡å°è£…æ¥å£å®ç°åä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶ä¿¡æ¯ä¼ é€’&lt;/strong&gt;ï¼šå¤´éƒ¨ä¿¡æ¯åƒâ€œä¿¡å°â€ï¼Œé€å±‚æ ‡æ³¨ä¼ é€’è¦æ±‚ï¼ˆå¦‚åœ°å€å¡«å“ªé‡Œã€æ˜¯å¦éœ€æ ¡éªŒï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åè®®æ ‡è¯†&lt;/strong&gt;ï¼šæ¯å±‚å¤´éƒ¨åŒ…å«åè®®ç±»å‹å­—æ®µï¼ˆå¦‚IPå¤´ä¸­çš„åè®®å·ï¼‰ï¼Œå‘ŠçŸ¥æ¥æ”¶æ–¹å¦‚ä½•è§£å°è£…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å„å±‚æ•°æ®å•å…ƒå¯¹æ¯”è¡¨"&gt;ğŸ“Š &lt;strong&gt;å„å±‚æ•°æ®å•å…ƒå¯¹æ¯”è¡¨&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;TCP/IPå±‚&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å°è£…åæ•°æ®å•å…ƒ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ·»åŠ çš„å¤´éƒ¨ä¿¡æ¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¸å¿ƒåŠŸèƒ½&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åº”ç”¨å±‚&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŸå§‹æ•°æ®ï¼ˆDataï¼‰&lt;/td&gt;
&lt;td&gt;æ— ï¼ˆç”±åº”ç”¨åè®®å®šä¹‰æ ¼å¼ï¼‰&lt;/td&gt;
&lt;td&gt;ç”Ÿæˆç”¨æˆ·æ•°æ®ï¼ˆå¦‚HTTPæŠ¥æ–‡ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä¼ è¾“å±‚&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ®µï¼ˆSegmentï¼‰&lt;/td&gt;
&lt;td&gt;TCP/UDPå¤´éƒ¨ï¼ˆç«¯å£ã€åºåˆ—å·ç­‰ï¼‰&lt;/td&gt;
&lt;td&gt;ç«¯åˆ°ç«¯å¯é /é«˜æ•ˆä¼ è¾“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç½‘ç»œå±‚&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŒ…ï¼ˆPacketï¼‰&lt;/td&gt;
&lt;td&gt;IPå¤´éƒ¨ï¼ˆIPåœ°å€ã€TTLã€åè®®å·ï¼‰&lt;/td&gt;
&lt;td&gt;è·¨ç½‘ç»œè·¯ç”±å’Œé€»è¾‘å¯»å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ•°æ®é“¾è·¯å±‚&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¸§ï¼ˆFrameï¼‰&lt;/td&gt;
&lt;td&gt;å¸§å¤´ï¼ˆMACåœ°å€ï¼‰ã€å¸§å°¾ï¼ˆCRCï¼‰&lt;/td&gt;
&lt;td&gt;åŒä¸€é“¾è·¯å†…çš„è®¾å¤‡å¯»å€å’Œå·®é”™æ£€æµ‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç‰©ç†å±‚&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¯”ç‰¹ï¼ˆBitï¼‰&lt;/td&gt;
&lt;td&gt;æ— ï¼ˆä»…ä¿¡å·ç¼–ç ï¼‰&lt;/td&gt;
&lt;td&gt;æ¯”ç‰¹æµçš„ç‰©ç†ä»‹è´¨ä¼ è¾“&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-2"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;TCP/IPçš„å°è£…æœºåˆ¶æ˜¯ç½‘ç»œé€šä¿¡çš„åŸºçŸ³ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è‡ªä¸Šè€Œä¸‹&lt;/strong&gt;ï¼šæ•°æ®é€å±‚â€œæ‰“åŒ…â€ï¼Œæ·»åŠ æ§åˆ¶ä¿¡æ¯ï¼Œç¡®ä¿å¯è·¯ç”±ã€å¯æ ¡éªŒã€å¯äº¤ä»˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªä¸‹è€Œä¸Š&lt;/strong&gt;ï¼šæ¥æ”¶ç«¯åå‘â€œæ‹†åŒ…â€ï¼ˆè§£å°è£…ï¼‰ï¼Œé€å±‚å‰¥ç¦»å¤´éƒ¨ï¼Œæœ€ç»ˆè¿˜åŸåŸå§‹æ•°æ®ã€‚
å°è£…ä¸ä»…å®ç°äº†åè®®åˆ†å±‚è®¾è®¡çš„çµæ´»æ€§ï¼Œæ›´é€šè¿‡æ ‡å‡†åŒ–å¤´éƒ¨ç»“æ„ï¼ˆå¦‚IPåœ°å€å®šä½ä¸»æœºã€MACåœ°å€å®šä½è®¾å¤‡ï¼‰ï¼Œæ”¯æ’‘äº†å…¨çƒäº’è”ç½‘çš„å¤æ‚æ•°æ®äº¤æ¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="åˆ†ç‰‡--é‡ç»„"&gt;åˆ†ç‰‡ &amp;amp; é‡ç»„
&lt;/h2&gt;&lt;p&gt;åœ¨TCP/IPåè®®æ ˆä¸­ï¼Œåˆ†ç‰‡ï¼ˆFragmentationï¼‰å’Œé‡ç»„ï¼ˆReassemblyï¼‰æ˜¯å®ç°å¤§æ•°æ®åŒ…è·¨ä¸åŒMTUç½‘ç»œä¼ è¾“çš„æ ¸å¿ƒæœºåˆ¶ã€‚IPå±‚å’ŒTCPå±‚åˆ†åˆ«æ‰¿æ‹…ä¸åŒè§’è‰²çš„åˆ†ç‰‡ä¸é‡ç»„ä»»åŠ¡ï¼Œä»¥ä¸‹æ˜¯å…¶å®ç°åŸç†åŠå·®å¼‚çš„è¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-ipå±‚çš„åˆ†ç‰‡ä¸é‡ç»„"&gt;ğŸ“¦ &lt;strong&gt;IPå±‚çš„åˆ†ç‰‡ä¸é‡ç»„&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;è§¦å‘æ¡ä»¶&lt;/strong&gt;ï¼šå½“IPæ•°æ®åŒ…å¤§å°è¶…è¿‡é“¾è·¯å±‚MTUï¼ˆå¦‚ä»¥å¤ªç½‘MTU=1500å­—èŠ‚ï¼‰æ—¶ï¼Œè·¯ç”±å™¨æˆ–å‘é€ç«¯éœ€åˆ†ç‰‡ä¼ è¾“ã€‚&lt;/p&gt;
&lt;h4 id="åˆ†ç‰‡è¿‡ç¨‹"&gt;&lt;strong&gt;åˆ†ç‰‡è¿‡ç¨‹&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å…³é”®å­—æ®µï¼ˆIPv4å¤´éƒ¨ï¼‰ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Identificationï¼ˆæ ‡è¯†ç¬¦ï¼‰&lt;/strong&gt;ï¼šåŒä¸€åŸå§‹æ•°æ®åŒ…çš„æ‰€æœ‰åˆ†ç‰‡å…±äº«å”¯ä¸€IDã€‚&lt;/li&gt;
&lt;li&gt;Flagsï¼ˆæ ‡å¿—ä½ï¼‰ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;MF=1&lt;/code&gt;ï¼šè¡¨ç¤ºåç»­è¿˜æœ‰åˆ†ç‰‡ï¼ˆæœ€åä¸€ç‰‡ç½®&lt;code&gt;MF=0&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DF=1&lt;/code&gt;ï¼šç¦æ­¢åˆ†ç‰‡ï¼ˆè‹¥éœ€åˆ†ç‰‡åˆ™ä¸¢å¼ƒå¹¶è¿”å›ICMPé”™è¯¯ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fragment Offsetï¼ˆç‰‡åç§»ï¼‰&lt;/strong&gt;ï¼šä»¥&lt;strong&gt;8å­—èŠ‚ä¸ºå•ä½&lt;/strong&gt;æ ‡è®°å½“å‰åˆ†ç‰‡åœ¨åŸå§‹æ•°æ®ä¸­çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆ†ç‰‡è®¡ç®—ç¤ºä¾‹ï¼š
å‡è®¾åŸå§‹IPåŒ…é•¿4000å­—èŠ‚ï¼ŒMTU=1500å­—èŠ‚ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åˆ†ç‰‡1&lt;/strong&gt;ï¼šæœ‰æ•ˆè½½è·1480å­—èŠ‚ï¼ˆ1500-20 IPå¤´ï¼‰ï¼Œ&lt;code&gt;Offset=0&lt;/code&gt;ï¼Œ&lt;code&gt;MF=1&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†ç‰‡2&lt;/strong&gt;ï¼šæœ‰æ•ˆè½½è·1480å­—èŠ‚ï¼Œ&lt;code&gt;Offset=1480/8=185&lt;/code&gt;ï¼Œ&lt;code&gt;MF=1&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†ç‰‡3&lt;/strong&gt;ï¼šæœ‰æ•ˆè½½è·1020å­—èŠ‚ï¼Œ&lt;code&gt;Offset=2960/8=370&lt;/code&gt;ï¼Œ&lt;code&gt;MF=0&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="é‡ç»„è¿‡ç¨‹"&gt;&lt;strong&gt;é‡ç»„è¿‡ç¨‹&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;æ¥æ”¶ç«¯IPå±‚æ‰§è¡Œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ”¶é›†åˆ†ç‰‡&lt;/strong&gt;ï¼šé€šè¿‡ç›¸åŒ&lt;code&gt;Identification&lt;/code&gt;å­—æ®µè¯†åˆ«åŒå±ä¸€åŒ…çš„åˆ†ç‰‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ’åºæ‹¼æ¥&lt;/strong&gt;ï¼šæŒ‰&lt;code&gt;OffsetÃ—8&lt;/code&gt;è®¡ç®—çš„å®é™…åç§»é‡æ’åºï¼Œç»„åˆæˆå®Œæ•´æ•°æ®åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;å®Œæ•´æ€§æ ¡éªŒï¼š
&lt;ul&gt;
&lt;li&gt;è‹¥åˆ†ç‰‡ä¸¢å¤±ï¼ˆå¦‚è¶…æ—¶æœªåˆ°è¾¾ï¼‰ï¼Œä¸¢å¼ƒæ•´ä¸ªæ•°æ®åŒ…å¹¶è¿”å›ICMPé”™è¯¯ï¼ˆType=3, Code=1ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;é‡ç»„è¶…æ—¶é€šå¸¸ä¸º&lt;strong&gt;60ç§’&lt;/strong&gt;ï¼ˆLinuxé»˜è®¤ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="é—®é¢˜ä¸é£é™©"&gt;&lt;strong&gt;é—®é¢˜ä¸é£é™©&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½å¼€é”€&lt;/strong&gt;ï¼šåˆ†ç‰‡/é‡ç»„æ¶ˆè€—CPUå’Œå†…å­˜èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨é£é™©&lt;/strong&gt;ï¼šæ³ªæ»´æ”»å‡»ï¼ˆå‘é€é‡å åç§»åˆ†ç‰‡ï¼‰å¯å¯¼è‡´é‡ç»„å´©æºƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•ˆç‡ä½ä¸‹&lt;/strong&gt;ï¼šä¸¢å¤±ä¸€åˆ†ç‰‡éœ€é‡ä¼ æ•´ä¸ªåŸå§‹æ•°æ®åŒ…ï¼ˆå³ä½¿ä¸Šå±‚æ˜¯TCPï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-tcpå±‚çš„åˆ†æ®µä¸é‡ç»„"&gt;ğŸ”„ &lt;strong&gt;TCPå±‚çš„åˆ†æ®µä¸é‡ç»„&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;è§¦å‘æ¡ä»¶&lt;/strong&gt;ï¼šTCPé€šè¿‡&lt;strong&gt;MSSï¼ˆæœ€å¤§åˆ†æ®µå¤§å°ï¼‰&lt;/strong&gt; é¿å…IPåˆ†ç‰‡ï¼Œä½†éœ€å¤„ç†æ•°æ®ä¹±åºã€ä¸¢å¤±å’Œé‡å¤ã€‚&lt;/p&gt;
&lt;h4 id="åˆ†æ®µæœºåˆ¶"&gt;&lt;strong&gt;åˆ†æ®µæœºåˆ¶&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MSSåå•†&lt;/strong&gt;ï¼šTCPä¸‰æ¬¡æ¡æ‰‹æ—¶äº¤æ¢MSSå€¼ï¼ˆé€šå¸¸MTU-40å­—èŠ‚ï¼Œå¦‚ä»¥å¤ªç½‘MSS=1460ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†æ®µåŸåˆ™&lt;/strong&gt;ï¼šTCPå°†åº”ç”¨å±‚æ•°æ®åˆ†å‰²ä¸ºâ‰¤MSSçš„æ®µï¼Œç¡®ä¿IPå±‚æ— éœ€å†åˆ†ç‰‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="é‡ç»„æœºåˆ¶"&gt;&lt;strong&gt;é‡ç»„æœºåˆ¶&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;æ¥æ”¶ç«¯ä¼ è¾“å±‚é€šè¿‡ä»¥ä¸‹æ­¥éª¤é‡ç»„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¼“å­˜ç®¡ç†ï¼šç»´æŠ¤ä¸¤ä¸ªé˜Ÿåˆ—ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æœ‰åºé˜Ÿåˆ—&lt;/strong&gt;ï¼šå­˜å‚¨è¿ç»­åˆ°è¾¾çš„æ•°æ®æ®µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¹±åºé˜Ÿåˆ—&lt;/strong&gt;ï¼šç¼“å­˜æå‰åˆ°è¾¾æˆ–é‡å çš„æ•°æ®æ®µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ’åºé€»è¾‘ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¡ºåºåˆ°è¾¾&lt;/strong&gt;ï¼šç›´æ¥è¿½åŠ æœ‰åºé˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¹±åºåˆ°è¾¾&lt;/strong&gt;ï¼šå­˜å…¥ä¹±åºé˜Ÿåˆ—ï¼Œç­‰å¾…ç¼ºå¤±æ•°æ®ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é‡å å¤„ç†&lt;/strong&gt;ï¼šæˆªå–æ–°æ•°æ®éƒ¨åˆ†ï¼Œä¸¢å¼ƒé‡å¤å­—èŠ‚ï¼ˆä¾‹ï¼šè‹¥æ–°æ®µä¸æœ‰åºæ®µé‡å 50å­—èŠ‚ï¼Œåˆ™ä¿ç•™åç»­æ–°æ•°æ®ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="3"&gt;
&lt;li&gt;&lt;strong&gt;æäº¤æ•°æ®&lt;/strong&gt;ï¼šå½“è¿ç»­åºå·å¡«æ»¡ç©ºç¼ºæ—¶ï¼Œå°†æœ‰åºæ•°æ®æäº¤ç»™åº”ç”¨å±‚ï¼ˆå¦‚é€šè¿‡&lt;code&gt;recv()&lt;/code&gt;è¯»å–ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="å¯é æ€§ä¿éšœ"&gt;&lt;strong&gt;å¯é æ€§ä¿éšœ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åºåˆ—å·ä¸ç¡®è®¤å·&lt;/strong&gt;ï¼šæ£€æµ‹ä¸¢å¤±å¹¶è§¦å‘é‡ä¼ ï¼ˆè¶…æ—¶é‡ä¼ æˆ–å¿«é€Ÿé‡ä¼ ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ»‘åŠ¨çª—å£&lt;/strong&gt;ï¼šæ§åˆ¶æœªç¡®è®¤æ•°æ®é‡ï¼Œé¿å…æ¥æ”¶ç¼“å†²åŒºæº¢å‡ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SACKï¼ˆé€‰æ‹©æ€§ç¡®è®¤ï¼‰&lt;/strong&gt;ï¼šç²¾ç¡®é‡ä¼ ä¸¢å¤±æ®µï¼Œå‡å°‘å†—ä½™é‡ä¼ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-ipåˆ†ç‰‡-vs-tcpé‡ç»„çš„å…³é”®å·®å¼‚"&gt;âš–ï¸ &lt;strong&gt;IPåˆ†ç‰‡ vs. TCPé‡ç»„çš„å…³é”®å·®å¼‚&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;IPåˆ†ç‰‡ä¸é‡ç»„&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;TCPåˆ†æ®µä¸é‡ç»„&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åè®®å±‚&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç½‘ç»œå±‚ï¼ˆIPå±‚ï¼‰&lt;/td&gt;
&lt;td&gt;ä¼ è¾“å±‚ï¼ˆTCPå±‚ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è§¦å‘åŸå› &lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;MTUé™åˆ¶&lt;/td&gt;
&lt;td&gt;æ•°æ®ä¹±åº/ä¸¢å¤±/é‡å¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä¾èµ–å­—æ®µ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;IDã€MFã€Offset&lt;/td&gt;
&lt;td&gt;åºåˆ—å·ã€ACKã€SACK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é‡ç»„ä½ç½®&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¥æ”¶ç«¯IPå±‚ï¼ˆç«¯åˆ°ç«¯ï¼‰&lt;/td&gt;
&lt;td&gt;æ¥æ”¶ç«¯TCPå±‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¶…æ—¶æœºåˆ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å›ºå®šè¶…æ—¶ï¼ˆå¦‚60ç§’ï¼‰&lt;/td&gt;
&lt;td&gt;åŠ¨æ€RTOï¼ˆé‡ä¼ è¶…æ—¶ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ•°æ®ä¸¢å¤±å½±å“&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸¢ä¸€ç‰‡éœ€é‡ä¼ æ•´ä¸ªIPåŒ…&lt;/td&gt;
&lt;td&gt;ä»…é‡ä¼ ä¸¢å¤±æ®µï¼ˆSACKä¼˜åŒ–ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¸å‹åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;UDPã€ICMPå¤§åŒ…&lt;/td&gt;
&lt;td&gt;HTTPã€FTPç­‰TCPæµ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-å®é™…ä¼˜åŒ–ç­–ç•¥"&gt;ğŸ› ï¸ &lt;strong&gt;å®é™…ä¼˜åŒ–ç­–ç•¥&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="é¿å…ipåˆ†ç‰‡"&gt;&lt;strong&gt;é¿å…IPåˆ†ç‰‡&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PMTUDï¼ˆè·¯å¾„MTUå‘ç°ï¼‰&lt;/strong&gt;ï¼šæ¢æµ‹è·¯å¾„æœ€å°MTUï¼ŒåŠ¨æ€è°ƒæ•´åŒ…å¤§å°ï¼ˆIPv6å¼ºåˆ¶ä½¿ç”¨ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¾ç½®DFæ ‡å¿—&lt;/strong&gt;ï¼šå¼ºåˆ¶åº”ç”¨å±‚æ§åˆ¶åŒ…å¤§å°ï¼ˆå¦‚TCPé»˜è®¤DF=1ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="æå‡tcpé‡ç»„æ•ˆç‡"&gt;&lt;strong&gt;æå‡TCPé‡ç»„æ•ˆç‡&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å¤§æ¥æ”¶çª—å£&lt;/strong&gt;ï¼šé€šè¿‡&lt;code&gt;tcp_rmem&lt;/code&gt;è°ƒæ•´ç¼“å†²åŒºï¼Œå®¹å¿æ›´é«˜ä¹±åºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ç”¨SACK&lt;/strong&gt;ï¼šå‡å°‘å› å•æ®µä¸¢å¤±å¼•å‘çš„æ•´ä½“é‡ä¼ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å®‰å…¨é˜²æŠ¤"&gt;&lt;strong&gt;å®‰å…¨é˜²æŠ¤&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;é˜²ç«å¢™è¿‡æ»¤å¼‚å¸¸åˆ†ç‰‡ï¼ˆå¦‚&lt;code&gt;Offset=0&lt;/code&gt;ä½†&lt;code&gt;MF=1&lt;/code&gt;çš„æ”»å‡»åŒ…ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;IPv6å–æ¶ˆä¸­é—´è®¾å¤‡åˆ†ç‰‡èƒ½åŠ›ï¼Œä»…å…è®¸å‘é€ç«¯åˆ†ç‰‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-3"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;åˆ†ç‰‡ä¸é‡ç»„æ˜¯ç½‘ç»œåè®®æ ˆåˆ†å±‚åä½œçš„å…¸èŒƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;IPå±‚åˆ†ç‰‡&lt;/strong&gt;ï¼šè§£å†³&lt;strong&gt;ç‰©ç†é“¾è·¯MTUå·®å¼‚&lt;/strong&gt;ï¼Œä½†æ•ˆç‡ä½ä¸”é£é™©é«˜ï¼Œç°ä»£ç½‘ç»œå€¾å‘è§„é¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCPé‡ç»„&lt;/strong&gt;ï¼šè§£å†³&lt;strong&gt;ç«¯åˆ°ç«¯ä¼ è¾“å¯é æ€§&lt;/strong&gt;ï¼Œé€šè¿‡åºåˆ—å·ã€çª—å£å’Œé‡ä¼ æœºåˆ¶ä¿éšœæ•°æ®å®Œæ•´ã€‚
â€‹&lt;strong&gt;è®¾è®¡æœ¬è´¨&lt;/strong&gt;â€‹ï¼šIPå±‚ç¡®ä¿â€œèƒ½åˆ°è¾¾â€ï¼ŒTCPå±‚ç¡®ä¿â€œæ­£ç¡®åˆ°è¾¾â€ã€‚ç†è§£äºŒè€…å®ç°é€»è¾‘ï¼Œæ˜¯ä¼˜åŒ–ç½‘ç»œæ€§èƒ½ä¸å®‰å…¨çš„å…³é”®åŸºç¡€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="nat"&gt;NAT
&lt;/h2&gt;&lt;h3 id="-natçš„åŸºæœ¬æ¦‚å¿µä¸èƒŒæ™¯"&gt;ğŸ” &lt;strong&gt;NATçš„åŸºæœ¬æ¦‚å¿µä¸èƒŒæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;NATï¼ˆNetwork Address Translationï¼Œç½‘ç»œåœ°å€è½¬æ¢ï¼‰&lt;/strong&gt; æ˜¯ä¸€ç§åœ¨IPæ•°æ®åŒ…ä¼ è¾“è¿‡ç¨‹ä¸­ä¿®æ”¹æºæˆ–ç›®çš„IPåœ°å€å’Œç«¯å£çš„æŠ€æœ¯ï¼Œè¯ç”Ÿäº1994å¹´ï¼Œæ—¨åœ¨è§£å†³IPv4åœ°å€çŸ­ç¼ºé—®é¢˜å¹¶æå‡ç½‘ç»œå®‰å…¨æ€§ã€‚å…¶æ ¸å¿ƒåŸç†æ˜¯é€šè¿‡&lt;strong&gt;ç§æœ‰IPåœ°å€&lt;/strong&gt;ï¼ˆRFC 1918å®šä¹‰çš„ä¿ç•™åœ°å€ï¼‰ä¸&lt;strong&gt;å…¬æœ‰IPåœ°å€&lt;/strong&gt;çš„è½¬æ¢ï¼Œå®ç°å¤šä¸ªå†…ç½‘è®¾å¤‡å…±äº«å°‘é‡å…¬ç½‘IPè®¿é—®äº’è”ç½‘ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç§æœ‰IPåœ°å€èŒƒå›´ï¼š
&lt;ul&gt;
&lt;li&gt;Aç±»ï¼š&lt;code&gt;10.0.0.0 ~ 10.255.255.255&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Bç±»ï¼š&lt;code&gt;172.16.0.0 ~ 172.31.255.255&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Cç±»ï¼š&lt;code&gt;192.168.0.0 ~ 192.168.255.255&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¬æœ‰IPåœ°å€&lt;/strong&gt;ï¼šç”±ISPåˆ†é…ï¼Œå…¨çƒå”¯ä¸€ï¼Œç”¨äºäº’è”ç½‘é€šä¿¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è®¾è®¡ç›®æ ‡&lt;/strong&gt;ï¼šç¼“è§£IPv4åœ°å€æ¯ç«­ï¼ˆå…¨çƒä»…çº¦42äº¿ä¸ªåœ°å€ï¼‰ï¼ŒåŒæ—¶éšè—å†…ç½‘æ‹“æ‰‘ç»“æ„ï¼Œé˜»æŒ¡å¤–éƒ¨æ¶æ„è®¿é—®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-natçš„æ ¸å¿ƒç±»å‹ä¸å·¥ä½œåŸç†"&gt;ğŸ”§ &lt;strong&gt;NATçš„æ ¸å¿ƒç±»å‹ä¸å·¥ä½œåŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="é™æ€natstatic-nat"&gt;&lt;strong&gt;é™æ€NATï¼ˆStatic NATï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ˜ å°„æ–¹å¼&lt;/strong&gt;ï¼šä¸€å¯¹ä¸€å›ºå®šæ˜ å°„ï¼ˆå¦‚ &lt;code&gt;192.168.1.10&lt;/code&gt; â†” &lt;code&gt;203.0.113.10&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å·¥ä½œæµç¨‹ï¼š
&lt;ul&gt;
&lt;li&gt;å†…ç½‘è®¾å¤‡å‘é€æ•°æ®åŒ…æ—¶ï¼ŒNATè®¾å¤‡å°†æºIPæ›¿æ¢ä¸ºé¢„ç»‘å®šçš„å…¬ç½‘IPã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›æ•°æ®åŒ…çš„ç›®çš„IPè¢«è¿˜åŸä¸ºç§æœ‰IPã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šå†…ç½‘æœåŠ¡å™¨å¯¹å¤–æä¾›æœåŠ¡ï¼ˆå¦‚WebæœåŠ¡å™¨ï¼‰ï¼Œéœ€å›ºå®šå…¬ç½‘IPã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="åŠ¨æ€natdynamic-nat--pooled-nat"&gt;&lt;strong&gt;åŠ¨æ€NATï¼ˆDynamic NAT / Pooled NATï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ˜ å°„æ–¹å¼&lt;/strong&gt;ï¼šå¤šå¯¹å¤šåŠ¨æ€æ˜ å°„ï¼Œä»å…¬ç½‘IPåœ°å€æ± ä¸´æ—¶åˆ†é…åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;å·¥ä½œæµç¨‹ï¼š
&lt;ul&gt;
&lt;li&gt;å†…ç½‘è®¾å¤‡å‘èµ·è¿æ¥æ—¶ï¼ŒNATè®¾å¤‡ä»åœ°å€æ± é€‰å–æœªä½¿ç”¨çš„å…¬ç½‘IPè¿›è¡Œè½¬æ¢ã€‚&lt;/li&gt;
&lt;li&gt;è¿æ¥ç»ˆæ­¢åï¼ŒIPå›æ”¶è‡³åœ°å€æ± ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šä¼ä¸šå†…ç½‘å¤šè®¾å¤‡ä¸´æ—¶è®¿é—®å¤–ç½‘ï¼Œå…¬ç½‘IPæ•°é‡ç•¥å°‘äºå†…ç½‘è®¾å¤‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ç«¯å£å¤šè·¯å¤ç”¨patnapt"&gt;&lt;strong&gt;ç«¯å£å¤šè·¯å¤ç”¨ï¼ˆPAT/NAPTï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ˜ å°„æ–¹å¼&lt;/strong&gt;ï¼šå¤šå¯¹ä¸€ï¼Œé€šè¿‡ç«¯å£å·åŒºåˆ†ä¸åŒå†…ç½‘è®¾å¤‡ï¼ˆå¦‚ &lt;code&gt;192.168.1.2:3000&lt;/code&gt; â†’ &lt;code&gt;å…¬ç½‘IP:5000&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å·¥ä½œæµç¨‹ï¼š
&lt;ul&gt;
&lt;li&gt;è½¬æ¢æºIPä¸ºå…¬ç½‘IPï¼Œå¹¶é‡å†™æºç«¯å£å·ï¼ˆå¦‚TCP/UDPç«¯å£ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;NATè®¾å¤‡ç»´æŠ¤æ˜ å°„è¡¨ï¼ˆç§æœ‰IP:ç«¯å£ â†” å…¬ç½‘IP:æ–°ç«¯å£ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼˜åŠ¿ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æè‡´èŠ‚çœIP&lt;/strong&gt;ï¼šæ•°ä¸‡å°è®¾å¤‡å¯å…±äº«ä¸€ä¸ªå…¬ç½‘IPï¼ˆç«¯å£å·ä¸Šé™65536ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¢å¼ºå®‰å…¨&lt;/strong&gt;ï¼šå®Œå…¨éšè—å†…ç½‘ç»“æ„ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥æ‰«æã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¸å‹åº”ç”¨&lt;/strong&gt;ï¼šå®¶åº­å®½å¸¦è·¯ç”±å™¨ï¼ˆå¦‚Easy-IPæ¨¡å¼ï¼Œç›´æ¥ä½¿ç”¨è·¯ç”±å™¨æ¥å£IPï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="åŒå‘natä¸nat-server"&gt;&lt;strong&gt;åŒå‘NATä¸NAT Server&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;NAT Serverï¼š
&lt;ul&gt;
&lt;li&gt;å°†å†…ç½‘æœåŠ¡æ˜ å°„åˆ°å…¬ç½‘ï¼Œæ”¯æŒå¤–ç½‘ä¸»åŠ¨è®¿é—®ï¼ˆå¦‚ &lt;code&gt;å…¬ç½‘IP:80&lt;/code&gt; â†’ &lt;code&gt;å†…ç½‘æœåŠ¡å™¨IP:80&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç”¨äºå‘å¸ƒWebã€Telnetç­‰æœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŒå‘NATï¼š
&lt;ul&gt;
&lt;li&gt;åŒæ—¶è½¬æ¢æºå’Œç›®çš„IPï¼Œè§£å†³é‡å åœ°å€é—®é¢˜ï¼ˆå¦‚ä¸¤ä¸ªç§æœ‰ç½‘ç»œä½¿ç”¨ç›¸åŒIPæ®µï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å…³é”®æŠ€æœ¯algåº”ç”¨å±‚ç½‘å…³"&gt;&lt;strong&gt;å…³é”®æŠ€æœ¯ï¼šALGï¼ˆåº”ç”¨å±‚ç½‘å…³ï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é—®é¢˜&lt;/strong&gt;ï¼šFTPã€SIPç­‰åè®®åœ¨æ•°æ®è½½è·ä¸­åµŒå…¥IPåœ°å€ï¼Œä¼ ç»ŸNATæ— æ³•è¯†åˆ«ã€‚&lt;/li&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆï¼š
&lt;ul&gt;
&lt;li&gt;ALGæ·±åº¦è§£æåº”ç”¨å±‚åè®®ï¼Œä¿®æ”¹è½½è·ä¸­çš„åœ°å€ä¿¡æ¯ï¼ˆå¦‚FTPçš„PORTå‘½ä»¤ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒåè®®ï¼šFTPã€DNSã€ICMPç­‰ï¼›æ— éœ€ALGçš„åè®®ï¼šHTTPã€TELNETç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-natçš„ä¼˜ç¼ºç‚¹åˆ†æ"&gt;âš–ï¸ &lt;strong&gt;NATçš„ä¼˜ç¼ºç‚¹åˆ†æ&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç»´åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åœ°å€èµ„æº&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;èŠ‚çœIPv4åœ°å€ï¼Œæ”¯æŒæµ·é‡è®¾å¤‡å…±äº«å…¬ç½‘IPï¼ˆå¦‚PATï¼‰&lt;/td&gt;
&lt;td&gt;é™æ€NATæµªè´¹å…¬ç½‘IPï¼›PATå¯èƒ½å› ç«¯å£è€—å°½å¯¼è‡´è¿æ¥å¤±è´¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å®‰å…¨æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éšè—å†…ç½‘æ‹“æ‰‘ï¼Œé˜»æŒ¡å¤–éƒ¨ä¸»åŠ¨æ‰«æå’Œè •è™«æ”»å‡»&lt;/td&gt;
&lt;td&gt;éç»å¯¹å®‰å…¨ï¼ˆå¦‚IPsecç­‰åè®®éœ€é¢å¤–å¤„ç†ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åè®®å…¼å®¹æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ALGæ”¯æŒå…³é”®åº”ç”¨ï¼ˆFTPã€SIPï¼‰&lt;/td&gt;
&lt;td&gt;ç ´åç«¯åˆ°ç«¯è¿æ¥ï¼ŒP2Påº”ç”¨ï¼ˆè§†é¢‘é€šè¯ã€BTä¸‹è½½ï¼‰éœ€å€ŸåŠ©STUN/TURN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ€§èƒ½ä¸ç®¡ç†&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç®€åŒ–å†…ç½‘IPç®¡ç†ï¼ˆç§æœ‰åœ°å€è‡ªç”±åˆ†é…ï¼‰&lt;/td&gt;
&lt;td&gt;ç»´æŠ¤è¿æ¥çŠ¶æ€è¡¨å¢åŠ è®¾å¤‡è´Ÿè½½ï¼Œé«˜å¹¶å‘æ—¶å¯èƒ½æˆä¸ºç“¶é¢ˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-å…¸å‹åº”ç”¨åœºæ™¯"&gt;ğŸŒ &lt;strong&gt;å…¸å‹åº”ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;å®¶åº­/å°å‹åŠå…¬ç½‘ç»œï¼š
&lt;ul&gt;
&lt;li&gt;é€šè¿‡è·¯ç”±å™¨PATæ¨¡å¼ï¼Œå¤šè®¾å¤‡ï¼ˆæ‰‹æœºã€ç”µè„‘ï¼‰å…±äº«ä¸€ä¸ªå…¬ç½‘IPä¸Šç½‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼ä¸šç½‘ç»œï¼š
&lt;ul&gt;
&lt;li&gt;é™æ€NATå‘å¸ƒå†…ç½‘æœåŠ¡å™¨ï¼›åŠ¨æ€NATä¸ºå‘˜å·¥æä¾›ä¸Šç½‘æœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®ä¸­å¿ƒä¸äº‘æœåŠ¡ï¼š
&lt;ul&gt;
&lt;li&gt;NATç½‘å…³å®ç°è™šæ‹Ÿæœºå…±äº«å…¬ç½‘å‡ºå£ï¼Œç»“åˆNAT Serveræš´éœ²æœåŠ¡ç«¯å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·¨ç½‘ç»œäº’è”ï¼š
&lt;ul&gt;
&lt;li&gt;åŒå‘NATè§£å†³IPåœ°å€å†²çªï¼ˆå¦‚ä¼ä¸šåˆå¹¶æ—¶ç§æœ‰ç½‘æ®µé‡å ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æŠ€æœ¯æ¼”è¿›ä¸æœªæ¥"&gt;ğŸ”® &lt;strong&gt;æŠ€æœ¯æ¼”è¿›ä¸æœªæ¥&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;IPv6çš„æ›¿ä»£æ€§ï¼š
&lt;ul&gt;
&lt;li&gt;IPv6åœ°å€ç©ºé—´å·¨å¤§ï¼ˆ340ä¸‡äº¿äº¿äº¿ä¸ªï¼‰ï¼Œç†è®ºä¸Šæ— éœ€NATï¼Œä½†è¿‡æ¸¡æœŸä»éœ€NAT-PTï¼ˆåè®®è½¬æ¢ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ–°å…´ä¼˜åŒ–æŠ€æœ¯ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;NAT64/DNS64&lt;/strong&gt;ï¼šå®ç°IPv6ä¸IPv4ç½‘ç»œäº’é€šã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Carrier-Grade NAT (CGNAT)&lt;/strong&gt;ï¼šISPçº§NATï¼Œè¿›ä¸€æ­¥èšåˆç”¨æˆ·æµé‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-4"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;NATæ˜¯IPv4æ—¶ä»£çš„â€œç½‘ç»œèƒ¶æ°´â€ï¼Œé€šè¿‡&lt;strong&gt;åœ°å€å¤ç”¨&lt;/strong&gt;ã€&lt;strong&gt;ç«¯å£æ˜ å°„&lt;/strong&gt;å’Œ&lt;strong&gt;ALGé€‚é…&lt;/strong&gt;ï¼Œå¹³è¡¡äº†åœ°å€çŸ­ç¼ºä¸åŠŸèƒ½å®Œæ•´æ€§ã€‚å°½ç®¡å…¶ç ´åäº†ç«¯åˆ°ç«¯é€šä¿¡åŸåˆ™å¹¶å¼•å…¥ç®¡ç†å¤æ‚æ€§ï¼Œä½†åœ¨å¯é¢„è§çš„æœªæ¥ï¼ŒNATä»å°†æŒç»­æœåŠ¡äºæ··åˆç½‘ç»œç¯å¢ƒã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œéœ€å…³æ³¨åè®®å…¼å®¹æ€§ï¼ˆå¦‚P2Pç©¿é€æ–¹æ¡ˆï¼‰ï¼›å¯¹äºç½‘ç»œå·¥ç¨‹å¸ˆï¼Œä¼˜åŒ–NATé…ç½®ï¼ˆå¦‚è¿æ¥æ•°æ§åˆ¶ã€ALGå¯ç”¨ï¼‰æ˜¯ä¿éšœæ€§èƒ½çš„å…³é”®ã€‚&lt;/p&gt;
&lt;h2 id="webrtc"&gt;WebRTC
&lt;/h2&gt;&lt;p&gt;WebRTCï¼ˆWeb Real-Time Communicationï¼‰æ˜¯ä¸€é¡¹åŸºäºæµè§ˆå™¨çš„å¼€æºå®æ—¶é€šä¿¡æŠ€æœ¯ï¼Œå…è®¸ç½‘é¡µå’Œç§»åŠ¨åº”ç”¨ç›´æ¥è¿›è¡ŒéŸ³é¢‘ã€è§†é¢‘åŠæ•°æ®ä¼ è¾“ï¼Œæ— éœ€å®‰è£…æ’ä»¶æˆ–ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚å®ƒç”±Googleæ¨åŠ¨å¹¶å·²è¢«W3Cå’ŒIETFæ ‡å‡†åŒ–ï¼Œæˆä¸ºç°ä»£å®æ—¶é€šä¿¡çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒç‰¹æ€§å’ŒæŠ€æœ¯è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒç‰¹æ€§"&gt;ğŸ¥ &lt;strong&gt;æ ¸å¿ƒç‰¹æ€§&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;å®æ—¶æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å»¶è¿Ÿæ§åˆ¶åœ¨1ç§’å†…ï¼Œæ”¯æŒé«˜è´¨é‡éŸ³è§†é¢‘é€šè¯ï¼Œé€‚ç”¨äºåœ¨çº¿ä¼šè®®ã€ç›´æ’­ç­‰åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="2"&gt;
&lt;li&gt;è·¨å¹³å°&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å…¼å®¹ä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safariï¼‰åŠç§»åŠ¨ç«¯ï¼ˆAndroid/iOSï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="3"&gt;
&lt;li&gt;å…æ’ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å†…ç½®äºæµè§ˆå™¨ï¼Œç”¨æˆ·æ— éœ€é¢å¤–å®‰è£…è½¯ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å®‰å…¨æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ç«¯åˆ°ç«¯åŠ å¯†ï¼šé€šè¿‡DTLSï¼ˆæ•°æ®åŠ å¯†ï¼‰å’ŒSRTPï¼ˆéŸ³è§†é¢‘æµåŠ å¯†ï¼‰ä¿éšœé€šä¿¡å®‰å…¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æŠ€æœ¯æ¶æ„ä¸å·¥ä½œåŸç†"&gt;âš™ï¸ &lt;strong&gt;æŠ€æœ¯æ¶æ„ä¸å·¥ä½œåŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="æ ¸å¿ƒç»„ä»¶"&gt;&lt;strong&gt;æ ¸å¿ƒç»„ä»¶&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åª’ä½“é‡‡é›†ï¼ˆ&lt;code&gt;getUserMedia&lt;/code&gt;ï¼‰&lt;/strong&gt;ï¼šè®¿é—®æ‘„åƒå¤´ã€éº¦å…‹é£ç­‰è®¾å¤‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‚¹å¯¹ç‚¹è¿æ¥ï¼ˆ&lt;code&gt;RTCPeerConnection&lt;/code&gt;ï¼‰&lt;/strong&gt;ï¼šå»ºç«‹å’Œç®¡ç†éŸ³è§†é¢‘ä¼ è¾“é€šé“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®ä¼ è¾“ï¼ˆ&lt;code&gt;RTCDataChannel&lt;/code&gt;ï¼‰&lt;/strong&gt;ï¼šæ”¯æŒæ–‡æœ¬ã€æ–‡ä»¶ç­‰ä»»æ„æ•°æ®çš„P2Pä¼ è¾“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å…³é”®æµç¨‹"&gt;&lt;strong&gt;å…³é”®æµç¨‹&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¿¡ä»¤åå•†&lt;/li&gt;
&lt;li&gt;é€šè¿‡WebSocket/HTTPäº¤æ¢SDPï¼ˆSession Description Protocolï¼‰ä¿¡æ¯ï¼Œåå•†åª’ä½“å‚æ•°ï¼ˆç¼–è§£ç å™¨ã€åˆ†è¾¨ç‡ç­‰ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Offer/Answeræ¨¡å‹&lt;/strong&gt;ï¼šå‘èµ·æ–¹ç”ŸæˆSDP Offerï¼Œæ¥æ”¶æ–¹å“åº”Answerã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NATç©¿é€ï¼ˆICEæ¡†æ¶ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;STUNæœåŠ¡å™¨&lt;/strong&gt;ï¼šè·å–è®¾å¤‡çš„å…¬ç½‘IPå’Œç«¯å£ï¼Œè§£å†³ç®€å•NATæ˜ å°„ã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;TURNæœåŠ¡å™¨&lt;/strong&gt;ï¼šåœ¨å¤æ‚ç½‘ç»œä¸‹ï¼ˆå¦‚å¯¹ç§°NATï¼‰å……å½“æ•°æ®ä¸­ç»§ï¼Œä¿éšœè¿æ¥æˆåŠŸç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åª’ä½“ä¼ è¾“&lt;/li&gt;
&lt;li&gt;åŸºäºUDPçš„RTP/RTCPåè®®ä¼ è¾“éŸ³è§†é¢‘æµï¼Œç»“åˆè‡ªé€‚åº”ç ç‡æ§åˆ¶ï¼ˆå¦‚GCCç®—æ³•ï¼‰ä¼˜åŒ–ç½‘ç»œæ‹¥å¡ã€‚
&lt;ul&gt;
&lt;li&gt;æ”¯æŒç¼–è§£ç å™¨ï¼š
&lt;ul&gt;
&lt;li&gt;è§†é¢‘ï¼šVP8/VP9ã€H.264ï¼ˆéƒ¨åˆ†æ”¯æŒH.265éœ€è½¬ç ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;éŸ³é¢‘ï¼šOpusï¼ˆæŠ—ä¸¢åŒ…å¼ºï¼‰ã€G.711ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-åº”ç”¨åœºæ™¯"&gt;ğŸŒ &lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…¸å‹æ¡ˆä¾‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æŠ€æœ¯ä¼˜åŠ¿&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è§†é¢‘ä¼šè®®&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Zoomã€Google Meet&lt;/td&gt;
&lt;td&gt;ä½å»¶è¿Ÿå¤šæ–¹é€šè¯ï¼Œæ”¯æŒå±å¹•å…±äº«&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åœ¨çº¿æ•™è‚²&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å®æ—¶è¯¾å ‚ã€è¿œç¨‹åŸ¹è®­&lt;/td&gt;
&lt;td&gt;äº’åŠ¨ç™½æ¿+ä¸‡äººå¹¶å‘&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¿œç¨‹åŒ»ç–—&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŒ»ç”Ÿ-æ‚£è€…è§†é¢‘è¯Šæ–­&lt;/td&gt;
&lt;td&gt;åŠ å¯†ä¼ è¾“ä¿éšœéšç§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç‰©è”ç½‘æ§åˆ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è®¾å¤‡ç›‘æ§ã€æ— äººæœºå®æ—¶å›ä¼ &lt;/td&gt;
&lt;td&gt;ä½å¸¦å®½é€‚é…ä¸P2Pç›´è¿&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;AIäº¤äº’&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ChatGPTè¯­éŸ³å¯¹è¯&lt;/td&gt;
&lt;td&gt;å®æ—¶éŸ³é¢‘æµå¤„ç†ï¼ˆå¦‚LiveKitæ–¹æ¡ˆï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;äº‘æ¸¸æˆ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å®æ—¶æ¸¸æˆç”»é¢æµä¼ è¾“&lt;/td&gt;
&lt;td&gt;&amp;lt;1ç§’å»¶è¿Ÿï¼Œæ“ä½œæ— å¡é¡¿&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æŒ‘æˆ˜ä¸ä¼˜åŒ–"&gt;âš ï¸ &lt;strong&gt;æŒ‘æˆ˜ä¸ä¼˜åŒ–&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;è®¾å¤‡é€‚é…é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ä¸åŒè®¾å¤‡å¯¹ç¼–è§£ç å™¨æ”¯æŒå·®å¼‚ï¼ˆå¦‚iOSå¯¹VP9å…¼å®¹æ€§å·®ï¼‰ï¼Œéœ€åŠ¨æ€é€‚é…æˆ–è½¬ç ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="2"&gt;
&lt;li&gt;ä¿¡ä»¤åè®®éæ ‡å‡†åŒ–&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;éœ€å¼€å‘è€…è‡ªå®šä¹‰ä¿¡ä»¤é€»è¾‘ï¼ˆå¦‚åŸºäºWebSocketå®ç°ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="3"&gt;
&lt;li&gt;å¤æ‚ç½‘ç»œç©¿é€&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;TURNä¸­ç»§å¯èƒ½å¼•å…¥é¢å¤–å»¶è¿Ÿï¼Œéœ€ä¼˜åŒ–æœåŠ¡å™¨éƒ¨ç½²ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="4"&gt;
&lt;li&gt;å®‰å…¨æ€§å¢å¼º&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ç»“åˆOAuthè®¤è¯ã€é˜²æ­¢DoSæ”»å‡»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æœªæ¥æ¼”è¿›"&gt;ğŸ”® &lt;strong&gt;æœªæ¥æ¼”è¿›&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;5G/6Gé›†æˆ&lt;/strong&gt;ï¼šåˆ©ç”¨é«˜å¸¦å®½è¿›ä¸€æ­¥é™ä½å»¶è¿Ÿï¼Œæ”¯æŒAR/VRå®æ—¶äº¤äº’ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WebAssemblyä¼˜åŒ–&lt;/strong&gt;ï¼šæå‡éŸ³è§†é¢‘å¤„ç†æ€§èƒ½ï¼Œå‡å°‘CPUå ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;QUICåè®®æ”¯æŒ&lt;/strong&gt;ï¼šæ›¿ä»£UDPï¼Œå¢å¼ºæ‹¥å¡æ§åˆ¶èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¾¹ç¼˜è®¡ç®—èåˆ&lt;/strong&gt;ï¼šé€šè¿‡è¾¹ç¼˜èŠ‚ç‚¹éƒ¨ç½²TURNæœåŠ¡å™¨ï¼Œå‡å°‘ä¸­ç»§è·³æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-5"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;WebRTCé€šè¿‡&lt;strong&gt;æµè§ˆå™¨åŸç”Ÿé›†æˆ&lt;/strong&gt;ã€&lt;strong&gt;P2Pç›´è¿æ¶æ„&lt;/strong&gt;åŠ&lt;strong&gt;åˆ†å±‚æŠ€æœ¯è®¾è®¡&lt;/strong&gt;ï¼Œé‡å¡‘äº†å®æ—¶é€šä¿¡ç”Ÿæ€ã€‚å°½ç®¡éœ€åº”å¯¹è®¾å¤‡ç¢ç‰‡åŒ–ã€ä¿¡ä»¤å®šåˆ¶ç­‰æŒ‘æˆ˜ï¼Œå…¶åœ¨è§†é¢‘ä¼šè®®ã€åœ¨çº¿æ•™è‚²ã€AIäº¤äº’ç­‰é¢†åŸŸçš„è½åœ°å·²è¯æ˜å…¶æ ¸å¿ƒä»·å€¼ã€‚éšç€5Gå’Œè¾¹ç¼˜è®¡ç®—çš„å‘å±•ï¼ŒWebRTCå°†è¿›ä¸€æ­¥æˆä¸ºä½å»¶è¿Ÿã€é«˜å®‰å…¨é€šä¿¡çš„åŸºçŸ³æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;h2 id="mac-åœ°å€"&gt;MAC åœ°å€
&lt;/h2&gt;&lt;p&gt;MACåœ°å€çš„å”¯ä¸€æ€§æ˜¯ç½‘ç»œé€šä¿¡çš„åŸºç¡€ä¿éšœï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­å­˜åœ¨å¤šç§å¤æ‚åœºæ™¯ã€‚ä»¥ä¸‹ä»è®¾è®¡æœºåˆ¶ã€å®é™…æŒ‘æˆ˜ã€å†²çªå½±å“åŠè§£å†³æ–¹æ¡ˆå››ä¸ªç»´åº¦å±•å¼€åˆ†æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-è®¾è®¡æœºåˆ¶å…¨çƒå”¯ä¸€æ€§çš„ä¿éšœ"&gt;ğŸ”‘ &lt;strong&gt;è®¾è®¡æœºåˆ¶ï¼šå…¨çƒå”¯ä¸€æ€§çš„ä¿éšœ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åˆ†å±‚åˆ†é…ç»“æ„&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å‰24ä½ï¼ˆOUIï¼‰&lt;/strong&gt;ï¼šç”±IEEEç»Ÿä¸€åˆ†é…ç»™è®¾å¤‡åˆ¶é€ å•†ï¼ˆå¦‚åä¸ºã€è‹±ç‰¹å°”ï¼‰ï¼Œç¡®ä¿å‚å•†ä»£ç ä¸é‡å¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å24ä½&lt;/strong&gt;ï¼šç”±å‚å•†è‡ªè¡Œåˆ†é…ï¼Œéœ€ä¿è¯åŒä¸€å‚å•†äº§å“ä¸­åœ°å€å”¯ä¸€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœ°å€æ€»é‡&lt;/strong&gt;ï¼šç†è®ºå•æ’­åœ°å€ç©ºé—´ä¸º2^47-1ï¼ˆçº¦140ä¸‡äº¿ï¼‰ï¼Œè¿œè¶…IPv4åœ°å€æ± ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å›ºåŒ–å­˜å‚¨&lt;/strong&gt;
MACåœ°å€å‡ºå‚æ—¶çƒ§å½•è‡³ç½‘å¡çš„EEPROMèŠ¯ç‰‡ä¸­ï¼Œç‰©ç†å±‚é¢ä¸å¯æ›´æ”¹ï¼ˆéœ€ä¸“ç”¨å·¥å…·ï¼‰ï¼Œæˆä¸ºè®¾å¤‡çš„â€œç¡¬ä»¶èº«ä»½è¯â€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å”¯ä¸€æ€§çš„å®è·µæŒ‘æˆ˜"&gt;âš ï¸ &lt;strong&gt;å”¯ä¸€æ€§çš„å®è·µæŒ‘æˆ˜&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è½¯ä»¶å±‚è¦†ç›–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ“ä½œç³»ç»Ÿï¼ˆå¦‚Windowsï¼‰æ”¯æŒé€šè¿‡æ³¨å†Œè¡¨æˆ–ç½‘å¡å±æ€§ä¿®æ”¹â€œé€»è¾‘MACåœ°å€â€ï¼Œä»…è¦†ç›–ç³»ç»Ÿä¸ŠæŠ¥å€¼ï¼Œç‰©ç†åœ°å€ä¸å˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é£é™©&lt;/strong&gt;ï¼šè‹¥ä¿®æ”¹ååœ°å€åœ¨å±€åŸŸç½‘å†…é‡å¤ï¼Œå°†å¯¼è‡´å†²çªï¼ˆå¦‚æ•°æ®åŒ…è¯¯ä¼ ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹ŸåŒ–ç¯å¢ƒå†²çª&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;è™šæ‹Ÿæœºå…‹éš†æˆ–æ¨¡æ¿å¤åˆ¶å¯èƒ½ç”Ÿæˆç›¸åŒMACåœ°å€çš„è™šæ‹Ÿæœºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¡ˆä¾‹&lt;/strong&gt;ï¼šVMware ESXiä¸­è‹¥æœªå¯ç”¨â€œç”Ÿæˆæ–°MACåœ°å€â€é€‰é¡¹ï¼Œå…‹éš†è™šæ‹Ÿæœºä¼šç»§æ‰¿åŸæœºåœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¡¬ä»¶æ›¿æ¢ä¸é…ç½®é”™è¯¯&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘å¡æ›´æ¢åæ–°è®¾å¤‡MACåœ°å€ä¸åŒï¼Œä½†è‹¥äººå·¥é…ç½®é™æ€åœ°å€æ—¶å¤åˆ¶æ—§åœ°å€ï¼Œå°†å¼•å‘å†²çªã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œè®¾å¤‡ï¼ˆäº¤æ¢æœºï¼‰çš„VRRP/HSRPåè®®é…ç½®é”™è¯¯å¯èƒ½è§¦å‘è™šæ‹ŸMACåœ°å€å†²çªã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å†²çªçš„å½±å“ä¸æ£€æµ‹"&gt;ğŸ›‘ &lt;strong&gt;å†²çªçš„å½±å“ä¸æ£€æµ‹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é€šä¿¡æ•…éšœ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;äº¤æ¢æœºè½¬å‘æ··ä¹±&lt;/strong&gt;ï¼šç›¸åŒMACåœ°å€å¯¼è‡´äº¤æ¢æœºæ— æ³•æ­£ç¡®æ˜ å°„ç«¯å£ï¼Œæ•°æ®åŒ…åœ¨å¤šä¸ªè®¾å¤‡é—´éœ‡è¡æˆ–ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ARPè§£æå¼‚å¸¸&lt;/strong&gt;ï¼šIPåœ°å€æ˜ å°„åˆ°é‡å¤MACåœ°å€ï¼Œå¼•å‘â€œIPå†²çªâ€å‡è±¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ£€æµ‹å·¥å…·&lt;/strong&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;å·¥å…·&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ç¤ºä¾‹å‘½ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;arp -a&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æŸ¥çœ‹ARPç¼“å­˜è¡¨ï¼Œè¯†åˆ«é‡å¤IP-MACæ˜ å°„&lt;/td&gt;
&lt;td&gt;&lt;code&gt;arp -a&lt;/code&gt;ï¼ˆWindows/Linuxé€šç”¨ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;arping&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ä¸»åŠ¨æ¢æµ‹IPå¯¹åº”çš„MACåœ°å€æ˜¯å¦å”¯ä¸€&lt;/td&gt;
&lt;td&gt;&lt;code&gt;arping 192.168.1.100&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç½‘ç»œæ‰«æå™¨&lt;/td&gt;
&lt;td&gt;æ‰¹é‡æ‰«æå±€åŸŸç½‘è®¾å¤‡ï¼Œè‡ªåŠ¨æ ‡è®°é‡å¤åœ°å€&lt;/td&gt;
&lt;td&gt;Advanced IP Scanner&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å†²çªè§£å†³ä¸é¢„é˜²"&gt;ğŸ› ï¸ &lt;strong&gt;å†²çªè§£å†³ä¸é¢„é˜²&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¿®æ”¹é€»è¾‘åœ°å€&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Windowsï¼š
&lt;ul&gt;
&lt;li&gt;ç½‘å¡å±æ€§ â†’ é…ç½® â†’ é«˜çº§ â†’ ç½‘ç»œåœ°å€ â†’ å¡«å…¥æ–°å€¼ï¼ˆ12ä½åå…­è¿›åˆ¶æ•°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ³¨å†Œè¡¨è·¯å¾„ï¼š&lt;code&gt;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Class\{4D36E972-...}&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Linuxï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;ifconfig eth0 down
ifconfig eth0 hw ether 00:11:22:33:44:55
ifconfig eth0 up
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œå±‚é˜²æŠ¤&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;äº¤æ¢æœºç«¯å£å®‰å…¨&lt;/strong&gt;ï¼šé™åˆ¶ç«¯å£å­¦ä¹ MACæ•°é‡ï¼ˆå¦‚Ciscoï¼š&lt;code&gt;switchport port-security maximum 1&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IP-MAC-PORTç»‘å®š&lt;/strong&gt;ï¼šåœ¨äº¤æ¢æœºé…ç½®é™æ€ç»‘å®šè¡¨ï¼Œé˜»æ–­éæ³•è®¾å¤‡æ¥å…¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿæˆæ ‘åè®®ï¼ˆSTPï¼‰&lt;/strong&gt;ï¼šé˜»æ–­å†—ä½™è·¯å¾„ï¼Œå‡å°‘ç¯è·¯å¯¼è‡´çš„åœ°å€æ··æ·†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹ŸåŒ–ç¯å¢ƒç®¡ç†&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å¯ç”¨è™šæ‹ŸæœºMACåœ°å€è‡ªåŠ¨åˆ†é…ï¼ˆå¦‚vCenterçš„â€œç”Ÿæˆæ–°MACâ€é€‰é¡¹ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å®šæœŸæ‰«æè™šæ‹Ÿç½‘ç»œæ‹“æ‰‘ï¼Œæ£€æµ‹é‡å¤åœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-6"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;MACåœ°å€çš„å…¨çƒå”¯ä¸€æ€§&lt;strong&gt;æœ¬è´¨å¯é &lt;/strong&gt;â€”â€”IEEEåˆ†å±‚åˆ†é…ä¸å‚å•†è‡ªå¾‹å½¢æˆç¡¬æ€§ä¿éšœï¼Œä½†&lt;strong&gt;å®è·µå”¯ä¸€æ€§éœ€åˆ†åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç‰©ç†å±‚é¢&lt;/strong&gt;ï¼šå›ºåŒ–åœ°å€ä¸å¯æ”¹ï¼Œå…¨çƒå”¯ä¸€æ€§æˆç«‹ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€»è¾‘å±‚é¢&lt;/strong&gt;ï¼šæ“ä½œç³»ç»Ÿã€è™šæ‹ŸåŒ–ã€äººä¸ºé”™è¯¯å¯å¯¼è‡´â€œè½¯æ€§å†²çªâ€ã€‚
â€‹&lt;strong&gt;ç»´æŠ¤å»ºè®®&lt;/strong&gt;â€‹ï¼š&lt;/li&gt;
&lt;li&gt;æ™®é€šç”¨æˆ·ï¼šé¿å…éšæ„ä¿®æ”¹MACåœ°å€ï¼Œä¾èµ–DHCPåŠ¨æ€åˆ†é…ï¼›&lt;/li&gt;
&lt;li&gt;ä¼ä¸šè¿ç»´ï¼šå®æ–½&lt;strong&gt;ä¸‰å±‚ç»‘å®šï¼ˆIP-MAC-PORTï¼‰&lt;/strong&gt; + &lt;strong&gt;äº¤æ¢æœºç«¯å£å®‰å…¨ç­–ç•¥&lt;/strong&gt;ï¼Œæ„å»ºé˜²å†²çªä½“ç³»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;æ³¨&lt;/strong&gt;ï¼šè·¨å±€åŸŸç½‘é€šä¿¡æ—¶ï¼Œå› IPè·¯ç”±éš”ç¦»ï¼ŒMACåœ°å€å¯å¤ç”¨ï¼ˆå¦‚ä¸åŒåŠå…¬å®¤çš„è®¾å¤‡åœ°å€ç›¸åŒä¸å½±å“é€šä¿¡ï¼‰ï¼Œæ­¤æ—¶å”¯ä¸€æ€§è¦æ±‚ä»…é™äºæœ¬åœ°å¹¿æ’­åŸŸå†…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="cdn-search"&gt;CDN Search
&lt;/h2&gt;&lt;p&gt;è¦æ‰¾åˆ°ç¦»è‡ªå·±åœ°ç†ä½ç½®æœ€è¿‘çš„CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰èŠ‚ç‚¹ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹æ³•å®ç°ï¼Œç»“åˆç½‘ç»œå·¥å…·ã€åè®®åˆ†æå’ŒæœåŠ¡å•†æ”¯æŒï¼Œç²¾å‡†å®šä½æœ€ä¼˜èŠ‚ç‚¹ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-åŸºç¡€å®šä½æ–¹æ³•"&gt;ğŸŒ &lt;strong&gt;åŸºç¡€å®šä½æ–¹æ³•&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;DNSè§£æå·¥å…·&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å‘½ä»¤ç¤ºä¾‹ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;nslookup example.com # è¿”å›åŸŸåçš„IPåˆ—è¡¨ï¼Œä¼˜å…ˆæ˜¾ç¤ºæœ€è¿‘èŠ‚ç‚¹
dig example.com # è§£æCNAMEè®°å½•ï¼Œè¿½è¸ªCDNæœåŠ¡å•†åŸŸå
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ“ä½œé€»è¾‘&lt;/strong&gt;ï¼š
CDNçš„å…¨å±€è´Ÿè½½å‡è¡¡ï¼ˆGSLBï¼‰ä¼šæ ¹æ®ç”¨æˆ·IPåœ°ç†ä½ç½®è¿”å›æœ€è¿‘èŠ‚ç‚¹çš„IPåœ°å€ã€‚ä¾‹å¦‚ï¼ŒåŒ—äº¬ç”¨æˆ·è®¿é—®&lt;code&gt;example.com&lt;/code&gt;å¯èƒ½è¿”å›è…¾è®¯äº‘åŒ—äº¬èŠ‚ç‚¹IPï¼ˆå¦‚&lt;code&gt;119.28.xx.xx&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HTTPå“åº”å¤´åˆ†æ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼š
æŒ‰F12æ‰“å¼€æ§åˆ¶å° â†’ è®¿é—®ç›®æ ‡ç½‘ç«™ â†’ åœ¨&amp;quot;Network&amp;quot;æ ‡ç­¾é¡µæŸ¥çœ‹å“åº”å¤´å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Server&lt;/code&gt;ï¼šæ˜¾ç¤ºCDNæœåŠ¡å•†ï¼ˆå¦‚&lt;code&gt;cloudflare&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;X-Cache&lt;/code&gt;ï¼šæ ‡æ³¨ç¼“å­˜å‘½ä¸­çŠ¶æ€ï¼ˆå¦‚&lt;code&gt;HIT from CN-BJ-edge&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;cURLå‘½ä»¤ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;curl -I https://example.com # æŸ¥çœ‹å“åº”å¤´ä¸­çš„`X-CDN`æˆ–`Edge`ä¿¡æ¯
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-è¿›é˜¶ç½‘ç»œå·¥å…·"&gt;ğŸ› ï¸ &lt;strong&gt;è¿›é˜¶ç½‘ç»œå·¥å…·&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è·¯å¾„è¿½è¸ªï¼ˆTracerouteï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å‘½ä»¤ç¤ºä¾‹ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;traceroute example.com # Linux/macOS
tracert example.com # Windows
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»“æœè§£è¯»&lt;/strong&gt;ï¼š
è¾“å‡ºè·¯å¾„ä¸­çš„&lt;strong&gt;å€’æ•°ç¬¬äºŒè·³&lt;/strong&gt;é€šå¸¸æ˜¯CDNè¾¹ç¼˜èŠ‚ç‚¹ï¼ˆå¦‚&lt;code&gt;203.0.113.25 [AS4134]&lt;/code&gt;ï¼‰ã€‚ç»“åˆIPåœ°ç†å®šä½å·¥å…·ï¼ˆå¦‚&lt;code&gt;ip-api.com&lt;/code&gt;ï¼‰æŸ¥è¯¢è¯¥IPçš„ç‰©ç†ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CDNä¸“ç”¨æ£€æµ‹å·¥å…·&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨çº¿å¹³å°ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://www.cdnplanet.com/" target="_blank" rel="noopener"
&gt;CDN Planet&lt;/a&gt;ï¼šè¾“å…¥åŸŸåè‡ªåŠ¨åˆ†æCDNèŠ‚ç‚¹ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://www.whatsmycdn.com/" target="_blank" rel="noopener"
&gt;Whatâ€™s My CDN&lt;/a&gt;ï¼šæ˜¾ç¤ºèŠ‚ç‚¹IPåŠæ‰€å±æœåŠ¡å•†ï¼ˆå¦‚Akamaiä¸œäº¬èŠ‚ç‚¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IPåœ°ç†åº“&lt;/strong&gt;ï¼š
ä½¿ç”¨&lt;code&gt;MaxMind GeoIP&lt;/code&gt;ç­‰æ•°æ®åº“åŒ¹é…IPä¸åœ°ç†ä½ç½®ï¼ˆç²¾ç¡®åˆ°åŸå¸‚çº§ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-cdnæœåŠ¡å•†æ”¯æŒ"&gt;ğŸ“Š &lt;strong&gt;CDNæœåŠ¡å•†æ”¯æŒ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æœåŠ¡å•†æ§åˆ¶å°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»æµCDNå¹³å°
ï¼ˆå¦‚é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼‰æä¾›å®æ—¶èŠ‚ç‚¹åœ°å›¾ï¼š
&lt;ul&gt;
&lt;li&gt;ç™»å½•æ§åˆ¶å° â†’ æŸ¥çœ‹â€œèŠ‚ç‚¹åˆ†å¸ƒâ€ â†’ ç­›é€‰ç”¨æˆ·æ‰€åœ¨åŒºåŸŸï¼ˆå¦‚â€œåä¸œ-ä¸Šæµ·â€ï¼‰&lt;/li&gt;
&lt;li&gt;è·å–èŠ‚ç‚¹å»¶è¿ŸæŠ¥å‘Šï¼ˆå¦‚è…¾è®¯äº‘CDNæ”¯æŒæŒ‰çœä»½å»¶è¿Ÿæ’åºï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;APIæ¥å£è°ƒç”¨&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡æœåŠ¡å•†APIï¼ˆå¦‚Cloudflareçš„
&lt;pre tabindex="0"&gt;&lt;code&gt;/cdn-cgi/trace
&lt;/code&gt;&lt;/pre&gt;ï¼‰è·å–å®¢æˆ·ç«¯ç›´è¿èŠ‚ç‚¹ä¿¡æ¯ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;curl https://example.com/cdn-cgi/trace
# è¿”å›ç»“æœç¤ºä¾‹ï¼šcolo=HKGï¼ˆé¦™æ¸¯èŠ‚ç‚¹ï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-ä¼˜åŒ–ç­–ç•¥ä¸æ³¨æ„äº‹é¡¹"&gt;âš™ï¸ &lt;strong&gt;ä¼˜åŒ–ç­–ç•¥ä¸æ³¨æ„äº‹é¡¹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€è°ƒæ•´é€»è¾‘&lt;/strong&gt;
CDNä¼šåŸºäºå®æ—¶ç½‘ç»œçŠ¶æ€ï¼ˆå¦‚èŠ‚ç‚¹è´Ÿè½½ã€é“¾è·¯æ‹¥å¡ï¼‰åŠ¨æ€åˆ†é…èŠ‚ç‚¹ã€‚å³ä½¿åŒä¸€ä½ç½®ç”¨æˆ·ï¼Œé«˜å³°æ—¶æ®µå¯èƒ½åˆ†é…è‡³æ¬¡çº§èŠ‚ç‚¹ï¼ˆå¦‚ä¸Šæµ·ç”¨æˆ·åˆ†é…è‡³æ­å·èŠ‚ç‚¹ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¿å…è¯¯åˆ¤çš„å®è·µ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¸…é™¤æœ¬åœ°DNSç¼“å­˜&lt;/strong&gt;ï¼šç¡®ä¿è·å–æœ€æ–°èŠ‚ç‚¹ï¼ˆWindowså‘½ä»¤ï¼š&lt;code&gt;ipconfig /flushdns&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šå·¥å…·äº¤å‰éªŒè¯&lt;/strong&gt;ï¼šç»“åˆ&lt;code&gt;dig&lt;/code&gt;ã€&lt;code&gt;traceroute&lt;/code&gt;å’Œåœ¨çº¿å·¥å…·ç»“æœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼ä¸šçº§éœ€æ±‚æ–¹æ¡ˆ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸“ç”¨çº¿è·¯æ¥å…¥&lt;/strong&gt;ï¼šé€šè¿‡æœåŠ¡å•†ï¼ˆå¦‚åä¸ºäº‘ï¼‰ç”³è¯·â€œå®šå‘åŠ é€Ÿâ€ï¼Œç»‘å®šå›ºå®šè¾¹ç¼˜èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Anycastç½‘ç»œ&lt;/strong&gt;ï¼šä½¿ç”¨Cloudflareæˆ–Amazon CloudFrontï¼Œé€šè¿‡BGPè·¯ç”±å¤©ç„¶å¯¼å‘æœ€è¿‘èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-7"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ™®é€šç”¨æˆ·&lt;/strong&gt;ï¼šä¼˜å…ˆç”¨&lt;strong&gt;åœ¨çº¿å·¥å…·ï¼ˆå¦‚CDN Planetï¼‰&lt;/strong&gt; æˆ– &lt;strong&gt;æµè§ˆå™¨å¼€å‘è€…å·¥å…·&lt;/strong&gt;ï¼Œå¿«é€Ÿå®šä½èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯äººå‘˜&lt;/strong&gt;ï¼šç»“åˆ &lt;strong&gt;&lt;code&gt;dig&lt;/code&gt; + &lt;code&gt;traceroute&lt;/code&gt; + IPåœ°ç†åº“&lt;/strong&gt;ï¼Œç²¾å‡†åˆ†æè·¯å¾„ä¸èŠ‚ç‚¹ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼ä¸šåœºæ™¯&lt;/strong&gt;ï¼šé€šè¿‡ &lt;strong&gt;æœåŠ¡å•†æ§åˆ¶å°&lt;/strong&gt; æˆ– &lt;strong&gt;API&lt;/strong&gt; å®šåˆ¶èŠ‚ç‚¹ç­–ç•¥ï¼Œç¡®ä¿ä½å»¶è¿Ÿè®¿é—®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;æ³¨&lt;/strong&gt;ï¼šéƒ¨åˆ†CDNï¼ˆå¦‚Cloudflareï¼‰å¯èƒ½éšè—çœŸå®èŠ‚ç‚¹ï¼Œæ­¤æ—¶éœ€ä¾èµ–æœåŠ¡å•†æ¥å£æˆ–æ§åˆ¶å°æ•°æ®ã€‚å®é™…èŠ‚ç‚¹é€‰æ‹©å—è¿è¥å•†è·¯ç”±ç­–ç•¥å½±å“ï¼Œå¯èƒ½ä¸çº¯åœ°ç†è·ç¦»å­˜åœ¨åå·®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="anycast"&gt;Anycast
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;ANYCASTï¼ˆä»»æ’­ï¼‰&lt;/strong&gt; æ˜¯ä¸€ç§ç½‘ç»œé€šä¿¡æŠ€æœ¯ï¼Œé€šè¿‡å°†&lt;strong&gt;åŒä¸€ä¸ªIPåœ°å€åˆ†é…ç»™å¤šä¸ªåœ°ç†åˆ†æ•£çš„èŠ‚ç‚¹&lt;/strong&gt;ï¼Œä½¿å®¢æˆ·ç«¯è¯·æ±‚è‡ªåŠ¨è·¯ç”±åˆ°â€œæœ€è¿‘â€çš„èŠ‚ç‚¹ï¼ˆåŸºäºè·¯ç”±åè®®åº¦é‡ï¼‰ï¼Œå®ç°ä½å»¶è¿Ÿã€é«˜å¯ç”¨å’Œè´Ÿè½½å‡è¡¡çš„æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒåŸç†ã€ä¼˜åŠ¿åŠåº”ç”¨åœºæ™¯çš„è¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒåŸç†"&gt;ğŸ”§ &lt;strong&gt;æ ¸å¿ƒåŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å…±äº«IPåœ°å€ä¸è·¯ç”±å†³ç­–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å¤šä¸ªæœåŠ¡å™¨èŠ‚ç‚¹é…ç½®ç›¸åŒçš„IPåœ°å€ï¼ˆå¦‚DNSæœåŠ¡å¸¸ç”¨&lt;code&gt;8.8.8.8&lt;/code&gt;ï¼‰ï¼Œé€šè¿‡BGPåè®®å‘å…¨ç½‘å®£å‘Šè¯¥IPã€‚&lt;/li&gt;
&lt;li&gt;å½“ç”¨æˆ·å‘èµ·è¯·æ±‚æ—¶ï¼Œè·¯ç”±å™¨æ ¹æ®&lt;strong&gt;æœ€çŸ­è·¯å¾„ç®—æ³•&lt;/strong&gt;ï¼ˆå¦‚BGPçš„ASè·¯å¾„ã€IGP metricï¼‰é€‰æ‹©æœ€è¿‘çš„èŠ‚ç‚¹è½¬å‘æµé‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®ç‚¹&lt;/strong&gt;ï¼šèŠ‚ç‚¹é—´æ— éœ€ç›´æ¥é€šä¿¡ï¼Œè·¯ç”±å†³ç­–å®Œå…¨ç”±ç½‘ç»œå±‚åŠ¨æ€å®Œæˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IPv4ä¸IPv6çš„å·®å¼‚&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;IPv4&lt;/strong&gt;ï¼šåŸç”Ÿä¸æ”¯æŒAnycastï¼Œä¾èµ–BGPåè®®å®ç°ï¼ˆé€šè¿‡å¤šèŠ‚ç‚¹å®£å‘Šç›¸åŒIPï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IPv6&lt;/strong&gt;ï¼šåŸç”Ÿæ”¯æŒAnycastï¼Œå¹¶åˆ†é…äº†ä¸“ç”¨åœ°å€ç©ºé—´ï¼ˆRFC1546å®šä¹‰ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•…éšœè½¬ç§»æœºåˆ¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥æŸä¸ªèŠ‚ç‚¹æ•…éšœæˆ–è¿‡è½½ï¼ŒBGPè·¯ç”±è‡ªåŠ¨æ”¶æ•›ï¼Œæµé‡åˆ‡æ¢è‡³æ¬¡ä¼˜èŠ‚ç‚¹ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒä¼˜åŠ¿"&gt;âš¡ &lt;strong&gt;æ ¸å¿ƒä¼˜åŠ¿&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æŠ€æœ¯åŸç†&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ç”¨æˆ·ä»·å€¼&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä½å»¶è¿Ÿ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¯·æ±‚è·¯ç”±è‡³åœ°ç†/ç½‘ç»œæ‹“æ‰‘æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œå‡å°‘ä¼ è¾“è·ç¦»&lt;/td&gt;
&lt;td&gt;æå‡æœåŠ¡å“åº”é€Ÿåº¦ï¼ˆå¦‚DNSè§£æ&amp;lt;30msï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é«˜å¯ç”¨æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;èŠ‚ç‚¹å†—ä½™éƒ¨ç½²ï¼Œå•ç‚¹æ•…éšœè‡ªåŠ¨åˆ‡æ¢è‡³å…¶ä»–èŠ‚ç‚¹&lt;/td&gt;
&lt;td&gt;æœåŠ¡å¯ç”¨æ€§è¾¾99.99%+&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æŠ—DDoSæ”»å‡»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ”»å‡»æµé‡åˆ†æ•£åˆ°å…¨çƒèŠ‚ç‚¹ï¼Œå•èŠ‚ç‚¹å‹åŠ›é™ä½ï¼›å—æŸèŠ‚ç‚¹è¢«è·¯ç”±è‡ªåŠ¨ç»•è¿‡&lt;/td&gt;
&lt;td&gt;å¢å¼ºæœåŠ¡éŸ§æ€§ï¼Œå‡å°‘ä¸šåŠ¡ä¸­æ–­é£é™©&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç»“åˆECMPï¼ˆç­‰ä»·å¤šè·¯å¾„è·¯ç”±ï¼‰ï¼Œå°†æµé‡å‡åŒ€åˆ†é…è‡³å¤šä¸ªèŠ‚ç‚¹&lt;/td&gt;
&lt;td&gt;é¿å…å•ç‚¹è¿‡è½½ï¼Œä¼˜åŒ–èµ„æºåˆ©ç”¨ç‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç®€åŒ–é…ç½®&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç”¨æˆ·åªéœ€è®¿é—®å•ä¸€IPï¼Œæ— éœ€æ„ŸçŸ¥åç«¯èŠ‚ç‚¹ä½ç½®&lt;/td&gt;
&lt;td&gt;é™ä½è¿ç»´å¤æ‚åº¦ï¼Œæå‡ä½¿ç”¨ä½“éªŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-å…¸å‹åº”ç”¨åœºæ™¯-1"&gt;ğŸŒ &lt;strong&gt;å…¸å‹åº”ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å…¨å±€DNSæœåŠ¡&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¡ˆä¾‹&lt;/strong&gt;ï¼šGoogle DNSï¼ˆ&lt;code&gt;8.8.8.8&lt;/code&gt;ï¼‰ã€Cloudflare DNSï¼ˆ&lt;code&gt;1.1.1.1&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šå…¨çƒéƒ¨ç½²æ•°åƒä¸ªèŠ‚ç‚¹ï¼Œç”¨æˆ·æŸ¥è¯¢è‡ªåŠ¨è·¯ç”±è‡³æœ€è¿‘çš„DNSæœåŠ¡å™¨ï¼ŒåŠ é€Ÿè§£æå¹¶æŠ—æ”»å‡»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¡ˆä¾‹&lt;/strong&gt;ï¼šCloudflareã€Akamaiçš„å…¨çƒåŠ é€ŸæœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šé™æ€èµ„æºç¼“å­˜åœ¨è¾¹ç¼˜èŠ‚ç‚¹ï¼Œç”¨æˆ·é€šè¿‡Anycast IPå°±è¿‘è·å–å†…å®¹ï¼Œé™ä½å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ··åˆäº‘ä¸æ•°æ®ä¸­å¿ƒäº’è”&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¡ˆä¾‹&lt;/strong&gt;ï¼šçˆ±å¥‡è‰ºæ··åˆäº‘æ¶æ„ä¸­ï¼Œé€šè¿‡Anycast DNSç»Ÿä¸€æœåŠ¡å…¥å£ï¼Œå®ç°IDCä¸å…¬æœ‰äº‘çš„æ— ç¼æ•´åˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šè‡ªå»ºIDCä¸å…¬æœ‰äº‘èŠ‚ç‚¹å…±äº«Anycast IPï¼ŒBGPè·¯ç”±ç¡®ä¿è·¨äº‘æµé‡æœ€ä¼˜è·¯å¾„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡‘èä¸å®æ—¶æœåŠ¡&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¡ˆä¾‹&lt;/strong&gt;ï¼šè¯åˆ¸äº¤æ˜“ç³»ç»Ÿã€å®æ—¶éŸ³è§†é¢‘é€šä¿¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šä½å»¶è¿Ÿè·¯ç”±ä¿éšœæ¯«ç§’çº§å“åº”ï¼Œé¿å…å…¬ç½‘æ³¢åŠ¨å½±å“æœåŠ¡è´¨é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å®è·µæŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ"&gt;âš ï¸ &lt;strong&gt;å®è·µæŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æŒ‘æˆ˜&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åŸå› &lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è·¯ç”±æ³¢åŠ¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;BGPè·¯å¾„å˜åŒ–å¯¼è‡´èŠ‚ç‚¹åˆ‡æ¢ä¸ç¨³å®š&lt;/td&gt;
&lt;td&gt;ä¼˜åŒ–BGPç­–ç•¥ï¼Œç»“åˆè·¯ç”±èšåˆå‡å°‘æ›´æ–°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é…ç½®å¤æ‚æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éœ€åè°ƒå¤šèŠ‚ç‚¹BGPå®£å‘Šä¸ç½‘ç»œè®¾å¤‡é…ç½®&lt;/td&gt;
&lt;td&gt;ä½¿ç”¨äº‘æœåŠ¡å•†æ‰˜ç®¡Anycastï¼ˆå¦‚AWS Global Acceleratorï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;éå¯¹ç§°è·¯å¾„é—®é¢˜&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¯·æ±‚ä¸å“åº”è·¯å¾„ä¸ä¸€è‡´ï¼Œå½±å“çŠ¶æ€å‹æœåŠ¡&lt;/td&gt;
&lt;td&gt;ä»…é€‚ç”¨äºæ— çŠ¶æ€æœåŠ¡ï¼ˆå¦‚DNSã€HTTP/3ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¬æœ‰äº‘éƒ¨ç½²é™åˆ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;äº‘å¹³å°Overlayç½‘ç»œéš¾ä»¥ç›´æ¥æ§åˆ¶Underlayè·¯ç”±&lt;/td&gt;
&lt;td&gt;é‡‡ç”¨ERï¼ˆä¼ä¸šè·¯ç”±å™¨ï¼‰+GREéš§é“å®ç°BGPé€ä¼ &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-8"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;ANYCASTé€šè¿‡ &lt;strong&gt;â€œå•IPå¤šèŠ‚ç‚¹ + åŠ¨æ€è·¯ç”±ä¼˜é€‰â€&lt;/strong&gt; çš„æ¶æ„ï¼Œè§£å†³äº†ä¼ ç»Ÿå•æ’­æœåŠ¡çš„å»¶è¿Ÿã€å•ç‚¹æ•…éšœå’Œæ‰©å®¹éš¾é¢˜ã€‚å…¶æ ¸å¿ƒä»·å€¼åœ¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½å±‚é¢&lt;/strong&gt;ï¼šç¼©çŸ­æœåŠ¡è·¯å¾„ï¼Œé™ä½å»¶è¿Ÿï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯é æ€§å±‚é¢&lt;/strong&gt;ï¼šå†—ä½™èŠ‚ç‚¹+è‡ªåŠ¨æ•…éšœè½¬ç§»ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨å±‚é¢&lt;/strong&gt;ï¼šå¤©ç„¶åˆ†æ•£DDoSæ”»å‡»æµé‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;é€‚ç”¨æ€§å»ºè®®&lt;/strong&gt;ï¼šä¼˜å…ˆç”¨äº&lt;strong&gt;æ— çŠ¶æ€ã€å¯¹å»¶è¿Ÿæ•æ„Ÿçš„æœåŠ¡&lt;/strong&gt;ï¼ˆå¦‚DNSã€CDNï¼‰ï¼Œéœ€è°¨æ…è¯„ä¼°è·¯ç”±ç¨³å®šæ€§åŠçŠ¶æ€ç®¡ç†éœ€æ±‚ã€‚éšç€5G/è¾¹ç¼˜è®¡ç®—å‘å±•ï¼ŒAnycastå°†åœ¨ç‰©è”ç½‘ã€å®æ—¶äº¤äº’åœºæ™¯ä¸­è¿›ä¸€æ­¥æ™®åŠã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="dns--cdn"&gt;DNS &amp;amp; CDN
&lt;/h2&gt;&lt;p&gt;DNS æŒæ¡ CDN èŠ‚ç‚¹ä¿¡æ¯å¹¶å®ç°æ™ºèƒ½è°ƒåº¦çš„æ ¸å¿ƒæœºåˆ¶ï¼Œä¾èµ–äº &lt;strong&gt;å…¨å±€è´Ÿè½½å‡è¡¡ç³»ç»Ÿï¼ˆGSLBï¼‰&lt;/strong&gt; ä¸åŠ¨æ€æ•°æ®ç›‘æ§çš„ç»“åˆã€‚ä»¥ä¸‹æ˜¯å…¶å®ç°åŸç†çš„è¯¦ç»†è¯´æ˜ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-cname-é‡å®šå‘ç§»äº¤è§£ææ§åˆ¶æƒ"&gt;ğŸ”— &lt;strong&gt;CNAME é‡å®šå‘ï¼šç§»äº¤è§£ææ§åˆ¶æƒ&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;å½“ç”¨æˆ·è®¿é—®æ¥å…¥ CDN çš„åŸŸåï¼ˆå¦‚ &lt;code&gt;www.example.com&lt;/code&gt;ï¼‰æ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æœ¬åœ° DNSï¼ˆLDNSï¼‰&lt;/strong&gt; å‘åŸŸåæƒå¨ DNS å‘èµ·æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æƒå¨ DNS&lt;/strong&gt; è¿”å› &lt;strong&gt;CNAME è®°å½•&lt;/strong&gt;ï¼ˆå¦‚ &lt;code&gt;www.example.com.cdn123.net&lt;/code&gt;ï¼‰ï¼Œå°†è§£ææƒè½¬ç§»ç»™ CDN æœåŠ¡å•†çš„ DNS ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;âœ… &lt;strong&gt;å…³é”®ç‚¹&lt;/strong&gt;ï¼šCNAME ä½¿ CDN æœåŠ¡å•†æ¥ç®¡åç»­è§£ææµç¨‹ï¼Œä¸ºæ™ºèƒ½è°ƒåº¦å¥ å®šåŸºç¡€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å…¨å±€è´Ÿè½½å‡è¡¡gslbå†³ç­–æœ€ä¼˜èŠ‚ç‚¹"&gt;ğŸ§  &lt;strong&gt;å…¨å±€è´Ÿè½½å‡è¡¡ï¼ˆGSLBï¼‰ï¼šå†³ç­–æœ€ä¼˜èŠ‚ç‚¹&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;CDN çš„ GSLB ç³»ç»Ÿæ˜¯è°ƒåº¦æ ¸å¿ƒï¼Œé€šè¿‡å¤šç»´åº¦æ•°æ®é€‰æ‹©èŠ‚ç‚¹ï¼š
1.
ç”¨æˆ·ä½ç½®å®šä½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ LDNS çš„ IP åœ°å€æ¨æ–­ç”¨æˆ·å¤§è‡´åœ°ç†åŒºåŸŸï¼ˆå¦‚åŒ—äº¬ã€ä¸Šæµ·ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç»“åˆ IP åœ°ç†ä¿¡æ¯åº“ï¼ˆå¦‚ MaxMind GeoIPï¼‰æå‡ç²¾åº¦è‡³åŸå¸‚çº§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="2"&gt;
&lt;li&gt;èŠ‚ç‚¹çŠ¶æ€ç›‘æ§ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¥åº·çŠ¶æ€&lt;/strong&gt;ï¼šå®æ—¶æ¢æµ‹èŠ‚ç‚¹å¯ç”¨æ€§ï¼ˆå¦‚å“åº”å»¶è¿Ÿã€ä¸¢åŒ…ç‡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è´Ÿè½½æƒ…å†µ&lt;/strong&gt;ï¼šç›‘æ§ CPUã€å¸¦å®½ã€è¿æ¥æ•°ç­‰æŒ‡æ ‡ï¼Œé¿å…è¿‡è½½èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç½‘ç»œè´¨é‡è¯„ä¼°ï¼š
&lt;ul&gt;
&lt;li&gt;æµ‹é‡ç”¨æˆ· LDNS åˆ°å„ CDN èŠ‚ç‚¹çš„å»¶è¿Ÿã€æŠ–åŠ¨å’Œè·¯å¾„æ‹¥å¡æƒ…å†µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å†…å®¹åˆ†å¸ƒæ„ŸçŸ¥ï¼š
&lt;ul&gt;
&lt;li&gt;ç¡®è®¤è¯·æ±‚çš„èµ„æºæ˜¯å¦ç¼“å­˜åœ¨å€™é€‰èŠ‚ç‚¹ï¼Œé¿å…æ— æ•ˆè°ƒåº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-gslb-çš„è°ƒåº¦ç®—æ³•"&gt;âš™ï¸ &lt;strong&gt;GSLB çš„è°ƒåº¦ç®—æ³•&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;åŸºäºä¸Šè¿°æ•°æ®ï¼ŒGSLB é‡‡ç”¨å¤šç§ç®—æ³•ç»¼åˆå†³ç­–ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç®—æ³•ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å·¥ä½œåŸç†&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…¸å‹åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åœ°ç†ä½ç½®ä¼˜å…ˆ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é€‰æ‹©ç‰©ç†è·ç¦»ç”¨æˆ·æœ€è¿‘çš„èŠ‚ç‚¹ï¼ˆå¦‚åŒ—äº¬ç”¨æˆ·è°ƒåº¦è‡³åŒ—äº¬èŠ‚ç‚¹ï¼‰&lt;/td&gt;
&lt;td&gt;é™æ€èµ„æºåŠ é€Ÿï¼ˆå›¾ç‰‡ã€è§†é¢‘ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŠ¨æ€è´Ÿè½½å‡è¡¡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ ¹æ®èŠ‚ç‚¹å®æ—¶è´Ÿè½½åˆ†é…è¯·æ±‚ï¼ˆå¦‚åŠ æƒæœ€å°‘è¿æ¥ã€CPUåˆ©ç”¨ç‡é˜ˆå€¼ï¼‰&lt;/td&gt;
&lt;td&gt;é«˜å¹¶å‘æµé‡ï¼ˆç”µå•†å¤§ä¿ƒï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç½‘ç»œè´¨é‡ä¼˜åŒ–&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç»“åˆ BGP è·¯ç”±ä¿¡æ¯ä¸å®æ—¶æ¢æµ‹ï¼Œé€‰æ‹©å»¶è¿Ÿæœ€ä½ã€å¸¦å®½æœ€ä¼˜çš„è·¯å¾„&lt;/td&gt;
&lt;td&gt;å®æ—¶éŸ³è§†é¢‘ä¼ è¾“ï¼ˆWebRTCï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æˆæœ¬æ§åˆ¶ç­–ç•¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åœ¨æ€§èƒ½è¾¾æ ‡æ—¶ä¼˜å…ˆé€‰æ‹©æˆæœ¬è¾ƒä½çš„èŠ‚ç‚¹ï¼ˆå¦‚åŒä¸€è¿è¥å•†å†…ç½‘ä¼ è¾“ï¼‰&lt;/td&gt;
&lt;td&gt;è·¨å›½æµé‡èŠ‚çœ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;æ³¨&lt;/strong&gt;ï¼šå®é™…è°ƒåº¦å¤šä¸ºæ··åˆç­–ç•¥ï¼Œä¾‹å¦‚å…ˆç­›é€‰åœ°ç†é‚»è¿‘èŠ‚ç‚¹ï¼Œå†ä»ä¸­é€‰æ‹©è´Ÿè½½æœ€ä½çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-èŠ‚ç‚¹ä¿¡æ¯çš„åŠ¨æ€ç»´æŠ¤æœºåˆ¶"&gt;ğŸ”„ &lt;strong&gt;èŠ‚ç‚¹ä¿¡æ¯çš„åŠ¨æ€ç»´æŠ¤æœºåˆ¶&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;CDN æœåŠ¡å•†é€šè¿‡ä»¥ä¸‹æ–¹å¼æŒç»­æ›´æ–°èŠ‚ç‚¹ä¿¡æ¯åº“ï¼š
1.
å¿ƒè·³æ£€æµ‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GSLB å®šæœŸå‘æ‰€æœ‰èŠ‚ç‚¹å‘é€æ¢æµ‹åŒ…ï¼ˆICMP/TCPï¼‰ï¼Œæ£€æµ‹å­˜æ´»çŠ¶æ€ä¸å“åº”å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="2"&gt;
&lt;li&gt;æ€§èƒ½ä¸ŠæŠ¥ï¼š
&lt;ul&gt;
&lt;li&gt;è¾¹ç¼˜èŠ‚ç‚¹ä¸»åŠ¨ä¸ŠæŠ¥å®æ—¶æŒ‡æ ‡ï¼ˆå¸¦å®½åˆ©ç”¨ç‡ã€è¯·æ±‚é”™è¯¯ç‡ç­‰ï¼‰è‡³ä¸­å¤®ç›‘æ§ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæ‹“æ‰‘åŒæ­¥ï¼š
&lt;ul&gt;
&lt;li&gt;ç»“åˆ BGP è·¯ç”±è¡¨ã€Anycast å¹¿æ’­ä¿¡æ¯ï¼ŒåŠ¨æ€æ›´æ–°èŠ‚ç‚¹é—´çš„ç½‘ç»œè·¯å¾„è´¨é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¼“å­˜çŠ¶æ€åŒæ­¥ï¼š
&lt;ul&gt;
&lt;li&gt;é€šè¿‡åˆ†å¸ƒå¼æ•°æ®åº“ï¼ˆå¦‚ Redisï¼‰åŒæ­¥å„èŠ‚ç‚¹çš„èµ„æºç¼“å­˜çŠ¶æ€ï¼ˆå¦‚çƒ­ç‚¹å†…å®¹åˆ†å¸ƒï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æŠ€æœ¯æŒ‘æˆ˜ä¸å±€é™æ€§"&gt;âš ï¸ &lt;strong&gt;æŠ€æœ¯æŒ‘æˆ˜ä¸å±€é™æ€§&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;LDNS å®šä½åå·®ï¼š
&lt;ul&gt;
&lt;li&gt;LDNS å¯èƒ½è¿œç¦»çœŸå®ç”¨æˆ·ï¼ˆå¦‚è¿è¥å•†é›†ä¸­éƒ¨ç½² LDNSï¼‰ï¼Œå¯¼è‡´è°ƒåº¦è¯¯å·®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”å¯¹&lt;/strong&gt;ï¼šéƒ¨åˆ† CDN ç»“åˆ HTTP ECS æ‰©å±•åè®®ï¼Œè·å–ç”¨æˆ·çœŸå® IP æå‡ç²¾åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DNS ç¼“å­˜å¹²æ‰°ï¼š
&lt;ul&gt;
&lt;li&gt;LDNS ç¼“å­˜æ—§è§£æç»“æœï¼ˆTTL è¿‡æœŸåä»å¯èƒ½é‡ç”¨ï¼‰ï¼Œå¯¼è‡´èŠ‚ç‚¹åˆ‡æ¢å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”å¯¹&lt;/strong&gt;ï¼šCDN åŠ¨æ€è°ƒæ•´ TTLï¼ˆå¦‚ 20~60 ç§’ï¼‰ï¼Œå¹³è¡¡ç¼“å­˜æ•ˆç‡ä¸è°ƒåº¦çµæ´»æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å®æ—¶æ€§ç“¶é¢ˆï¼š
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œçŠ¶æ€å˜åŒ–å¿«ï¼ˆå¦‚çªå‘æ‹¥å¡ï¼‰ï¼ŒDNS è°ƒåº¦éš¾ä»¥ç¬æ—¶å“åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”å¯¹&lt;/strong&gt;ï¼šç»“åˆ HTTP 302 é‡å®šå‘æˆ– Anycast æŠ€æœ¯è¿›è¡ŒäºŒæ¬¡è°ƒåº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-9"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;DNS é€šè¿‡ &lt;strong&gt;CNAME ç§»äº¤è§£ææƒ&lt;/strong&gt; â†’ &lt;strong&gt;GSLB å¤šç»´åº¦å†³ç­–&lt;/strong&gt; â†’ &lt;strong&gt;èŠ‚ç‚¹åŠ¨æ€ç›‘æ§&lt;/strong&gt; çš„é—­ç¯æœºåˆ¶æŒæ¡ CDN èŠ‚ç‚¹ä¿¡æ¯ã€‚è¿™ä¸€è¿‡ç¨‹èåˆäº†åœ°ç†å®šä½ã€å®æ—¶è´Ÿè½½ã€ç½‘ç»œæ¢æµ‹ä¸æ™ºèƒ½ç®—æ³•ï¼Œä½¿ DNS èƒ½å¤Ÿå°†ç”¨æˆ·ç²¾å‡†å¼•å¯¼è‡³æœ€ä¼˜èŠ‚ç‚¹ã€‚å°½ç®¡å­˜åœ¨ LDNS å®šä½åå·®ã€DNS ç¼“å­˜ç­‰æŒ‘æˆ˜ï¼Œä½†é€šè¿‡ ECS åè®®ã€TTL ä¼˜åŒ–åŠ HTTP é‡å®šå‘è¡¥å……ï¼ŒCDN è°ƒåº¦ç³»ç»Ÿä»åœ¨æŒç»­è¿›åŒ–ï¼Œæˆä¸ºç°ä»£äº’è”ç½‘é«˜æ•ˆåˆ†å‘çš„åŸºçŸ³ã€‚&lt;/p&gt;
&lt;h2 id="dns-ç±»å‹"&gt;DNS ç±»å‹
&lt;/h2&gt;&lt;p&gt;DNSè®°å½•ç±»å‹æ˜¯åŸŸåç³»ç»Ÿçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œç”¨äºå®šä¹‰åŸŸåä¸ç½‘ç»œèµ„æºä¹‹é—´çš„æ˜ å°„è§„åˆ™ã€‚æ ¹æ®å…¶åŠŸèƒ½å’Œåº”ç”¨åœºæ™¯ï¼Œå¯åˆ†ä¸ºåŸºç¡€è§£æè®°å½•ã€æ‰©å±•åŠŸèƒ½å‹è®°å½•å’Œç‰¹æ®Šç”¨é€”è®°å½•ä¸‰å¤§ç±»ã€‚ä»¥ä¸‹è¯¦ç»†ä»‹ç»å„ç±»æ¡ç›®åŠå…¶æŠ€æœ¯ç»†èŠ‚å’Œåº”ç”¨ç­–ç•¥ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-åŸºç¡€è§£æè®°å½•æ ¸å¿ƒæ˜ å°„åŠŸèƒ½"&gt;ğŸ“Œ &lt;strong&gt;åŸºç¡€è§£æè®°å½•ï¼ˆæ ¸å¿ƒæ˜ å°„åŠŸèƒ½ï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Aè®°å½•ï¼ˆAddress Recordï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šå°†åŸŸåæ˜ å°„åˆ°IPv4åœ°å€ï¼ˆå¦‚ &lt;code&gt;192.0.2.1&lt;/code&gt;ï¼‰ï¼Œå®ç°é€šè¿‡åŸŸåè®¿é—®æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šç½‘ç«™æœåŠ¡å™¨IPç»‘å®šã€å­åŸŸåæŒ‡å‘ç‹¬ç«‹æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;www.example.com. 3600 IN A 192.0.2.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šéœ€å®šæœŸæ›´æ–°ä»¥åº”å¯¹æœåŠ¡å™¨IPå˜æ›´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AAAAè®°å½•ï¼ˆIPv6 Address Recordï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šå°†åŸŸåæ˜ å°„åˆ°IPv6åœ°å€ï¼ˆå¦‚ &lt;code&gt;2001:db8::1&lt;/code&gt;ï¼‰ï¼Œæ”¯æŒIPv6ç½‘ç»œç¯å¢ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šé€‚é…IPv6-onlyè®¾å¤‡ï¼ˆå¦‚ç‰©è”ç½‘ç»ˆç«¯ï¼‰ã€æœªæ¥ç½‘ç»œå‡çº§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;example.com. 3600 IN AAAA 2001:db8::1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CNAMEè®°å½•ï¼ˆCanonical Name Recordï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šåˆ›å»ºåŸŸååˆ«åï¼ŒæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼ˆæœ€ç»ˆéœ€è§£æä¸ºA/AAAAè®°å½•ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åº”ç”¨åœºæ™¯ï¼š
&lt;ul&gt;
&lt;li&gt;ç»Ÿä¸€å¤šå­åŸŸåæŒ‡å‘ï¼ˆå¦‚ &lt;code&gt;blog.example.com â†’ www.example.com&lt;/code&gt;ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;CDNæœåŠ¡å•†è¦æ±‚å°†åŸŸåCNAMEåˆ°å…¶æä¾›çš„åŠ é€ŸåŸŸåã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é™åˆ¶&lt;/strong&gt;ï¼šä¸å¯ä¸MXã€NSç­‰è®°å½•å…±å­˜äºåŒä¸€å­åŸŸåã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;blog.example.com. IN CNAME example.com.&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ‰©å±•åŠŸèƒ½å‹è®°å½•æœåŠ¡ä¸å®‰å…¨æ§åˆ¶"&gt;ğŸ”§ &lt;strong&gt;æ‰©å±•åŠŸèƒ½å‹è®°å½•ï¼ˆæœåŠ¡ä¸å®‰å…¨æ§åˆ¶ï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;MXè®°å½•ï¼ˆMail Exchange Recordï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šæŒ‡å®šæ¥æ”¶é‚®ä»¶çš„æœåŠ¡å™¨åœ°å€åŠä¼˜å…ˆçº§ï¼ˆæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šé‚®ç®±æœåŠ¡é…ç½®ï¼ˆå¦‚Gmailã€ä¼ä¸šè‡ªå»ºé‚®ä»¶ç³»ç»Ÿï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç¤ºä¾‹ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;example.com. 3600 IN MX 10 mail1.example.com.
example.com. 3600 IN MX 20 mail2.example.com.
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NSè®°å½•ï¼ˆName Server Recordï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šå£°æ˜è´Ÿè´£è§£æè¯¥åŸŸåçš„æƒå¨DNSæœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šåŸŸåæ³¨å†ŒåæŒ‡å®šDNSæœåŠ¡å•†ï¼ˆå¦‚Cloudflareã€é˜¿é‡Œäº‘DNSï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;example.com. IN NS ns1.cloudflare.com.&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TXTè®°å½•ï¼ˆText Recordï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šå­˜å‚¨ä»»æ„æ–‡æœ¬ä¿¡æ¯ï¼Œä¸»è¦ç”¨äºå®‰å…¨éªŒè¯å’Œç­–ç•¥å£°æ˜ã€‚&lt;/li&gt;
&lt;li&gt;å…³é”®åº”ç”¨ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SPFé˜²åƒåœ¾é‚®ä»¶&lt;/strong&gt;ï¼š&lt;code&gt;&amp;quot;v=spf1 mx ~all&amp;quot;&lt;/code&gt; å£°æ˜åˆæ³•å‘ä»¶æœåŠ¡å™¨ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸŸåæ‰€æœ‰æƒéªŒè¯&lt;/strong&gt;ï¼šGoogle Search Consoleç­‰æœåŠ¡çš„æ ¡éªŒç ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DMARC/DKIM&lt;/strong&gt;ï¼šé‚®ä»¶èº«ä»½è®¤è¯åè®®çš„æ”¯æŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CAAè®°å½•ï¼ˆCertificate Authority Authorizationï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šé™åˆ¶å¯ä¸ºåŸŸåé¢å‘SSL/TLSè¯ä¹¦çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨ä»·å€¼&lt;/strong&gt;ï¼šé˜²æ­¢æœªæˆæƒCAé”™è¯¯ç­¾å‘è¯ä¹¦å¯¼è‡´ä¸­é—´äººæ”»å‡»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;example.com. IN CAA 0 issue &amp;quot;letsencrypt.org&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-ç‰¹æ®Šç”¨é€”è®°å½•é«˜çº§åŠŸèƒ½ä¸åè®®æ”¯æŒ"&gt;âš™ï¸ &lt;strong&gt;ç‰¹æ®Šç”¨é€”è®°å½•ï¼ˆé«˜çº§åŠŸèƒ½ä¸åè®®æ”¯æŒï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;PTRè®°å½•ï¼ˆPointer Recordï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šåå‘DNSè§£æï¼Œå°†IPåœ°å€æ˜ å°„å›åŸŸåï¼ˆåå‘è§£æï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šé‚®ä»¶æœåŠ¡å™¨ååƒåœ¾éªŒè¯ï¼ˆå¦‚Gmailæ£€æŸ¥PTRåŒ¹é…æ€§ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®è¦æ±‚&lt;/strong&gt;ï¼šéœ€ISPé…åˆåœ¨IPåè§£åŸŸï¼ˆ&lt;code&gt;in-addr.arpa&lt;/code&gt;ï¼‰ä¸­è®¾ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SRVè®°å½•ï¼ˆService Recordï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šå®šä½ç‰¹å®šæœåŠ¡ï¼ˆå¦‚SIPã€LDAPï¼‰çš„æœåŠ¡å™¨åœ°å€ã€ç«¯å£åŠåè®®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»“æ„&lt;/strong&gt;ï¼šåŒ…å«ä¼˜å…ˆçº§ã€æƒé‡ã€ç«¯å£å’Œç›®æ ‡ä¸»æœºã€‚&lt;/li&gt;
&lt;li&gt;ç¤ºä¾‹
ï¼ˆSIPæœåŠ¡ï¼‰ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;_sip._tcp.example.com. IN SRV 10 60 5060 sipserver.example.com.
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SOAè®°å½•ï¼ˆStart of Authorityï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šæ ‡è®°DNSåŒºåŸŸçš„æƒå¨ä¿¡æ¯ï¼ŒåŒ…å«ä¸»æœåŠ¡å™¨ã€ç®¡ç†å‘˜é‚®ç®±ã€åºåˆ—å·ç­‰å…ƒæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®å­—æ®µ&lt;/strong&gt;ï¼šåºåˆ—å·ï¼ˆå˜æ›´æ—¶é€’å¢ï¼‰ã€åˆ·æ–°æ—¶é—´ï¼ˆä»æœåŠ¡å™¨åŒæ­¥é—´éš”ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç¤ºä¾‹ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;example.com. IN SOA ns1.example.com. admin.example.com. (
2024062301 ; Serial
3600 ; Refresh
900 ; Retry
1209600 ; Expire
3600 ) ; Minimum TTL
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DNAMEè®°å½•ï¼ˆDelegation Nameï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šåˆ›å»ºåŸŸåˆ«åå¹¶é‡å®šå‘&lt;strong&gt;æ‰€æœ‰å­åŸŸ&lt;/strong&gt;ï¼ˆCNAMEçš„å¢å¼ºç‰ˆï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šå“ç‰Œç»Ÿä¸€è¿ç§»ï¼ˆå¦‚ &lt;code&gt;old-brand.com â†’ new-brand.com&lt;/code&gt; åŒ…å«æ‰€æœ‰å­åŸŸï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;old-brand.com. IN DNAME new-brand.com.&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-è®°å½•ç±»å‹é€‰æ‹©ç­–ç•¥"&gt;ğŸ’ &lt;strong&gt;è®°å½•ç±»å‹é€‰æ‹©ç­–ç•¥&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;æ ¹æ®ä¸šåŠ¡éœ€æ±‚åˆç†æ­é…è®°å½•ç±»å‹æ˜¯ä¿éšœæœåŠ¡ç¨³å®šçš„å…³é”®ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;éœ€æ±‚åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ¨èè®°å½•ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é…ç½®è¦ç‚¹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç½‘ç«™è®¿é—®&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Aï¼ˆIPv4ï¼‰ã€AAAAï¼ˆIPv6ï¼‰&lt;/td&gt;
&lt;td&gt;åŒæ ˆæ”¯æŒï¼Œé¿å…å•ç‚¹æ•…éšœ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é‚®ä»¶æœåŠ¡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;MX + TXTï¼ˆSPF/DKIMï¼‰&lt;/td&gt;
&lt;td&gt;è®¾ç½®å¤‡ä»½MXæœåŠ¡å™¨ï¼ŒSPFåŒ…å«æ‰€æœ‰å‘ä¿¡IP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŸŸåæ‰˜ç®¡è¿ç§»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;NS&lt;/td&gt;
&lt;td&gt;åŒæ­¥TTLæ—¶é—´ï¼Œå‡å°‘è§£æä¸­æ–­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å­åŸŸåç»Ÿä¸€ç®¡ç†&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;CNAMEï¼ˆå•å±‚ï¼‰æˆ– DNAMEï¼ˆå…¨å­åŸŸï¼‰&lt;/td&gt;
&lt;td&gt;é¿å…CNAMEä¸MX/NSå†²çª&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;SSLè¯ä¹¦å®‰å…¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;CAA&lt;/td&gt;
&lt;td&gt;ä»…æˆæƒå¯ä¿¡CAï¼ˆå¦‚Letâ€™s Encryptã€DigiCertï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æœåŠ¡å‘ç°&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;SRV&lt;/td&gt;
&lt;td&gt;åè®®ç±»å‹ï¼ˆ&lt;code&gt;_tcp&lt;/code&gt;/&lt;code&gt;_udp&lt;/code&gt;ï¼‰éœ€æ˜ç¡®æŒ‡å®š&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æ³¨æ„äº‹é¡¹ä¸å¸¸è§é—®é¢˜"&gt;âš ï¸ &lt;strong&gt;æ³¨æ„äº‹é¡¹ä¸å¸¸è§é—®é¢˜&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;TTLï¼ˆTime to Liveï¼‰è®¾ç½®&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;çŸ­TTLï¼ˆå¦‚300ç§’ï¼‰ä¾¿äºå¿«é€Ÿåˆ‡æ¢æ•…éšœèŠ‚ç‚¹ï¼Œä½†å¢åŠ DNSæŸ¥è¯¢å‹åŠ›ï¼›&lt;/li&gt;
&lt;li&gt;é•¿TTLï¼ˆå¦‚86400ç§’ï¼‰å‡è½»è´Ÿè½½ï¼Œä½†æ•…éšœæ—¶æ¢å¤å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®°å½•å†²çªè§„é¿&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åŒä¸€å­åŸŸåä¸‹ï¼ŒCNAMEè®°å½•ä¼šè¦†ç›–å…¶ä»–ç±»å‹ï¼ˆMXã€Aç­‰ï¼‰ï¼Œéœ€æ”¹ç”¨æ˜¾å¼URLè·³è½¬æˆ–Aè®°å½•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DNSSECå®‰å…¨æ‰©å±•&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ç»“åˆDNSKEYã€RRSIGç­‰è®°å½•å®ç°å“åº”ç­¾åéªŒè¯ï¼Œé˜²æ­¢DNSåŠ«æŒï¼ˆéœ€é€’å½’æœåŠ¡å™¨æ”¯æŒï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-dnsè®°å½•ç±»å‹é€ŸæŸ¥è¡¨"&gt;ğŸ“Š &lt;strong&gt;DNSè®°å½•ç±»å‹é€ŸæŸ¥è¡¨&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;è®°å½•ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¸å¿ƒä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…¸å‹åº”ç”¨åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä¼˜å…ˆçº§/æƒé‡&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;A&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŸŸåâ†’IPv4åœ°å€&lt;/td&gt;
&lt;td&gt;ç½‘ç«™æœåŠ¡å™¨IPç»‘å®š&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;AAAA&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŸŸåâ†’IPv6åœ°å€&lt;/td&gt;
&lt;td&gt;IPv6ç½‘ç»œæ”¯æŒ&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;CNAME&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŸŸååˆ«åâ†’å¦ä¸€åŸŸå&lt;/td&gt;
&lt;td&gt;CDNåŠ é€Ÿã€å­åŸŸåç»Ÿä¸€ç®¡ç†&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;MX&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é‚®ä»¶æœåŠ¡å™¨åœ°å€&lt;/td&gt;
&lt;td&gt;ä¼ä¸šé‚®ç®±é…ç½®&lt;/td&gt;
&lt;td&gt;æ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;TXT&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å­˜å‚¨ä»»æ„æ–‡æœ¬ä¿¡æ¯&lt;/td&gt;
&lt;td&gt;SPFé˜²åƒåœ¾ã€åŸŸåéªŒè¯&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;NS&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æŒ‡å®šæƒå¨DNSæœåŠ¡å™¨&lt;/td&gt;
&lt;td&gt;åŸŸåæ‰˜ç®¡è¿ç§»&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PTR&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;IPåœ°å€â†’åŸŸåï¼ˆåå‘è§£æï¼‰&lt;/td&gt;
&lt;td&gt;é‚®ä»¶æœåŠ¡å™¨éªŒè¯&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;SRV&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å®šä½ç‰¹å®šæœåŠ¡&lt;/td&gt;
&lt;td&gt;VoIPï¼ˆSIPï¼‰ã€LDAPæœåŠ¡&lt;/td&gt;
&lt;td&gt;æ”¯æŒä¼˜å…ˆçº§æƒé‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;CAA&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é™åˆ¶è¯ä¹¦é¢å‘æœºæ„&lt;/td&gt;
&lt;td&gt;SSL/TLSè¯ä¹¦å®‰å…¨&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;DNAME&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é‡å®šå‘åŸŸåŠå…¶æ‰€æœ‰å­åŸŸ&lt;/td&gt;
&lt;td&gt;å“ç‰Œè¿ç§»ã€åŸŸåé‡ç»„&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;è¿ç»´å»ºè®®&lt;/strong&gt;ï¼šä½¿ç”¨ &lt;code&gt;dig&lt;/code&gt; æˆ– &lt;code&gt;nslookup&lt;/code&gt; å®šæœŸéªŒè¯è®°å½•ç”Ÿæ•ˆæƒ…å†µï¼ˆå¦‚ &lt;code&gt;dig example.com MX&lt;/code&gt;ï¼‰ï¼Œå¹¶ç»“åˆç›‘æ§å·¥å…·ï¼ˆå¦‚Prometheusï¼‰æ£€æµ‹è§£æå¼‚å¸¸ã€‚å¯¹é«˜å¯ç”¨æœåŠ¡ï¼Œå»ºè®®è‡³å°‘é…ç½®ä¸¤æ¡åŒç±»å‹è®°å½•ï¼ˆå¦‚å¤šMXã€å¤šAï¼‰å®ç°è´Ÿè½½å‡è¡¡ä¸æ•…éšœè½¬ç§»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="cname"&gt;CNAME
&lt;/h2&gt;&lt;p&gt;CNAMEè®°å½•åœ¨CDNåŠ é€Ÿå’Œå­åŸŸåç»Ÿä¸€ç®¡ç†ä¸­çš„åº”ç”¨ï¼Œæœ¬è´¨ä¸Šæ˜¯åˆ©ç”¨å…¶&lt;strong&gt;åˆ«åæ˜ å°„æœºåˆ¶&lt;/strong&gt;å®ç°åŸŸåè§£æçš„çµæ´»æ€§ä¸è§£è€¦ï¼Œä»è€Œä¼˜åŒ–ç½‘ç»œæ¶æ„çš„æ•ˆç‡å’Œå¯ç»´æŠ¤æ€§ã€‚ä»¥ä¸‹ä»æŠ€æœ¯åŸç†ã€åº”ç”¨é€»è¾‘åŠå®é™…ä»·å€¼ä¸‰ä¸ªç»´åº¦å±•å¼€åˆ†æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-cdnåŠ é€Ÿå¦‚ä½•é€šè¿‡cnameå®ç°å…¨çƒæµé‡è°ƒåº¦"&gt;ğŸŒ &lt;strong&gt;CDNåŠ é€Ÿï¼šå¦‚ä½•é€šè¿‡CNAMEå®ç°å…¨çƒæµé‡è°ƒåº¦&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="æŠ€æœ¯åŸç†"&gt;&lt;strong&gt;æŠ€æœ¯åŸç†&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åˆ«åæŒ‡å‘CDNæœåŠ¡å•†åŸŸå&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·å°†ä¸šåŠ¡åŸŸåï¼ˆå¦‚&lt;code&gt;static.example.com&lt;/code&gt;ï¼‰è®¾ç½®ä¸ºCNAMEè®°å½•ï¼ŒæŒ‡å‘CDNæœåŠ¡å•†æä¾›çš„åŠ é€ŸåŸŸåï¼ˆå¦‚&lt;code&gt;example.cdn.aliyuncs.com&lt;/code&gt;ï¼‰&lt;a class="link" href="@ref" &gt;6,7&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;CDNæœåŠ¡å•†çš„åŠ é€ŸåŸŸåæœ¬èº«é…ç½®äº†&lt;strong&gt;Anycastè·¯ç”±&lt;/strong&gt;æˆ–&lt;strong&gt;æ™ºèƒ½DNS&lt;/strong&gt;ï¼Œèƒ½æ ¹æ®ç”¨æˆ·åœ°ç†ä½ç½®è¿”å›æœ€è¿‘çš„è¾¹ç¼˜èŠ‚ç‚¹IPã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€è·¯ç”±ä¸ç¼“å­˜ååŒ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·è¯·æ±‚&lt;code&gt;static.example.com&lt;/code&gt; â†’ é€’å½’DNSè§£æåˆ°CNAMEç›®æ ‡&lt;code&gt;example.cdn.aliyuncs.com&lt;/code&gt; â†’ CDNæœåŠ¡å•†çš„DNSç³»ç»Ÿè¿”å›è·ç¦»ç”¨æˆ·æœ€è¿‘çš„èŠ‚ç‚¹IPï¼ˆå¦‚ä¸œäº¬èŠ‚ç‚¹ï¼‰&lt;a class="link" href="@ref" &gt;6&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è¾¹ç¼˜èŠ‚ç‚¹ç¼“å­˜é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€JSæ–‡ä»¶ï¼‰ï¼Œé¦–æ¬¡æœªå‘½ä¸­æ—¶å›æºç«™æ‹‰å–å¹¶ç¼“å­˜&lt;a class="link" href="@ref" &gt;7&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="æ ¸å¿ƒä»·å€¼"&gt;&lt;strong&gt;æ ¸å¿ƒä»·å€¼&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠ é€Ÿè®¿é—®&lt;/strong&gt;ï¼šç”¨æˆ·ä»åœ°ç†æœ€è¿‘çš„èŠ‚ç‚¹è·å–å†…å®¹ï¼Œé™ä½å»¶è¿Ÿï¼ˆå¦‚è·¨å›½è®¿é—®ä»200msé™è‡³20msï¼‰&lt;a class="link" href="@ref" &gt;7&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£è€¦IPå˜æ›´&lt;/strong&gt;ï¼šCDNèŠ‚ç‚¹æ‰©å®¹/è¿ç§»æ—¶ï¼Œç”¨æˆ·åªéœ€æ›´æ–°æœåŠ¡å•†åŸŸåé…ç½®ï¼Œæ— éœ€ä¿®æ”¹è‡ªèº«CNAMEè®°å½•&lt;a class="link" href="@ref" &gt;1,6&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨éš”ç¦»&lt;/strong&gt;ï¼šæ”»å‡»æµé‡è¢«CDNè¾¹ç¼˜èŠ‚ç‚¹å¸æ”¶ï¼Œæºç«™IPéšè—ï¼Œå‡å°‘DDoSé£é™©&lt;a class="link" href="@ref" &gt;7&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å…¸å‹é…ç½®ç¤ºä¾‹&lt;/strong&gt;ï¼ˆè…¾è®¯äº‘CDNï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;www.example.com. 3600 IN CNAME cdn.dnspod.com.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å…¶ä¸­&lt;code&gt;cdn.dnspod.com&lt;/code&gt;ç”±CDNæœåŠ¡å•†ç®¡ç†ï¼Œè‡ªåŠ¨åˆ†é…æœ€ä¼˜èŠ‚ç‚¹IP&lt;a class="link" href="@ref" &gt;7&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å­åŸŸåç»Ÿä¸€ç®¡ç†cnameå¦‚ä½•ç®€åŒ–è¿ç»´"&gt;ğŸ§© &lt;strong&gt;å­åŸŸåç»Ÿä¸€ç®¡ç†ï¼šCNAMEå¦‚ä½•ç®€åŒ–è¿ç»´&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="æŠ€æœ¯åŸç†-1"&gt;&lt;strong&gt;æŠ€æœ¯åŸç†&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¤šå­åŸŸæŒ‡å‘å•ä¸€ä¸»åŸŸ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å°†å¤šä¸ªå­åŸŸåï¼ˆå¦‚&lt;code&gt;blog.example.com&lt;/code&gt;ã€&lt;code&gt;shop.example.com&lt;/code&gt;ï¼‰é€šè¿‡CNAMEæŒ‡å‘ä¸»åŸŸåï¼ˆå¦‚&lt;code&gt;gateway.example.com&lt;/code&gt;ï¼‰&lt;a class="link" href="@ref" &gt;2,10&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰å­åŸŸåçš„è§£æç»“æœç”±ä¸»åŸŸåçš„Aè®°å½•å†³å®šï¼ˆå¦‚&lt;code&gt;gateway.example.com&lt;/code&gt; â†’ &lt;code&gt;192.0.2.1&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®é›†ä¸­åŒ–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¿®æ”¹ä¸»åŸŸåIPæ—¶ï¼ˆå¦‚æœåŠ¡å™¨è¿ç§»è‡³&lt;code&gt;192.0.2.2&lt;/code&gt;ï¼‰ï¼Œæ‰€æœ‰CNAMEæŒ‡å‘è¯¥ä¸»åŸŸçš„å­åŸŸåè‡ªåŠ¨ç»§æ‰¿æ–°IPï¼Œæ— éœ€é€æ¡æ›´æ–°&lt;a class="link" href="@ref" &gt;1,9&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="æ ¸å¿ƒä»·å€¼-1"&gt;&lt;strong&gt;æ ¸å¿ƒä»·å€¼&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿ç»´æ•ˆç‡æå‡&lt;/strong&gt;ï¼šé¿å…ä¸ºæ•°åä¸ªå­åŸŸåé‡å¤é…ç½®Aè®°å½•ï¼Œé™ä½äººä¸ºé”™è¯¯é£é™©&lt;a class="link" href="@ref" &gt;10&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çµæ´»æ€§å¢å¼º&lt;/strong&gt;ï¼šä¸šåŠ¡æ‰©å±•æ—¶æ–°å¢å­åŸŸï¼ˆå¦‚&lt;code&gt;api.example.com&lt;/code&gt;ï¼‰ï¼Œåªéœ€æ·»åŠ ä¸€æ¡CNAMEæŒ‡å‘ä¸»åŸŸ&lt;a class="link" href="@ref" &gt;11&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆæœ¬ä¼˜åŒ–&lt;/strong&gt;ï¼šå‡å°‘DNSè®°å½•æ•°é‡ï¼Œå°¤å…¶å¯¹æ‹¥æœ‰æ•°ç™¾å­åŸŸçš„å¤§å‹ç«™ç‚¹ï¼Œå¯èŠ‚çœç®¡ç†æˆæœ¬&lt;a class="link" href="@ref" &gt;10&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å…¸å‹é…ç½®ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;blog.example.com. 3600 IN CNAME gateway.example.com.
shop.example.com. 3600 IN CNAME gateway.example.com.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å½“&lt;code&gt;gateway.example.com&lt;/code&gt;çš„IPå˜æ›´æ—¶ï¼Œ&lt;code&gt;blog&lt;/code&gt;å’Œ&lt;code&gt;shop&lt;/code&gt;å­åŸŸè‡ªåŠ¨ç”Ÿæ•ˆæ–°IPã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-æŠ€æœ¯å…±æ€§ä¸å·®å¼‚å¯¹æ¯”"&gt;âš–ï¸ &lt;strong&gt;æŠ€æœ¯å…±æ€§ä¸å·®å¼‚å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¸å¿ƒæœºåˆ¶&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¸å¿ƒä¼˜åŠ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é™åˆ¶ä¸è§„é¿&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;CDNåŠ é€Ÿ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;CNAME â†’ CDNæœåŠ¡å•†åŸŸå â†’ è¾¹ç¼˜èŠ‚ç‚¹IP&lt;/td&gt;
&lt;td&gt;åŠ¨æ€è·¯ç”±ã€å…¨çƒåŠ é€Ÿã€å®‰å…¨é˜²æŠ¤&lt;/td&gt;
&lt;td&gt;ä¾èµ–CDNæœåŠ¡å•†èŠ‚ç‚¹çš„è¦†ç›–è´¨é‡&lt;a class="link" href="@ref" &gt;7&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å­åŸŸåç®¡ç†&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¤šå­åŸŸCNAME â†’ å•ä¸€ä¸»åŸŸAè®°å½•&lt;/td&gt;
&lt;td&gt;é…ç½®é›†ä¸­åŒ–ã€IPå˜æ›´é€æ˜åŒ–&lt;/td&gt;
&lt;td&gt;ä¸»åŸŸæ•…éšœåˆ™æ‰€æœ‰å­åŸŸä¸å¯ç”¨ï¼ˆéœ€ä¸»åŸŸé«˜å¯ç”¨ï¼‰&lt;a class="link" href="@ref" &gt;10&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…±æ€§æœ¬è´¨&lt;/strong&gt;ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;äºŒè€…å‡é€šè¿‡&lt;strong&gt;åŸŸåå±‚é—´æ¥å¼•ç”¨&lt;/strong&gt;â€‹ï¼ˆè€Œéç›´æ¥ç»‘å®šIPï¼‰ï¼Œå®ç°åŸºç¡€è®¾æ–½ä¸ä¸šåŠ¡é€»è¾‘çš„è§£è€¦ã€‚CNAMEå……å½“â€œä¸­é—´å±‚â€ï¼Œå°†æ˜“å˜çš„IPåœ°å€æŠ½è±¡ä¸ºç¨³å®šçš„åŸŸååˆ«å&lt;a class="link" href="@ref" &gt;1,6&lt;/a&gt;ã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-å®è·µæ³¨æ„äº‹é¡¹"&gt;âš ï¸ &lt;strong&gt;å®è·µæ³¨æ„äº‹é¡¹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é¿å…ä¸MX/NSè®°å½•å†²çª&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥åŸŸåéœ€è®¾ç½®é‚®ä»¶æœåŠ¡å™¨ï¼ˆMXè®°å½•ï¼‰æˆ–æƒå¨DNSï¼ˆNSè®°å½•ï¼‰ï¼Œ&lt;strong&gt;ä¸å¯ä½¿ç”¨CNAME&lt;/strong&gt;ï¼ˆRFCæ ‡å‡†çº¦æŸï¼‰&lt;a class="link" href="@ref" &gt;2&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ›¿ä»£æ–¹æ¡ˆ&lt;/strong&gt;ï¼šæ ¹åŸŸåï¼ˆå¦‚&lt;code&gt;example.com&lt;/code&gt;ï¼‰æ”¹ç”¨Aè®°å½•ï¼Œæˆ–ä½¿ç”¨äº‘æœåŠ¡å•†çš„ALIASè®°å½•ï¼ˆè™šæ‹ŸCNAMEï¼‰&lt;a class="link" href="@ref" &gt;10&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶CNAMEé“¾æ·±åº¦&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å¤šå±‚åµŒå¥—ï¼ˆå¦‚&lt;code&gt;a.example.com â†’ b.com â†’ c.net&lt;/code&gt;ï¼‰ä¼šå¢åŠ DNSè§£ææ—¶é—´ï¼Œå»ºè®®é“¾å¼è·³è½¬â‰¤2å±‚&lt;a class="link" href="@ref" &gt;4,8&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ£€æµ‹å·¥å…·&lt;/strong&gt;ï¼š&lt;code&gt;dig +trace&lt;/code&gt;å‘½ä»¤åˆ†æè§£æè·¯å¾„å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TTLç­–ç•¥ä¼˜åŒ–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;CNAMEçš„TTLå¸¸è¢«å¿½ç•¥ï¼Œä½†å®é™…ç”Ÿæ•ˆæ—¶é—´å—&lt;strong&gt;ç›®æ ‡åŸŸåçš„TTL&lt;/strong&gt;æ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å»ºè®®&lt;/strong&gt;ï¼šç›®æ ‡åŸŸåï¼ˆå¦‚CDNæœåŠ¡å•†åŸŸåï¼‰è®¾ç½®è¾ƒçŸ­TTLï¼ˆ300ç§’ï¼‰ï¼ŒåŠ é€Ÿå˜æ›´ç”Ÿæ•ˆ&lt;a class="link" href="@ref" &gt;4&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“cnameçš„æ ¸å¿ƒä»·å€¼ä¸æŠ€æœ¯é€‰æ‹©"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šCNAMEçš„æ ¸å¿ƒä»·å€¼ä¸æŠ€æœ¯é€‰æ‹©&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;CNAMEåœ¨CDNå’Œå­åŸŸç®¡ç†ä¸­çš„ä¸å¯æ›¿ä»£æ€§ï¼Œæºäºå…¶ä¸¤å¤§è®¾è®¡æœ¬è´¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é—´æ¥å¯»å€&lt;/strong&gt;ï¼šå°†ä¸šåŠ¡åŸŸåä¸ç‰©ç†IPè§£è€¦ï¼Œé€‚åº”åŠ¨æ€åŸºç¡€è®¾æ–½ï¼ˆå¦‚CDNèŠ‚ç‚¹æ± ã€å¼¹æ€§ä¼¸ç¼©çš„æœåŠ¡å™¨é›†ç¾¤ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®èšåˆ&lt;/strong&gt;ï¼šé€šè¿‡åˆ«åæœºåˆ¶æ”¶æ•›å¤šå¯¹ä¸€æ˜ å°„å…³ç³»ï¼Œé™ä½ç³»ç»Ÿç†µå¢&lt;a class="link" href="@ref" &gt;1,6,10&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä½•æ—¶é€‰æ‹©CNAME&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;âœ… éœ€åŠ¨æ€è°ƒæ•´åç«¯IPï¼ˆå¦‚CDNã€äº‘æœåŠ¡è¿ç§»ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;âœ… ç®¡ç†å¤§é‡åŒè´¨åŒ–å­åŸŸåï¼›&lt;/li&gt;
&lt;li&gt;âœ… æ ¹åŸŸåå¤–çš„åœºæ™¯ï¼ˆé¿å…ä¸MX/NSå†²çªï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½•æ—¶é¿å…CNAME&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;âŒ æ ¹åŸŸåéœ€å…¼å®¹é‚®ä»¶æœåŠ¡ï¼ˆæ”¹ç”¨A/ALIASï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;âŒ å¯¹DNSè§£æå»¶è¿Ÿæ•æ„Ÿï¼ˆå¦‚é«˜é¢‘äº¤æ˜“ç³»ç»Ÿï¼‰ã€‚
é€šè¿‡åˆç†åº”ç”¨CNAMEï¼Œä¼ä¸šå¯æ„å»ºå¼¹æ€§ã€å¯æ‰©å±•çš„åŸŸåæœåŠ¡ä½“ç³»ï¼Œè€Œç†è§£å…¶åº•å±‚é€»è¾‘æ˜¯è§„é¿é£é™©ã€æœ€å¤§åŒ–ä»·å€¼çš„å…³é”®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id="dns-æœåŠ¡å™¨ç±»åˆ«"&gt;DNS æœåŠ¡å™¨ç±»åˆ«
&lt;/h2&gt;&lt;p&gt;DNSæœåŠ¡å™¨æ˜¯äº’è”ç½‘åŸŸåè§£æç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œæ ¹æ®å…¶åŠŸèƒ½ã€å±‚çº§å’Œåº”ç”¨åœºæ™¯å¯åˆ†ä¸ºå¤šç§ç±»å‹ã€‚ä»¥ä¸‹ç»“åˆæŠ€æœ¯æ¶æ„å’Œå®é™…åº”ç”¨è¿›è¡Œè¯¦ç»†åˆ†ç±»è¯´æ˜ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-åŸºç¡€åŠŸèƒ½ç±»æ ¸å¿ƒè§£æè§’è‰²"&gt;ğŸ“¡ &lt;strong&gt;åŸºç¡€åŠŸèƒ½ç±»ï¼šæ ¸å¿ƒè§£æè§’è‰²&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é€’å½’DNSæœåŠ¡å™¨ï¼ˆRecursive DNS Serverï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šä»£è¡¨ç”¨æˆ·å®Œæˆå…¨é“¾è·¯DNSæŸ¥è¯¢ï¼Œä»æ ¹æœåŠ¡å™¨é€çº§è·å–æœ€ç»ˆè§£æç»“æœã€‚&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ç¼“å­˜è§£æç»“æœï¼ˆTTLæ§åˆ¶ç¼“å­˜æ—¶æ•ˆï¼‰ï¼ŒåŠ é€Ÿåç»­ç›¸åŒæŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;é€šå¸¸ç”±ISPæˆ–å…¬å…±DNSæœåŠ¡å•†ï¼ˆå¦‚Google DNS &lt;code&gt;8.8.8.8&lt;/code&gt;ï¼‰éƒ¨ç½²ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æˆ·åœºæ™¯&lt;/strong&gt;ï¼šæ™®é€šç”¨æˆ·è®¾å¤‡é»˜è®¤è¿æ¥çš„æœ¬åœ°DNSè§£æå™¨ï¼ˆå¦‚è·¯ç”±å™¨åˆ†é…çš„&lt;code&gt;192.168.1.1&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æƒå¨DNSæœåŠ¡å™¨ï¼ˆAuthoritative DNS Serverï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šç®¡ç†ç‰¹å®šåŸŸåçš„DNSè®°å½•ï¼ˆå¦‚Aã€MXè®°å½•ï¼‰ï¼Œç›´æ¥è¿”å›æœ€ç»ˆè§£æç»“æœã€‚&lt;/li&gt;
&lt;li&gt;å­ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸»æœåŠ¡å™¨ï¼ˆPrimaryï¼‰&lt;/strong&gt;ï¼šæ‹¥æœ‰åŸŸåçš„åŸå§‹åŒºåŸŸæ–‡ä»¶ï¼Œæ”¯æŒè¯»å†™æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¾…åŠ©æœåŠ¡å™¨ï¼ˆSecondaryï¼‰&lt;/strong&gt;ï¼šä»ä¸»æœåŠ¡å™¨åŒæ­¥æ•°æ®ï¼ˆåŒºåŸŸä¼ è¾“ï¼‰ï¼Œæä¾›å†—ä½™å’Œè´Ÿè½½å‡è¡¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éƒ¨ç½²ä¸»ä½“&lt;/strong&gt;ï¼šåŸŸåæ‰€æœ‰è€…æˆ–æ‰˜ç®¡æœåŠ¡å•†ï¼ˆå¦‚Cloudflareã€é˜¿é‡Œäº‘ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å±‚çº§ç»“æ„ç±»dnsæŸ¥è¯¢é“¾è·¯å…³é”®èŠ‚ç‚¹"&gt;ğŸŒ &lt;strong&gt;å±‚çº§ç»“æ„ç±»ï¼šDNSæŸ¥è¯¢é“¾è·¯å…³é”®èŠ‚ç‚¹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆRoot DNS Serverï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šä½œä¸ºæŸ¥è¯¢èµ·ç‚¹ï¼Œè¿”å›TLDæœåŠ¡å™¨åœ°å€ï¼ˆå¦‚&lt;code&gt;.com&lt;/code&gt;çš„æœåŠ¡å™¨IPï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šå…¨çƒä»…13ä¸ªé›†ç¾¤ï¼ˆA-Mï¼‰ï¼Œé€šè¿‡&lt;strong&gt;ä»»æ’­æŠ€æœ¯&lt;/strong&gt;åˆ†å¸ƒå¼éƒ¨ç½²æ•°ç™¾ä¸ªèŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;a.root-servers.net&lt;/code&gt;ï¼ˆIPv4: &lt;code&gt;198.41.0.4&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆTLD Name Serverï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šç®¡ç†é¡¶çº§åŸŸï¼ˆå¦‚&lt;code&gt;.com&lt;/code&gt;ã€&lt;code&gt;.cn&lt;/code&gt;ï¼‰ä¸‹çš„æƒå¨æœåŠ¡å™¨ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿è¥æ–¹&lt;/strong&gt;ï¼šICANNæˆæƒçš„æ³¨å†Œå±€ï¼ˆå¦‚Verisignç®¡ç†&lt;code&gt;.com&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆAuthoritative Name Serverï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;ï¼šæŸ¥è¯¢é“¾è·¯ç»ˆç‚¹ï¼Œç›´æ¥æä¾›åŸŸåå¯¹åº”çš„IPåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;ns1.example.com&lt;/code&gt; å­˜å‚¨ &lt;code&gt;www.example.com&lt;/code&gt; çš„Aè®°å½•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-ç‰¹æ®ŠåŠŸèƒ½ç±»ä¼˜åŒ–ä¸æ‰©å±•åœºæ™¯"&gt;âš™ï¸ &lt;strong&gt;ç‰¹æ®ŠåŠŸèƒ½ç±»ï¼šä¼˜åŒ–ä¸æ‰©å±•åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å­˜DNSæœåŠ¡å™¨ï¼ˆCache-Only Serverï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šæ— åŒºåŸŸæ•°æ®ï¼Œä»…ç¼“å­˜é€’å½’æŸ¥è¯¢ç»“æœï¼ŒåŠ é€Ÿæœ¬åœ°å“åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœºæ™¯&lt;/strong&gt;ï¼šä¼ä¸šåˆ†æ”¯æœºæ„å‡å°‘è·¨å¹¿åŸŸç½‘æŸ¥è¯¢å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è½¬å‘DNSæœåŠ¡å™¨ï¼ˆForwarding DNS Serverï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šå°†å¤–éƒ¨æŸ¥è¯¢è¯·æ±‚è½¬å‘è‡³æŒ‡å®šé€’å½’æœåŠ¡å™¨ï¼ˆå¦‚&lt;code&gt;8.8.8.8&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä»·å€¼ï¼š
&lt;ul&gt;
&lt;li&gt;é¿å…å†…éƒ¨æœåŠ¡å™¨æš´éœ²å…¬ç½‘ï¼Œæå‡å®‰å…¨æ€§ã€‚&lt;/li&gt;
&lt;li&gt;ä¼ä¸šç»Ÿä¸€ç®¡ç†å¤–ç½‘è§£æç­–ç•¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åå‘DNSæœåŠ¡å™¨ï¼ˆReverse DNS Serverï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šå°†IPåœ°å€è§£æä¸ºåŸŸåï¼ˆåå‘è§£æï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨&lt;/strong&gt;ï¼šé‚®ä»¶æœåŠ¡å™¨ååƒåœ¾éªŒè¯ã€IPå½’å±æº¯æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-åº”ç”¨åœºæ™¯ç±»éƒ¨ç½²ä¸»ä½“ä¸è®¿é—®èŒƒå›´"&gt;ğŸ¢ &lt;strong&gt;åº”ç”¨åœºæ™¯ç±»ï¼šéƒ¨ç½²ä¸»ä½“ä¸è®¿é—®èŒƒå›´&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;è®¿é—®èŒƒå›´&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…¸å‹ç¤ºä¾‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¸å¿ƒèƒ½åŠ›&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¬å…±DNS&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å…¨çƒç”¨æˆ·&lt;/td&gt;
&lt;td&gt;Google DNS (&lt;code&gt;8.8.8.8&lt;/code&gt;)&lt;/td&gt;
&lt;td&gt;é«˜é€Ÿè§£æã€æŠ—æ±¡æŸ“ã€éšç§ä¿æŠ¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç§æœ‰DNS&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç»„ç»‡å†…éƒ¨&lt;/td&gt;
&lt;td&gt;ä¼ä¸šå†…ç½‘DNSã€AdGuard Home&lt;/td&gt;
&lt;td&gt;è‡ªå®šä¹‰åŸŸåã€è®¿é—®æ§åˆ¶&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-dnsæœåŠ¡å™¨åä½œæµç¨‹ç¤ºä¾‹"&gt;ğŸ” &lt;strong&gt;DNSæœåŠ¡å™¨åä½œæµç¨‹ç¤ºä¾‹&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;ä»¥è®¿é—® &lt;code&gt;www.example.com&lt;/code&gt; ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç”¨æˆ·ç«¯&lt;/strong&gt; â†’ æœ¬åœ°é€’å½’æœåŠ¡å™¨ï¼šæŸ¥è¯¢ &lt;code&gt;www.example.com&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€’å½’æœåŠ¡å™¨&lt;/strong&gt; â†’ æ ¹æœåŠ¡å™¨ï¼šè·å– &lt;code&gt;.com&lt;/code&gt; TLDæœåŠ¡å™¨åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€’å½’æœåŠ¡å™¨&lt;/strong&gt; â†’ TLDæœåŠ¡å™¨ï¼šè·å– &lt;code&gt;example.com&lt;/code&gt; çš„æƒå¨æœåŠ¡å™¨åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€’å½’æœåŠ¡å™¨&lt;/strong&gt; â†’ æƒå¨æœåŠ¡å™¨ï¼šè·å¾— &lt;code&gt;www.example.com&lt;/code&gt; çš„IPå¹¶è¿”å›ç”¨æˆ·ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;å…³é”®ç‚¹&lt;/strong&gt;ï¼šé€’å½’æœåŠ¡å™¨æ‰¿æ‹…æŸ¥è¯¢åè°ƒï¼Œæ ¹/TLDæœåŠ¡å™¨ä»…æä¾›æŒ‡å¼•ï¼Œæƒå¨æœåŠ¡å™¨ç»™å‡ºæœ€ç»ˆç­”æ¡ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“dnsæœåŠ¡å™¨ç±»å‹å¯¹æ¯”è¡¨"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šDNSæœåŠ¡å™¨ç±»å‹å¯¹æ¯”è¡¨&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åŠŸèƒ½å®šä½&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ•°æ®æ¥æº&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…¸å‹ç¤ºä¾‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é€’å½’æœåŠ¡å™¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å…¨é“¾è·¯æŸ¥è¯¢ä»£ç†&lt;/td&gt;
&lt;td&gt;ç¼“å­˜ + å¤–éƒ¨æŸ¥è¯¢&lt;/td&gt;
&lt;td&gt;&lt;code&gt;8.8.8.8&lt;/code&gt;ï¼ˆGoogleï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æƒå¨æœåŠ¡å™¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŸŸåè®°å½•ç®¡ç†&lt;/td&gt;
&lt;td&gt;æœ¬åœ°åŒºåŸŸæ–‡ä»¶&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ns1.example.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ ¹/TLDæœåŠ¡å™¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æŸ¥è¯¢è·¯å¾„æŒ‡å¼•&lt;/td&gt;
&lt;td&gt;å›ºå®šé¡¶çº§åŸŸæ•°æ®&lt;/td&gt;
&lt;td&gt;&lt;code&gt;a.root-servers.net&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¼“å­˜/è½¬å‘æœåŠ¡å™¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŠ é€Ÿæˆ–å®‰å…¨ä»£ç†&lt;/td&gt;
&lt;td&gt;ç¼“å­˜/è½¬å‘è‡³ä¸Šæ¸¸&lt;/td&gt;
&lt;td&gt;ä¼ä¸šå†…ç½‘DNS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åå‘DNSæœåŠ¡å™¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;IPâ†’åŸŸåè§£æ&lt;/td&gt;
&lt;td&gt;åå‘åŒºåŸŸæ–‡ä»¶&lt;/td&gt;
&lt;td&gt;ISPç»´æŠ¤çš„åå‘è§£ææœåŠ¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é€šè¿‡åˆ†å±‚åä½œä¸åŠŸèƒ½äº’è¡¥ï¼Œå„ç±»DNSæœåŠ¡å™¨å…±åŒæ„å»ºäº†é«˜æ•ˆã€å¯é çš„å…¨çƒåŸŸåè§£æç½‘ç»œã€‚ä¼ä¸šéƒ¨ç½²æ—¶å¯ç»“åˆ&lt;strong&gt;å®‰å…¨æ€§&lt;/strong&gt;ï¼ˆç§æœ‰DNSï¼‰ã€&lt;strong&gt;æ€§èƒ½&lt;/strong&gt;ï¼ˆç¼“å­˜/è½¬å‘ï¼‰ã€&lt;strong&gt;å®¹ç¾&lt;/strong&gt;ï¼ˆä¸»è¾…æƒå¨æœåŠ¡å™¨ï¼‰éœ€æ±‚çµæ´»ç»„åˆã€‚&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="æƒå¨åŸŸåæœåŠ¡å™¨--é¡¶çº§åŸŸåæœåŠ¡å™¨"&gt;æƒå¨åŸŸåæœåŠ¡å™¨ &amp;amp; é¡¶çº§åŸŸåæœåŠ¡å™¨
&lt;/h2&gt;&lt;p&gt;æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆAuthoritative DNS Serverï¼‰å’Œé¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆTop-Level Domain Server, TLD Serverï¼‰æ˜¯DNSå±‚æ¬¡ç»“æ„ä¸­ä¸åŒå±‚çº§çš„æ ¸å¿ƒç»„ä»¶ï¼Œå…¶åŠŸèƒ½ã€ç®¡ç†èŒƒå›´å’ŒæœåŠ¡å¯¹è±¡å­˜åœ¨æœ¬è´¨å·®å¼‚ã€‚ä»¥ä¸‹ä»æŠ€æœ¯æ¶æ„å’Œåº”ç”¨åœºæ™¯è¯¦ç»†è§£æä¸¤è€…çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-åŠŸèƒ½å®šä½ä¸å±‚çº§å·®å¼‚"&gt;ğŸ›ï¸ &lt;strong&gt;åŠŸèƒ½å®šä½ä¸å±‚çº§å·®å¼‚&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;å±æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆTLD Serverï¼‰&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆAuthoritative Serverï¼‰&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å±‚çº§ä½ç½®&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DNSæŸ¥è¯¢é“¾çš„ç¬¬äºŒçº§ï¼ˆæ ¹åŸŸåæœåŠ¡å™¨â†’TLDæœåŠ¡å™¨ï¼‰&lt;/td&gt;
&lt;td&gt;DNSæŸ¥è¯¢é“¾çš„ç¬¬ä¸‰çº§ï¼ˆTLDæœåŠ¡å™¨â†’æƒå¨æœåŠ¡å™¨ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ ¸å¿ƒåŠŸèƒ½&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç®¡ç†é¡¶çº§åŸŸï¼ˆå¦‚&lt;code&gt;.com&lt;/code&gt;ã€&lt;code&gt;.cn&lt;/code&gt;ï¼‰ä¸‹çš„&lt;strong&gt;æƒå¨æœåŠ¡å™¨åœ°å€&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç®¡ç†&lt;strong&gt;å…·ä½“åŸŸå&lt;/strong&gt;ï¼ˆå¦‚&lt;code&gt;example.com&lt;/code&gt;ï¼‰çš„DNSè®°å½•ï¼ˆA/MXç­‰ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æœåŠ¡å¯¹è±¡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸ºé€’å½’æœåŠ¡å™¨æä¾›ä¸‹ä¸€è·³æŒ‡å¼•ï¼ˆæŒ‡å‘æƒå¨æœåŠ¡å™¨ï¼‰&lt;/td&gt;
&lt;td&gt;ä¸ºé€’å½’æœåŠ¡å™¨æä¾›&lt;strong&gt;æœ€ç»ˆè§£æç»“æœ&lt;/strong&gt;ï¼ˆå¦‚IPåœ°å€ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¸å‹åœºæ™¯ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç”¨æˆ·æŸ¥è¯¢ &lt;code&gt;www.example.com&lt;/code&gt; æ—¶ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ ¹åŸŸåæœåŠ¡å™¨&lt;/strong&gt; â†’ è¿”å›&lt;code&gt;.com&lt;/code&gt;çš„TLDæœåŠ¡å™¨åœ°å€ï¼ˆå¦‚&lt;code&gt;a.gtld-servers.net&lt;/code&gt;ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TLDæœåŠ¡å™¨&lt;/strong&gt; â†’ è¿”å›&lt;code&gt;example.com&lt;/code&gt;çš„æƒå¨æœåŠ¡å™¨åœ°å€ï¼ˆå¦‚&lt;code&gt;ns1.example.com&lt;/code&gt;ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æƒå¨æœåŠ¡å™¨&lt;/strong&gt; â†’ è¿”å›&lt;code&gt;www.example.com&lt;/code&gt;çš„IPåœ°å€ï¼ˆå¦‚&lt;code&gt;93.184.216.34&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ•°æ®ç®¡ç†èŒƒå›´å¯¹æ¯”"&gt;ğŸ“Š &lt;strong&gt;æ•°æ®ç®¡ç†èŒƒå›´å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æ•°æ®ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é¡¶çº§åŸŸåæœåŠ¡å™¨&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æƒå¨åŸŸåæœåŠ¡å™¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å­˜å‚¨å†…å®¹&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é¡¶çº§åŸŸä¸‹æ‰€æœ‰&lt;strong&gt;äºŒçº§åŸŸåçš„æƒå¨æœåŠ¡å™¨åˆ—è¡¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç‰¹å®šåŸŸåçš„&lt;strong&gt;æ‰€æœ‰èµ„æºè®°å½•&lt;/strong&gt;ï¼ˆAã€AAAAã€MXã€CNAMEç­‰ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç®¡ç†èŒƒå›´&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¦†ç›–æ•´ä¸ªé¡¶çº§åŸŸï¼ˆå¦‚&lt;code&gt;.com&lt;/code&gt;ä¸‹çš„æ•°ç™¾ä¸‡åŸŸåï¼‰&lt;/td&gt;
&lt;td&gt;ä»…é™&lt;strong&gt;å•ä¸ªåŸŸå&lt;/strong&gt;ï¼ˆå¦‚&lt;code&gt;example.com&lt;/code&gt;ï¼‰æˆ–å…¶å­åŸŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ›´æ–°é¢‘ç‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¾ƒä½ï¼ˆä»…å½“åŸŸåæ³¨å†Œ/æ³¨é”€æ—¶æ›´æ–°æƒå¨æœåŠ¡å™¨åˆ—è¡¨ï¼‰&lt;/td&gt;
&lt;td&gt;è¾ƒé«˜ï¼ˆå¯åŠ¨æ€ä¿®æ”¹Aè®°å½•ã€MXè®°å½•ç­‰ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¤ºä¾‹è¯´æ˜&lt;/strong&gt;ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.com&lt;/code&gt;çš„TLDæœåŠ¡å™¨å­˜å‚¨çš„æ˜¯æ‰€æœ‰ä»¥&lt;code&gt;.com&lt;/code&gt;ç»“å°¾çš„åŸŸåï¼ˆå¦‚&lt;code&gt;google.com&lt;/code&gt;ã€&lt;code&gt;amazon.com&lt;/code&gt;ï¼‰çš„æƒå¨æœåŠ¡å™¨åœ°å€ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;example.com&lt;/code&gt;çš„æƒå¨æœåŠ¡å™¨ä»…å­˜å‚¨è¯¥åŸŸåè‡ªèº«çš„è®°å½•ï¼ˆå¦‚&lt;code&gt;www&lt;/code&gt;æŒ‡å‘çš„IPã€&lt;code&gt;mail&lt;/code&gt;çš„MXè®°å½•ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-è¿è¥ä¸»ä½“ä¸éƒ¨ç½²æ–¹å¼"&gt;ğŸ§© &lt;strong&gt;è¿è¥ä¸»ä½“ä¸éƒ¨ç½²æ–¹å¼&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç»´åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é¡¶çº§åŸŸåæœåŠ¡å™¨&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æƒå¨åŸŸåæœåŠ¡å™¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¿è¥ä¸»ä½“&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ICANNæˆæƒçš„&lt;strong&gt;åŸŸåæ³¨å†Œå±€&lt;/strong&gt;ï¼ˆå¦‚Verisignç®¡ç†&lt;code&gt;.com&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;åŸŸåæŒæœ‰è€…&lt;/strong&gt;æˆ–æ‰˜ç®¡æœåŠ¡å•†ï¼ˆå¦‚Cloudflareã€é˜¿é‡Œäº‘ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;éƒ¨ç½²å†—ä½™&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å…¨çƒåˆ†å¸ƒå¼é›†ç¾¤ï¼ˆé€šè¿‡Anycastå®ç°é«˜å¯ç”¨ï¼‰&lt;/td&gt;
&lt;td&gt;ä¸»ä»æ¶æ„ï¼ˆä¸»æœåŠ¡å™¨å¯å†™ï¼Œä»æœåŠ¡å™¨åŒæ­¥å¤‡ä»½ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è®¿é—®æƒé™&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä»…å…è®¸é€’å½’æœåŠ¡å™¨æŸ¥è¯¢ï¼Œä¸å“åº”ç»ˆç«¯ç”¨æˆ·è¯·æ±‚&lt;/td&gt;
&lt;td&gt;ç›´æ¥å“åº”é€’å½’æœåŠ¡å™¨çš„æœ€ç»ˆæŸ¥è¯¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¸å‹éƒ¨ç½²æ¡ˆä¾‹&lt;/strong&gt;ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;TLDæœåŠ¡å™¨&lt;/strong&gt;ï¼šå…¨çƒ13ç»„æ ¹æœåŠ¡å™¨é›†ç¾¤ä¸‹è¾–çš„TLDèŠ‚ç‚¹ï¼ˆå¦‚&lt;code&gt;.com&lt;/code&gt;é›†ç¾¤åˆ†å¸ƒåœ¨å…¨çƒæ•°åä¸ªç«™ç‚¹ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æƒå¨æœåŠ¡å™¨&lt;/strong&gt;ï¼šä¼ä¸šå¯è‡ªå»ºï¼ˆå¦‚&lt;code&gt;ns1.mycompany.com&lt;/code&gt;ï¼‰ï¼Œæˆ–ä½¿ç”¨äº‘æœåŠ¡å•†ï¼ˆå¦‚&lt;code&gt;ns1.cloudflare.com&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ•…éšœå½±å“èŒƒå›´"&gt;âš™ï¸ &lt;strong&gt;æ•…éšœå½±å“èŒƒå›´&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¡¶çº§åŸŸåæœåŠ¡å™¨æ•…éšœ&lt;/strong&gt;ï¼š
å½±å“&lt;strong&gt;æ•´ä¸ªé¡¶çº§åŸŸ&lt;/strong&gt;çš„è§£æï¼ˆå¦‚&lt;code&gt;.com&lt;/code&gt;ç˜«ç—ªå¯¼è‡´æ‰€æœ‰&lt;code&gt;.com&lt;/code&gt;åŸŸåæ— æ³•è®¿é—®ï¼‰ã€‚
&lt;em&gt;ä¾‹ï¼š2019å¹´&lt;code&gt;.com&lt;/code&gt; TLDæœåŠ¡å™¨çŸ­æš‚æ•…éšœï¼Œå¯¼è‡´å…¨çƒå¤§é‡ç½‘ç«™ä¸å¯ç”¨ã€‚&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æƒå¨åŸŸåæœåŠ¡å™¨æ•…éšœ&lt;/strong&gt;ï¼š
ä»…å½±å“&lt;strong&gt;å…¶ç®¡ç†çš„å•ä¸ªåŸŸå&lt;/strong&gt;â€‹ï¼ˆå¦‚&lt;code&gt;example.com&lt;/code&gt;æ— æ³•è§£æï¼Œä½†å…¶ä»–&lt;code&gt;.com&lt;/code&gt;åŸŸåæ­£å¸¸ï¼‰ã€‚
&lt;em&gt;åº”å¯¹æªæ–½ï¼šéƒ¨ç½²å¤šå°æƒå¨æœåŠ¡å™¨ï¼ˆä¸»å¤‡+è´Ÿè½½å‡è¡¡ï¼‰ã€‚&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“æ ¸å¿ƒå·®å¼‚å…¨æ™¯å›¾"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šæ ¸å¿ƒå·®å¼‚å…¨æ™¯å›¾&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;å¯¹æ¯”ç»´åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆTLDï¼‰&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æƒå¨åŸŸåæœåŠ¡å™¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŠŸèƒ½æœ¬è´¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DNSæŸ¥è¯¢çš„&lt;strong&gt;è·¯ç”±å¯¼èˆª&lt;/strong&gt;ï¼ˆæŒ‡å‘æƒå¨æœåŠ¡å™¨ï¼‰&lt;/td&gt;
&lt;td&gt;DNSè§£æçš„&lt;strong&gt;ç»ˆç‚¹ç«™&lt;/strong&gt;ï¼ˆæä¾›æœ€ç»ˆç­”æ¡ˆï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ•°æ®ç²’åº¦&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é¡¶çº§åŸŸçº§åˆ«çš„&lt;strong&gt;å…ƒæ•°æ®ç®¡ç†&lt;/strong&gt;ï¼ˆæƒå¨æœåŠ¡å™¨åˆ—è¡¨ï¼‰&lt;/td&gt;
&lt;td&gt;åŸŸåçº§åˆ«çš„&lt;strong&gt;èµ„æºè®°å½•ç®¡ç†&lt;/strong&gt;ï¼ˆIP/é‚®ä»¶ç­‰ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç”¨æˆ·æ„ŸçŸ¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å®Œå…¨é€æ˜ï¼ˆç”¨æˆ·ä¸ç›´æ¥äº¤äº’ï¼‰&lt;/td&gt;
&lt;td&gt;é—´æ¥å½±å“ï¼ˆå†³å®šåŸŸåæ˜¯å¦å¯è®¿é—®ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ‰©å±•èƒ½åŠ›&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ”¯æŒè´Ÿè½½å‡è¡¡ï¼ˆå¼•å¯¼è¯·æ±‚åˆ°æœ€è¿‘çš„æƒå¨æœåŠ¡å™¨ï¼‰&lt;/td&gt;
&lt;td&gt;æ”¯æŒDNSSECç­¾åï¼ˆé˜²æ­¢è®°å½•ç¯¡æ”¹ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;è¿ç»´å»ºè®®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼ä¸šåº”é€‰æ‹©&lt;strong&gt;å¤šåœ°åŸŸéƒ¨ç½²çš„æƒå¨æœåŠ¡å™¨&lt;/strong&gt;ï¼ˆå¦‚äº‘æœåŠ¡å•†çš„Anycastæƒå¨DNSï¼‰ï¼Œé¿å…å•ç‚¹æ•…éšœï¼›&lt;/li&gt;
&lt;li&gt;åŸŸåæ³¨å†Œæ—¶éœ€ç¡®ä¿TLDæœåŠ¡å™¨ä¸­ç™»è®°çš„æƒå¨æœåŠ¡å™¨åœ°å€æ­£ç¡®ï¼ˆå¦åˆ™é€’å½’æœåŠ¡å™¨æ— æ³•æ‰¾åˆ°æƒå¨æºï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id="dns-åŠ«æŒ"&gt;DNS åŠ«æŒ
&lt;/h2&gt;&lt;h3 id="-dnsåŠ«æŒåŸç†ä¸åˆ†ç±»"&gt;ğŸ›¡ï¸ &lt;strong&gt;DNSåŠ«æŒåŸç†ä¸åˆ†ç±»&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;DNSåŠ«æŒï¼ˆDNS Hijackingï¼‰æ˜¯ä¸€ç§é€šè¿‡ç¯¡æ”¹åŸŸåè§£æè¿‡ç¨‹ï¼Œå°†ç”¨æˆ·è®¿é—®çš„åˆæ³•åŸŸåé‡å®šå‘è‡³æ¶æ„IPåœ°å€çš„ç½‘ç»œæ”»å‡»ã€‚æ”»å‡»è€…åˆ©ç”¨DNSåè®®æ¼æ´æˆ–è®¾å¤‡æ¼æ´å®ç°æµé‡åŠ«æŒï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹ç±»å‹ï¼š&lt;/p&gt;
&lt;h4 id="æœ¬åœ°dnsåŠ«æŒ"&gt;&lt;strong&gt;æœ¬åœ°DNSåŠ«æŒ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šæ¶æ„è½¯ä»¶ä¿®æ”¹ç”¨æˆ·è®¾å¤‡çš„DNSé…ç½®ï¼ˆå¦‚hostsæ–‡ä»¶æˆ–ç½‘å¡DNSè®¾ç½®ï¼‰ï¼Œå°†åŸŸåè§£ææŒ‡å‘æ”»å‡»è€…æ§åˆ¶çš„æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¡ˆä¾‹&lt;/strong&gt;ï¼šæœ¨é©¬ç¨‹åºç¯¡æ”¹Windowsç³»ç»Ÿçš„DNSè®¾ç½®ï¼Œä½¿è®¿é—®é“¶è¡Œç½‘ç«™æ—¶è·³è½¬è‡³é’“é±¼é¡µé¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="è·¯ç”±å™¨dnsåŠ«æŒ"&gt;&lt;strong&gt;è·¯ç”±å™¨DNSåŠ«æŒ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šæ”»å‡»è€…åˆ©ç”¨è·¯ç”±å™¨æ¼æ´ï¼ˆå¦‚é»˜è®¤å¯†ç ã€å›ºä»¶æ¼æ´ï¼‰ç¯¡æ”¹è·¯ç”±å™¨çš„DNSè®¾ç½®ï¼Œå½±å“æ‰€æœ‰è¿æ¥è¯¥è·¯ç”±å™¨çš„è®¾å¤‡ã€‚&lt;/li&gt;
&lt;li&gt;å¸¸è§æ¼æ´ï¼š
&lt;ul&gt;
&lt;li&gt;CVE-2023-1389ï¼ˆTP-Linkè·¯ç”±å™¨å‘½ä»¤æ³¨å…¥ï¼‰&lt;/li&gt;
&lt;li&gt;CVE-2022-4645ï¼ˆNetgearç¼“å†²åŒºæº¢å‡ºï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ä¸­é—´äººæ”»å‡»mitm"&gt;&lt;strong&gt;ä¸­é—´äººæ”»å‡»ï¼ˆMITMï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šæ”»å‡»è€…åœ¨ç”¨æˆ·ä¸DNSæœåŠ¡å™¨ä¹‹é—´æ‹¦æˆªé€šä¿¡ï¼Œä¼ªé€ DNSå“åº”ï¼ˆå¦‚é€šè¿‡ARPæ¬ºéª—å·¥å…·Ettercapï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹å¾&lt;/strong&gt;ï¼šç”¨æˆ·æ”¶åˆ°è™šå‡IPåœ°å€ï¼Œè€Œæ­£å¸¸DNSæœåŠ¡å™¨æœªæ”¶åˆ°æŸ¥è¯¢è¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="dnsæœåŠ¡å™¨åŠ«æŒ"&gt;&lt;strong&gt;DNSæœåŠ¡å™¨åŠ«æŒ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å­˜æŠ•æ¯’&lt;/strong&gt;ï¼šæ±¡æŸ“é€’å½’æœåŠ¡å™¨çš„ç¼“å­˜ï¼ˆåˆ©ç”¨UDPåè®®æ— è®¤è¯ç¼ºé™·ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸŸåæ³¨å†ŒåŠ«æŒ&lt;/strong&gt;ï¼šç¤¾å·¥æ”»å‡»è·å–æ³¨å†Œå•†æƒé™ï¼Œç¯¡æ”¹åŸŸåçš„NSè®°å½•ï¼ˆå¦‚GoDaddyäº‹ä»¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ISPåŠ«æŒ&lt;/strong&gt;ï¼šè¿è¥å•†ä¸ºå•†ä¸šåˆ©ç›Šé‡å®šå‘æµé‡ï¼ˆå¦‚æ’å…¥å¹¿å‘Šï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="é«˜çº§æ”»å‡»æŠ€æœ¯"&gt;&lt;strong&gt;é«˜çº§æ”»å‡»æŠ€æœ¯&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;DNSéš§é“&lt;/strong&gt;ï¼šé€šè¿‡DNSåè®®éšè—ä¼ è¾“æ¶æ„æ•°æ®ï¼Œç»•è¿‡é˜²ç«å¢™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;APTæ”»å‡»&lt;/strong&gt;ï¼šåˆ©ç”¨0dayæ¼æ´é•¿æœŸæ½œä¼ï¼ˆå¹³å‡156å¤©ï¼‰ï¼Œå®šå‘åŠ«æŒä¼ä¸šå†…ç½‘DNSã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-dnsåŠ«æŒçš„å±å®³"&gt;âš ï¸ &lt;strong&gt;DNSåŠ«æŒçš„å±å®³&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·å±‚é¢ï¼š
&lt;ul&gt;
&lt;li&gt;è®¿é—®é’“é±¼ç½‘ç«™å¯¼è‡´è´¦å·å¯†ç æ³„éœ²ï¼ˆå¦‚è™šå‡é“¶è¡Œé¡µé¢ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¼ºåˆ¶è·³è½¬è‡³å¹¿å‘Š/èµŒåšç½‘ç«™ï¼Œè®¾å¤‡æ„ŸæŸ“å‹’ç´¢ç—…æ¯’ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼ä¸šå±‚é¢ï¼š
&lt;ul&gt;
&lt;li&gt;å“ç‰Œä¿¡èª‰å—æŸï¼ˆå®˜ç½‘è¢«ç¯¡æ”¹ï¼‰ï¼Œæ•°æ®æ³„éœ²é¢ä¸´æ³•å¾‹é£é™©ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡ç˜«ç—ªé€ æˆæŸå¤±ï¼ˆå¹³å‡æ¢å¤æˆæœ¬è¶…$32ä¸‡ç¾å…ƒï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-dnsåŠ«æŒçš„åº”å¯¹ä¸é˜²å¾¡æ–¹æ³•"&gt;ğŸ› ï¸ &lt;strong&gt;DNSåŠ«æŒçš„åº”å¯¹ä¸é˜²å¾¡æ–¹æ³•&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="ç”¨æˆ·ç«¯é˜²æŠ¤"&gt;&lt;strong&gt;ç”¨æˆ·ç«¯é˜²æŠ¤&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ›´æ¢å…¬å…±DNS&lt;/strong&gt;ï¼š
ä½¿ç”¨é«˜å®‰å…¨æ€§DNSæœåŠ¡ï¼ˆå¦‚Google DNS &lt;code&gt;8.8.8.8&lt;/code&gt;ã€Cloudflare &lt;code&gt;1.1.1.1&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¸…ç†ç¼“å­˜&lt;/strong&gt;ï¼š
Windowsæ‰§è¡Œ &lt;code&gt;ipconfig /flushdns&lt;/code&gt;ï¼›Linux/Macä½¿ç”¨ &lt;code&gt;sudo dscacheutil -flushcache&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åŠ å¯†é€šä¿¡ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HTTPS&lt;/strong&gt;ï¼šç¡®ä¿ç½‘ç«™SSLè¯ä¹¦æœ‰æ•ˆï¼ˆé˜²å†…å®¹ç¯¡æ”¹ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;VPN/DoH/DoT&lt;/strong&gt;ï¼šåŠ å¯†DNSæŸ¥è¯¢ï¼ˆå¦‚Cloudflare over HTTPSï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ç½‘ç»œè®¾å¤‡åŠ å›º"&gt;&lt;strong&gt;ç½‘ç»œè®¾å¤‡åŠ å›º&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;è·¯ç”±å™¨å®‰å…¨ï¼š
&lt;ul&gt;
&lt;li&gt;æ›´æ–°å›ºä»¶ï¼Œç¦ç”¨è¿œç¨‹ç®¡ç†ï¼Œè®¾ç½®å¼ºå¯†ç ï¼ˆéé»˜è®¤å¯†ç ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¯ç”¨é˜²ç«å¢™è§„åˆ™ï¼Œé™åˆ¶å¤–éƒ¨è®¿é—®DNSç«¯å£ï¼ˆUDP 53ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»‘å®šIP-MAC&lt;/strong&gt;ï¼š
åœ¨è·¯ç”±å™¨ä¸­ç»‘å®šè®¾å¤‡IPä¸MACåœ°å€ï¼Œé˜²æ­¢ARPæ¬ºéª—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ä¼ä¸šçº§é˜²æŠ¤"&gt;&lt;strong&gt;ä¼ä¸šçº§é˜²æŠ¤&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;DNSSECéƒ¨ç½²ï¼š
ä¸ºåŸŸåæ·»åŠ æ•°å­—ç­¾åï¼ŒéªŒè¯è§£æç»“æœçœŸå®æ€§ï¼ˆBIND9é…ç½®ç¤ºä¾‹ï¼‰ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;zone &amp;#34;example.com&amp;#34; {
type master;
file &amp;#34;/etc/bind/db.example.com&amp;#34;;
key-directory &amp;#34;/etc/bind/keys&amp;#34;;
auto-dnssec maintain;
inline-signing yes;
};
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é›¶ä¿¡ä»»æ¶æ„&lt;/strong&gt;ï¼š
å®æ–½å¤šå› ç´ è®¤è¯ï¼Œç›‘æ§å¼‚å¸¸DNSè¯·æ±‚ï¼ˆå¦‚é«˜é¢‘æŸ¥è¯¢éå¸¸è§„åŸŸåï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;äº‘æœåŠ¡é˜²æŠ¤ï¼š
&lt;ul&gt;
&lt;li&gt;AWS Route53å¯ç”¨DNSSECå’ŒDNSé˜²ç«å¢™ã€‚&lt;/li&gt;
&lt;li&gt;è…¾è®¯äº‘DNSPodæä¾›æŠ—DDoSæ”»å‡»çš„æƒå¨DNSæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="æ£€æµ‹ä¸å“åº”"&gt;&lt;strong&gt;æ£€æµ‹ä¸å“åº”&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;åŠ«æŒæ£€æµ‹å·¥å…·ï¼š
&lt;ul&gt;
&lt;li&gt;é˜¿é‡Œäº‘DNSæ£€æµ‹å·¥å…·ï¼ˆ&lt;code&gt;zijian.aliyun.com&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Pythonè„šæœ¬éªŒè¯è§£æç»“æœï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;import socket
def check_dns(domain):
ip = socket.gethostbyname(domain)
print(f&amp;#34;{domain} â†’ {ip}&amp;#34;) # å¯¹æ¯”é¢„æœŸIPæ˜¯å¦ä¸€è‡´
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”æ€¥å“åº”&lt;/strong&gt;ï¼š
ç«‹å³æ–­å¼€ç½‘ç»œ â†’ é‡ç½®è·¯ç”±å™¨ â†’ æ›´æ”¹æ‰€æœ‰å¯†ç  â†’ è”ç³»DNSæœåŠ¡å•†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“é˜²å¾¡ä½“ç³»å…¨æ™¯å›¾"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šé˜²å¾¡ä½“ç³»å…¨æ™¯å›¾&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;é˜²æŠ¤å±‚çº§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…³é”®æªæ–½&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å·¥å…·/ç¤ºä¾‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç»ˆç«¯ç”¨æˆ·&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä½¿ç”¨å…¬å…±DNS + å®šæœŸæ¸…ç†ç¼“å­˜&lt;/td&gt;
&lt;td&gt;&lt;code&gt;8.8.8.8&lt;/code&gt;, &lt;code&gt;1.1.1.1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å®¶åº­ç½‘ç»œ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·¯ç”±å™¨å›ºä»¶æ›´æ–° + å¼ºå¯†ç  + VPN&lt;/td&gt;
&lt;td&gt;WPA3åŠ å¯†, OpenVPN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä¼ä¸šæ¶æ„&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DNSSEC + é›¶ä¿¡ä»» + DNSæµé‡ç›‘æ§&lt;/td&gt;
&lt;td&gt;BIND9, AWS Route53é˜²ç«å¢™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æŒç»­è¿ç»´&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å®šæœŸæ‰«ææ¼æ´ + å‘˜å·¥å®‰å…¨æ„è¯†åŸ¹è®­&lt;/td&gt;
&lt;td&gt;é˜¿é‡Œäº‘æ‹¨æµ‹, é’“é±¼æ¼”ç»ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;æƒå¨å»ºè®®&lt;/strong&gt;ï¼šICANNæ•°æ®æ˜¾ç¤ºå…¨çƒä»…41.6%åŸŸåéƒ¨ç½²DNSSECï¼Œä¼ä¸šåº”ä¼˜å…ˆå¯ç”¨DNSSECå¹¶é€‰æ‹©æ”¯æŒAnycastçš„DNSæœåŠ¡å•†ï¼ˆå¦‚Cloudflareï¼‰ï¼ŒåŒæ—¶ç»“åˆHTTPSåŠ å¯†ä¸ç»ˆç«¯EDRç³»ç»Ÿï¼Œæ„å»ºçºµæ·±é˜²å¾¡ä½“ç³»ã€‚æ™®é€šç”¨æˆ·é¿å…è¿æ¥å…¬å…±WiFiæ‰§è¡Œæ•æ„Ÿæ“ä½œï¼Œå®šæœŸæ£€æŸ¥è·¯ç”±å™¨æ—¥å¿—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;</description></item><item><title>ã€Computer Networkã€‘TCP/IP</title><link>https://dyhes.github.io/p/computer-networktcp/ip/</link><pubDate>Mon, 23 Jun 2025 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/computer-networktcp/ip/</guid><description>&lt;h2 id="tcpè¿æ¥"&gt;TCPè¿æ¥
&lt;/h2&gt;&lt;p&gt;TCP çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹æ˜¯å»ºç«‹å’Œç»ˆæ­¢å¯é ç½‘ç»œè¿æ¥çš„æ ¸å¿ƒæœºåˆ¶ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„å®Œæ•´æ€§å’Œæœ‰åºæ€§ã€‚ä»¥ä¸‹åŸºäºåè®®åŸç†å’Œç½‘ç»œå®è·µçš„ç»¼åˆè§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="tcp-ä¸‰æ¬¡æ¡æ‰‹è¿æ¥å»ºç«‹"&gt;&lt;strong&gt;TCP ä¸‰æ¬¡æ¡æ‰‹ï¼ˆè¿æ¥å»ºç«‹ï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼šåŒæ­¥é€šä¿¡åŒæ–¹çš„åˆå§‹åºåˆ—å·ï¼ˆISNï¼‰ï¼Œåå•†è¿æ¥å‚æ•°ï¼ˆå¦‚æœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ MSSï¼‰ï¼Œå¹¶ç¡®è®¤åŒå‘é€šä¿¡èƒ½åŠ›ã€‚
â€‹&lt;strong&gt;è¿‡ç¨‹&lt;/strong&gt;â€‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;SYNï¼ˆå®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€ &lt;code&gt;SYN=1&lt;/code&gt; æ ‡å¿—çš„æ•°æ®åŒ…ï¼Œæºå¸¦éšæœºåˆå§‹åºåˆ—å· &lt;code&gt;seq=x&lt;/code&gt;ï¼Œè¿›å…¥ &lt;code&gt;SYN_SENT&lt;/code&gt; çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;ä½œç”¨&lt;/em&gt;ï¼šè¯·æ±‚å»ºç«‹è¿æ¥ï¼Œå£°æ˜å®¢æˆ·ç«¯çš„èµ·å§‹åºåˆ—å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SYN + ACKï¼ˆæœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨æ”¶åˆ° &lt;code&gt;SYN&lt;/code&gt; åï¼Œå›å¤ &lt;code&gt;SYN=1&lt;/code&gt; å’Œ &lt;code&gt;ACK=1&lt;/code&gt; çš„åŒ…ï¼Œæºå¸¦è‡ªèº«åºåˆ—å· &lt;code&gt;seq=y&lt;/code&gt; åŠç¡®è®¤å· &lt;code&gt;ack=x+1&lt;/code&gt;ï¼Œè¿›å…¥ &lt;code&gt;SYN_RCVD&lt;/code&gt; çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;ä½œç”¨&lt;/em&gt;ï¼šç¡®è®¤å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¹¶å£°æ˜æœåŠ¡å™¨çš„åºåˆ—å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ACKï¼ˆå®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€ &lt;code&gt;ACK=1&lt;/code&gt; åŒ…ï¼Œç¡®è®¤å· &lt;code&gt;ack=y+1&lt;/code&gt;ï¼Œåºåˆ—å· &lt;code&gt;seq=x+1&lt;/code&gt;ã€‚åŒæ–¹è¿›å…¥ &lt;code&gt;ESTABLISHED&lt;/code&gt; çŠ¶æ€ï¼Œè¿æ¥å»ºç«‹å®Œæˆã€‚
&lt;strong&gt;ä¸ºä½•éœ€è¦ä¸‰æ¬¡ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é˜²å†å²è¿æ¥å¹²æ‰°&lt;/strong&gt;ï¼šè‹¥å¤±æ•ˆçš„ &lt;code&gt;SYN&lt;/code&gt; å»¶è¿Ÿåˆ°è¾¾æœåŠ¡å™¨ï¼Œç¬¬ä¸‰æ¬¡æ¡æ‰‹å¯è®©å®¢æˆ·ç«¯æ‹’ç»æ—§è¯·æ±‚ï¼Œé¿å…èµ„æºæµªè´¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒå‘èƒ½åŠ›éªŒè¯&lt;/strong&gt;ï¼šä¸¤æ¬¡æ¡æ‰‹åªèƒ½ç¡®è®¤å•å‘é€šä¿¡ï¼Œä¸‰æ¬¡ç¡®ä¿åŒæ–¹å‡å…·å¤‡æ”¶å‘èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="tcp-å››æ¬¡æŒ¥æ‰‹è¿æ¥ç»ˆæ­¢"&gt;&lt;strong&gt;TCP å››æ¬¡æŒ¥æ‰‹ï¼ˆè¿æ¥ç»ˆæ­¢ï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼šå…¨åŒå·¥é€šä¿¡éœ€ç‹¬ç«‹å…³é—­ä¸¤ä¸ªæ–¹å‘çš„æ•°æ®æµï¼Œç¡®ä¿å‰©ä½™æ•°æ®ä¼ è¾“å®Œæ¯•ä¸”èµ„æºå®‰å…¨é‡Šæ”¾ã€‚
â€‹&lt;strong&gt;è¿‡ç¨‹&lt;/strong&gt;â€‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;FINï¼ˆå®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»åŠ¨å…³é—­æ–¹ï¼ˆå¦‚å®¢æˆ·ç«¯ï¼‰å‘é€ &lt;code&gt;FIN=1&lt;/code&gt; åŒ…ï¼Œåºåˆ—å· &lt;code&gt;seq=u&lt;/code&gt;ï¼Œè¿›å…¥ &lt;code&gt;FIN_WAIT_1&lt;/code&gt; çŠ¶æ€ï¼Œåœæ­¢å‘é€æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ACKï¼ˆæœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨å›å¤ &lt;code&gt;ACK=1&lt;/code&gt;ï¼Œç¡®è®¤å· &lt;code&gt;ack=u+1&lt;/code&gt;ï¼Œè¿›å…¥ &lt;code&gt;CLOSE_WAIT&lt;/code&gt; çŠ¶æ€ã€‚å®¢æˆ·ç«¯æ”¶åˆ°åè¿›å…¥ &lt;code&gt;FIN_WAIT_2&lt;/code&gt; çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;å…³é”®&lt;/em&gt;ï¼šæ­¤æ—¶æœåŠ¡å™¨ä»å¯å‘é€å‰©ä½™æ•°æ®ï¼ˆå¦‚æœªä¼ å®Œçš„å“åº”ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FINï¼ˆæœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨æ•°æ®å‘é€å®Œæ¯•åï¼Œå‘é€ &lt;code&gt;FIN=1&lt;/code&gt; åŒ…ï¼Œåºåˆ—å· &lt;code&gt;seq=w&lt;/code&gt;ï¼Œè¿›å…¥ &lt;code&gt;LAST_ACK&lt;/code&gt; çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ACKï¼ˆå®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯å›å¤ &lt;code&gt;ACK=1&lt;/code&gt;ï¼Œç¡®è®¤å· &lt;code&gt;ack=w+1&lt;/code&gt;ï¼Œè¿›å…¥ &lt;code&gt;TIME_WAIT&lt;/code&gt; çŠ¶æ€ï¼Œç­‰å¾… &lt;strong&gt;2MSL&lt;/strong&gt;ï¼ˆæœ€å¤§æŠ¥æ–‡ç”Ÿå­˜æ—¶é—´ï¼‰åå…³é—­ã€‚æœåŠ¡å™¨æ”¶åˆ°åç«‹å³å…³é—­ã€‚
&lt;strong&gt;ä¸ºä½•éœ€è¦å››æ¬¡ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®ç¼“å†²å¿…è¦æ€§&lt;/strong&gt;ï¼šæœåŠ¡å™¨æ”¶åˆ° &lt;code&gt;FIN&lt;/code&gt; åéœ€å…ˆç¡®è®¤ï¼ˆç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼‰ï¼Œå†å‘é€å‰©ä½™æ•°æ®ï¼Œæœ€åå‘ &lt;code&gt;FIN&lt;/code&gt;ï¼ˆç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼‰ï¼Œæ— æ³•åˆå¹¶ã€‚&lt;/li&gt;
&lt;li&gt;TIME_WAIT çŠ¶æ€æ„ä¹‰ï¼š
&lt;ul&gt;
&lt;li&gt;ç¡®ä¿æœ€åä¸€ä¸ª &lt;code&gt;ACK&lt;/code&gt; åˆ°è¾¾æœåŠ¡å™¨ï¼ˆè‹¥ä¸¢å¤±ï¼ŒæœåŠ¡å™¨é‡ä¼  &lt;code&gt;FIN&lt;/code&gt;ï¼Œå®¢æˆ·ç«¯å¯å“åº”ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é¿å…æ—§è¿æ¥çš„æ•°æ®åŒ…å¹²æ‰°æ–°è¿æ¥ï¼ˆé€šè¿‡ 2MSL ç­‰å¾…æ—§åŒ…æ¶ˆäº¡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="å…³é”®é—®é¢˜ä¸æ”»å‡»é˜²èŒƒ"&gt;&lt;strong&gt;å…³é”®é—®é¢˜ä¸æ”»å‡»é˜²èŒƒ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;SYN æ”»å‡»ï¼ˆåŠå¼€è¿æ¥æ”»å‡»ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šæ”»å‡»è€…ä¼ªé€ å¤§é‡ &lt;code&gt;SYN&lt;/code&gt; åŒ…ä½†ä¸å®Œæˆæ¡æ‰‹ï¼Œè€—å°½æœåŠ¡å™¨çš„åŠè¿æ¥é˜Ÿåˆ—ï¼ˆ&lt;code&gt;SYN_RCVD&lt;/code&gt; çŠ¶æ€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é˜²å¾¡&lt;/strong&gt;ï¼šå¯ç”¨ &lt;code&gt;SYN Cookie&lt;/code&gt; æˆ–é™åˆ¶åŠè¿æ¥é˜Ÿåˆ—é•¿åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥çŠ¶æ€å¼‚å¸¸&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CLOSE_WAIT è¿‡å¤š&lt;/strong&gt;ï¼šé€šå¸¸å› åº”ç”¨ç¨‹åºæœªæ­£ç¡®å…³é—­è¿æ¥ï¼Œéœ€æ£€æŸ¥ä»£ç é€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TIME_WAIT ç´¯ç§¯&lt;/strong&gt;ï¼šå¯é€šè¿‡è°ƒæ•´å†…æ ¸å‚æ•°å¤ç”¨ç«¯å£ï¼ˆå¦‚ &lt;code&gt;net.ipv4.tcp_tw_reuse&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="æµç¨‹å¯¹æ¯”ä¸çŠ¶æ€æ€»ç»“"&gt;&lt;strong&gt;æµç¨‹å¯¹æ¯”ä¸çŠ¶æ€æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;é˜¶æ®µ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä¸‰æ¬¡æ¡æ‰‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å››æ¬¡æŒ¥æ‰‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¬¬ä¸€æ­¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;SYNï¼ˆå®¢æˆ·ç«¯ï¼‰ â†’ æœåŠ¡å™¨&lt;/td&gt;
&lt;td&gt;FINï¼ˆä¸»åŠ¨æ–¹ï¼‰ â†’ è¢«åŠ¨æ–¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¬¬äºŒæ­¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;SYN+ACKï¼ˆæœåŠ¡å™¨ï¼‰ â†’ å®¢æˆ·ç«¯&lt;/td&gt;
&lt;td&gt;ACKï¼ˆè¢«åŠ¨æ–¹ï¼‰ â†’ ä¸»åŠ¨æ–¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¬¬ä¸‰æ­¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ACKï¼ˆå®¢æˆ·ç«¯ï¼‰ â†’ æœåŠ¡å™¨&lt;/td&gt;
&lt;td&gt;FINï¼ˆè¢«åŠ¨æ–¹ï¼‰ â†’ ä¸»åŠ¨æ–¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¬¬å››æ­¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;ACKï¼ˆä¸»åŠ¨æ–¹ï¼‰ â†’ è¢«åŠ¨æ–¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç»“æŸçŠ¶æ€&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŒæ–¹ ESTABLISHED&lt;/td&gt;
&lt;td&gt;ä¸»åŠ¨æ–¹ TIME_WAIT â†’ CLOSED&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„ &lt;code&gt;ACK&lt;/code&gt; å¯æºå¸¦æ•°æ®ï¼ˆå¦‚ HTTP è¯·æ±‚ï¼‰ï¼Œè€ŒæŒ¥æ‰‹çš„ &lt;code&gt;FIN&lt;/code&gt; ä»…è¡¨ç¤ºæ•°æ®æµç»ˆæ­¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;TCP é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹è§£å†³ä¿¡é“ä¸å¯é ä¸‹çš„è¿æ¥åˆå§‹åŒ–é—®é¢˜ï¼Œé€šè¿‡å››æ¬¡æŒ¥æ‰‹é€‚åº”å…¨åŒå·¥é€šä¿¡çš„å¼‚æ­¥å…³é—­éœ€æ±‚ã€‚ç†è§£å…¶è®¾è®¡é€»è¾‘ï¼Œå¯¹ä¼˜åŒ–é«˜å¹¶å‘æœåŠ¡ï¼ˆå¦‚è°ƒæ•´ &lt;code&gt;backlog&lt;/code&gt; é˜Ÿåˆ—ï¼‰å’Œè¯Šæ–­ç½‘ç»œæ•…éšœï¼ˆå¦‚ &lt;code&gt;CLOSE_WAIT&lt;/code&gt; å †ç§¯ï¼‰è‡³å…³é‡è¦ã€‚&lt;/p&gt;
&lt;h2 id="syn-cookies"&gt;SYN Cookies
&lt;/h2&gt;&lt;p&gt;SYN Cookies æ˜¯ä¸€ç§ç”¨äºé˜²å¾¡ &lt;strong&gt;SYN Flood æ”»å‡»&lt;/strong&gt;ï¼ˆä¸€ç§å¸¸è§çš„ DoS/DDoS æ”»å‡»ï¼‰çš„æ— çŠ¶æ€æŠ€æœ¯ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡&lt;strong&gt;ä¸åˆ†é…èµ„æº&lt;/strong&gt;çš„æ–¹å¼éªŒè¯å®¢æˆ·ç«¯è¿æ¥çš„åˆæ³•æ€§ï¼Œä»è€Œé¿å…æœåŠ¡å™¨èµ„æºè¢«æ¶æ„è€—å°½ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒåŸç†ä¸å·¥ä½œæœºåˆ¶çš„è¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-äº§ç”ŸèƒŒæ™¯syn-flood-æ”»å‡»çš„å¨èƒ"&gt;ğŸ” &lt;strong&gt;äº§ç”ŸèƒŒæ™¯ï¼šSYN Flood æ”»å‡»çš„å¨èƒ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ”»å‡»åŸç†&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ”»å‡»è€…ä¼ªé€ å¤§é‡æº IP å‘é€ SYN è¿æ¥è¯·æ±‚ï¼ŒæœåŠ¡å™¨å“åº” SYN+ACK åå› æº IP è™šå‡æ— æ³•æ”¶åˆ° ACK ç¡®è®¤ï¼Œå¯¼è‡´åŠè¿æ¥é˜Ÿåˆ—è¢«å æ»¡ã€‚&lt;/li&gt;
&lt;li&gt;ä¼ ç»ŸæœåŠ¡å™¨éœ€ä¸ºæ¯ä¸ª SYN åˆ†é…å†…å­˜ï¼ˆå­˜å‚¨è¿æ¥çŠ¶æ€ï¼‰ï¼Œæ”»å‡»è€—å°½èµ„æºåæ­£å¸¸ç”¨æˆ·æ— æ³•å»ºç«‹è¿æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®é—®é¢˜&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä½•åœ¨ä¸æ¶ˆè€—èµ„æºçš„å‰æä¸‹éªŒè¯åç»­ ACK çš„æœ‰æ•ˆæ€§ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•ä¿ç•™ SYN åŒ…ä¸­çš„å…³é”®å‚æ•°ï¼ˆå¦‚ MSS å€¼ï¼‰ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-syn-cookies-çš„å·¥ä½œåŸç†"&gt;âš™ï¸ &lt;strong&gt;SYN Cookies çš„å·¥ä½œåŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="cookie-ç”Ÿæˆé˜¶æ®µæœåŠ¡å™¨æ”¶åˆ°-syn-åŒ…"&gt;&lt;strong&gt;Cookie ç”Ÿæˆé˜¶æ®µï¼ˆæœåŠ¡å™¨æ”¶åˆ° SYN åŒ…ï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;æœåŠ¡å™¨ä¸åˆ†é…å†…å­˜ï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ä¸ª&lt;strong&gt;åŠ å¯†çš„åºåˆ—å·ï¼ˆCookieï¼‰&lt;/strong&gt; ä½œä¸º SYN+ACK çš„åˆå§‹åºåˆ—å·ï¼ˆISNï¼‰ã€‚
â€‹&lt;strong&gt;Cookie çš„ç¼–ç è§„åˆ™&lt;/strong&gt;â€‹ï¼ˆ32 ä½åºåˆ—å·ç»“æ„ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é«˜ 5 ä½&lt;/strong&gt;ï¼šæ—¶é—´æˆ³ &lt;code&gt;t mod 32&lt;/code&gt;ï¼ˆ&lt;code&gt;t = time() &amp;gt;&amp;gt; 6&lt;/code&gt;ï¼Œæ¯ 64 ç§’æ›´æ–°ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸­ 3 ä½&lt;/strong&gt;ï¼šMSSï¼ˆæœ€å¤§åˆ†æ®µå¤§å°ï¼‰çš„ç¼–ç å€¼ï¼ˆä»…æ”¯æŒ 8 ç§ MSS é€‰é¡¹ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½ 24 ä½&lt;/strong&gt;ï¼šå“ˆå¸Œå€¼ &lt;code&gt;s = Hash(Secret + è¿æ¥å…ƒç»„ + t)&lt;/code&gt;
ï¼ˆè¿æ¥å…ƒç»„ï¼šæº/ç›®çš„ IP + ç«¯å£ï¼ŒSecret ä¸ºæœåŠ¡å™¨å¯†é’¥ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;graph LR
SYNåŒ… --&amp;gt;|æå–å…ƒç»„| ç”ŸæˆCookie
ç”ŸæˆCookie --&amp;gt;|ç¼–ç | åºåˆ—å·[32ä½åºåˆ—å·]
åºåˆ—å· --&amp;gt;|å‘é€| SYN+ACKå“åº”
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="cookie-éªŒè¯é˜¶æ®µæœåŠ¡å™¨æ”¶åˆ°-ack-åŒ…"&gt;&lt;strong&gt;Cookie éªŒè¯é˜¶æ®µï¼ˆæœåŠ¡å™¨æ”¶åˆ° ACK åŒ…ï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;å®¢æˆ·ç«¯è¿”å› ACK æ—¶éœ€æºå¸¦ &lt;code&gt;ack = ISN + 1&lt;/code&gt;ï¼ŒæœåŠ¡å™¨é€šè¿‡ &lt;code&gt;ack - 1&lt;/code&gt; è¿˜åŸ Cookie å¹¶éªŒè¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ—¶é—´æœ‰æ•ˆæ€§&lt;/strong&gt;ï¼šæ£€æŸ¥é«˜ 5 ä½æ—¶é—´æˆ³æ˜¯å¦åœ¨åˆç†çª—å£å†…ï¼ˆé˜²é‡æ”¾æ”»å‡»ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å“ˆå¸Œä¸€è‡´æ€§&lt;/strong&gt;ï¼šç”¨ç›¸åŒå¯†é’¥å’Œè¿æ¥å…ƒç»„é‡æ–°è®¡ç®—å“ˆå¸Œï¼Œå¯¹æ¯”ä½ 24 ä½æ˜¯å¦åŒ¹é…ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MSS è§£ç &lt;/strong&gt;ï¼šä»ä¸­ 3 ä½è¿˜åŸ MSS å€¼ç”¨äºåç»­è¿æ¥ã€‚
éªŒè¯é€šè¿‡åï¼ŒæœåŠ¡å™¨æ‰åˆ†é…èµ„æºå»ºç«‹å®Œæ•´è¿æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æŠ€æœ¯ä¼˜åŠ¿ä¸ç¼ºé™·"&gt;âš–ï¸ &lt;strong&gt;æŠ€æœ¯ä¼˜åŠ¿ä¸ç¼ºé™·&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="-æ ¸å¿ƒä¼˜åŠ¿"&gt;&lt;strong&gt;âœ… æ ¸å¿ƒä¼˜åŠ¿&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å®Œå…¨æ— çŠ¶æ€&lt;/strong&gt;
ä¸ç»´æŠ¤åŠè¿æ¥é˜Ÿåˆ—ï¼Œå•æœåŠ¡å™¨å¯æŠµå¾¡ç™¾ä¸‡çº§ SYN æ”»å‡»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºé«˜æ•ˆ&lt;/strong&gt;
å†…å­˜å ç”¨é™ä½ 90% ä»¥ä¸Šï¼Œä»…éœ€å°‘é‡ CPU è®¡ç®—å“ˆå¸Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¼å®¹æ€§å¼º&lt;/strong&gt;
æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯åè®®ï¼Œå¯¹æ­£å¸¸ç”¨æˆ·é€æ˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="-å›ºæœ‰ç¼ºé™·"&gt;&lt;strong&gt;âŒ å›ºæœ‰ç¼ºé™·&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;åŠŸèƒ½é™åˆ¶
&lt;ul&gt;
&lt;li&gt;MSS ä»…æ”¯æŒ 8 ç§å–å€¼ï¼ˆ3 ä½ç¼–ç é™åˆ¶ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;æ— æ³•æ”¯æŒ TCP é«˜çº§é€‰é¡¹ï¼ˆå¦‚çª—å£ç¼©æ”¾ã€æ—¶é—´æˆ³ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½å¼€é”€&lt;/strong&gt;
å“ˆå¸Œè®¡ç®—å¢åŠ çº¦ 10% CPU è´Ÿè½½ï¼Œé«˜å¹¶å‘æ—¶å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯é æ€§é£é™©&lt;/strong&gt;
è‹¥å®¢æˆ·ç«¯ ACK ä¸¢å¤±ï¼ŒæœåŠ¡å™¨ä¸é‡ä¼  SYN+ACKï¼ˆå› æ— çŠ¶æ€ï¼‰ï¼Œå®¢æˆ·ç«¯éœ€è¶…æ—¶é‡è¯•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å®é™…åº”ç”¨ä¸æ¼”è¿›"&gt;ğŸŒ &lt;strong&gt;å®é™…åº”ç”¨ä¸æ¼”è¿›&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="å¯ç”¨æ–¹å¼linux-ç³»ç»Ÿ"&gt;&lt;strong&gt;å¯ç”¨æ–¹å¼ï¼ˆLinux ç³»ç»Ÿï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;sysctl -w net.ipv4.tcp_syncookies=1 # 1ï¼šè‡ªåŠ¨å¯ç”¨ï¼ˆåŠè¿æ¥é˜Ÿåˆ—æ»¡æ—¶è§¦å‘ï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="é€‚ç”¨åœºæ™¯"&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å…¬ç½‘æš´éœ²æœåŠ¡ï¼ˆWeb æœåŠ¡å™¨ã€DNS æœåŠ¡å™¨ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;äº‘å¹³å°ã€CDN èŠ‚ç‚¹ç­‰é«˜é¢‘æ”»å‡»ç›®æ ‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="æŠ€æœ¯æ¼”è¿›"&gt;&lt;strong&gt;æŠ€æœ¯æ¼”è¿›&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€å¯†é’¥æ›´æ–°&lt;/strong&gt;ï¼šå®šæœŸæ›´æ¢ Secret æå‡ç ´è§£éš¾åº¦ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP Cookie Transaction (TCPCT)&lt;/strong&gt;ï¼šä¸“ä¸ºè§£å†³ SYN Cookies ç¼ºé™·è®¾è®¡ï¼Œéœ€åŒæ–¹æ”¯æŒï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸ TFOï¼ˆTCP Fast Openï¼‰ç»“åˆ&lt;/strong&gt;ï¼šä¼˜åŒ–é¦–æ¬¡è¿æ¥å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;SYN Cookies æ˜¯ TCP åè®®å¯¹æŠ— SYN Flood æ”»å‡»çš„ &lt;strong&gt;â€œæ— çŠ¶æ€ç›¾ç‰Œâ€&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ›¡ï¸ &lt;strong&gt;æ ¸å¿ƒä»·å€¼&lt;/strong&gt;ï¼šç‰ºç‰²éƒ¨åˆ†åŠŸèƒ½ï¼ˆMSS/é€‰é¡¹æ”¯æŒï¼‰ï¼Œæ¢å–æŠ—æ”»å‡»èƒ½åŠ›ä¸èµ„æºæ•ˆç‡ï¼›&lt;/li&gt;
&lt;li&gt;âš¡ &lt;strong&gt;é€‚ç”¨é€»è¾‘&lt;/strong&gt;ï¼šåœ¨èµ„æºè€—å°½é£é™©ï¼ˆæ”»å‡»ï¼‰ä¸åŠŸèƒ½å®Œæ•´æ€§é—´åŠ¨æ€æƒè¡¡ï¼›&lt;/li&gt;
&lt;li&gt;ğŸ”® &lt;strong&gt;æœªæ¥æ–¹å‘&lt;/strong&gt;ï¼šç»“åˆ TCPCTã€åŠ¨æ€å¯†é’¥åˆ†å±‚é˜²å¾¡ï¼Œæ„å»ºæ›´å¥å£®çš„æŠ— DDoS ä½“ç³»ã€‚
&lt;strong&gt;è¿ç»´å»ºè®®&lt;/strong&gt;ï¼šå…¬ç½‘æœåŠ¡åº”é»˜è®¤å¯ç”¨ SYN Cookiesï¼ŒåŒæ—¶ç›‘æ§ &lt;code&gt;netstat -s | grep &amp;quot;SYNs to LISTEN&amp;quot;&lt;/code&gt; ç»Ÿè®¡åŠè¿æ¥ä¸¢å¼ƒæƒ…å†µï¼ŒåŠæ—¶æ‰©å®¹æˆ–è”åŠ¨é˜²ç«å¢™ç­–ç•¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id="æµé‡æ§åˆ¶--æ‹¥å¡æ§åˆ¶"&gt;æµé‡æ§åˆ¶ &amp;amp; æ‹¥å¡æ§åˆ¶
&lt;/h2&gt;&lt;p&gt;TCPæµé‡æ§åˆ¶ä¸æ‹¥å¡æ§åˆ¶æ˜¯ä¿è¯ç½‘ç»œæ•°æ®ä¼ è¾“å¯é æ€§å’Œæ•ˆç‡çš„ä¸¤å¤§æ ¸å¿ƒæœºåˆ¶ï¼ŒäºŒè€…è™½ååŒå·¥ä½œä½†ç›®æ ‡ã€ä½œç”¨èŒƒå›´åŠå®ç°æ–¹å¼å­˜åœ¨æœ¬è´¨å·®å¼‚ã€‚ä»¥ä¸‹æ˜¯å…·ä½“å¯¹æ¯”åˆ†æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒç›®æ ‡ä¸ä½œç”¨èŒƒå›´å¯¹æ¯”"&gt;ğŸ“¡ &lt;strong&gt;æ ¸å¿ƒç›®æ ‡ä¸ä½œç”¨èŒƒå›´å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç»´åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æµé‡æ§åˆ¶ (Flow Control)&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ‹¥å¡æ§åˆ¶ (Congestion Control)&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ ¸å¿ƒç›®æ ‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é˜²æ­¢&lt;strong&gt;å‘é€æ–¹é€Ÿç‡è¿‡å¿«&lt;/strong&gt;å¯¼è‡´æ¥æ”¶æ–¹ç¼“å†²åŒºæº¢å‡ºå’Œæ•°æ®ä¸¢å¤±&lt;/td&gt;
&lt;td&gt;é¿å…&lt;strong&gt;ç½‘ç»œæ•´ä½“è¿‡è½½&lt;/strong&gt;ï¼Œé˜²æ­¢å› è·¯ç”±å™¨æ‹¥å¡å¼•å‘ä¸¢åŒ…å’Œå»¶è¿Ÿæ¿€å¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä½œç”¨èŒƒå›´&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;ç«¯åˆ°ç«¯&lt;/strong&gt;ï¼ˆå‘é€æ–¹ä¸æ¥æ”¶æ–¹ä¹‹é—´ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;å…¨å±€æ€§&lt;/strong&gt;ï¼ˆå…³æ³¨ç½‘ç»œé“¾è·¯å’Œè·¯ç”±å™¨çš„çŠ¶æ€ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è§¦å‘åŸå› &lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¥æ”¶æ–¹å¤„ç†èƒ½åŠ›ä¸è¶³ï¼ˆç¼“å†²åŒºå¿«æ»¡æ—¶é€šå‘Šå°çª—å£ï¼‰&lt;/td&gt;
&lt;td&gt;ç½‘ç»œæ‹¥å¡ä¿¡å·ï¼ˆå¦‚ä¸¢åŒ…ã€å»¶è¿Ÿå¢åŠ æˆ–é‡å¤ACKï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-å®ç°æœºåˆ¶å¯¹æ¯”"&gt;ğŸ”§ &lt;strong&gt;å®ç°æœºåˆ¶å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="æµé‡æ§åˆ¶æ»‘åŠ¨çª—å£æœºåˆ¶"&gt;&lt;strong&gt;æµé‡æ§åˆ¶ï¼šæ»‘åŠ¨çª—å£æœºåˆ¶&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒåŸç†&lt;/strong&gt;ï¼šæ¥æ”¶æ–¹é€šè¿‡TCPå¤´éƒ¨ä¸­çš„&lt;strong&gt;çª—å£å­—æ®µï¼ˆWindow Sizeï¼‰&lt;/strong&gt; åŠ¨æ€å‘ŠçŸ¥å‘é€æ–¹å¯æ¥æ”¶çš„æ•°æ®é‡ä¸Šé™ï¼ˆrwndï¼‰ã€‚å‘é€æ–¹æ®æ­¤è°ƒæ•´å‘é€çª—å£ï¼Œç¡®ä¿æœªç¡®è®¤æ•°æ®é‡ä¸è¶…è¿‡rwndã€‚&lt;/li&gt;
&lt;li&gt;åŠ¨æ€è°ƒæ•´ï¼š
&lt;ul&gt;
&lt;li&gt;è‹¥æ¥æ”¶æ–¹ç¼“å†²åŒºç´§å¼ ï¼Œçª—å£ç¼©å° â†’ å‘é€æ–¹é™é€Ÿï¼›&lt;/li&gt;
&lt;li&gt;è‹¥ç¼“å†²åŒºç©ºé—²ï¼Œçª—å£æ‰©å¤§ â†’ å‘é€æ–¹æé€Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æç«¯æƒ…å†µ&lt;/strong&gt;ï¼šçª—å£ä¸º0æ—¶ï¼Œå‘é€æ–¹æš‚åœå‘é€ï¼Œå¹¶å‘¨æœŸæ€§æ¢æµ‹æ¥æ”¶æ–¹çª—å£çŠ¶æ€ï¼ˆZero Window Probingï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="æ‹¥å¡æ§åˆ¶æ‹¥å¡çª—å£ç®—æ³•"&gt;&lt;strong&gt;æ‹¥å¡æ§åˆ¶ï¼šæ‹¥å¡çª—å£ç®—æ³•&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒå˜é‡&lt;/strong&gt;ï¼šå‘é€æ–¹ç»´æŠ¤&lt;strong&gt;æ‹¥å¡çª—å£ï¼ˆcwndï¼‰&lt;/strong&gt;ï¼Œè¡¨ç¤ºå½“å‰å…è®¸å‘é€çš„æœªç¡®è®¤æ•°æ®é‡ä¸Šé™ï¼Œå®é™…å‘é€çª—å£å– &lt;code&gt;min(cwnd, rwnd)&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ ¸å¿ƒç®—æ³•ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ…¢å¯åŠ¨ï¼ˆSlow Startï¼‰&lt;/strong&gt;ï¼šè¿æ¥åˆå§‹æˆ–è¶…æ—¶åï¼Œcwndä»1 MSSå¼€å§‹ï¼Œæ¯RTTæŒ‡æ•°å¢é•¿ï¼ˆæ”¶åˆ°1ä¸ªACKï¼Œcwnd+1ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹¥å¡é¿å…ï¼ˆCongestion Avoidanceï¼‰&lt;/strong&gt;ï¼šcwnd â‰¥ æ…¢å¯åŠ¨é˜ˆå€¼ï¼ˆssthreshï¼‰åï¼Œæ¯RTTçº¿æ€§å¢é•¿ï¼ˆæ¯ACKä½¿cwnd +1/cwndï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¿«é‡ä¼ ä¸å¿«æ¢å¤ï¼ˆFast Retransmit/Recoveryï¼‰&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°&lt;strong&gt;3æ¬¡é‡å¤ACK&lt;/strong&gt; â†’ ç«‹å³é‡ä¼ ä¸¢å¤±åŒ…ï¼ˆå¿«é‡ä¼ ï¼‰ï¼›
&lt;ul&gt;
&lt;li&gt;å°†ssthreshè®¾ä¸ºå½“å‰cwndä¸€åŠï¼Œcwnd = ssthresh + 3ï¼Œè¿›å…¥æ‹¥å¡é¿å…ï¼ˆå¿«æ¢å¤ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¶…æ—¶é‡ä¼ &lt;/strong&gt;ï¼šä¸¥é‡æ‹¥å¡æ—¶ï¼ˆè¶…æ—¶å‘ç”Ÿï¼‰ï¼Œcwndé‡ç½®ä¸º1ï¼Œssthreshå‡åŠï¼Œé‡å¯æ…¢å¯åŠ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-ååŒå·¥ä½œåŸç†"&gt;ğŸ¤ &lt;strong&gt;ååŒå·¥ä½œåŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;äºŒè€…å…±åŒçº¦æŸå‘é€çª—å£ï¼Œä½†åˆ†å·¥æ˜ç¡®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æµé‡æ§åˆ¶&lt;/strong&gt;å…³æ³¨&lt;strong&gt;æ¥æ”¶ç«¯å¤„ç†èƒ½åŠ›&lt;/strong&gt;ï¼ˆrwndï¼‰ï¼Œé¿å…æœ¬åœ°ç¼“å†²åŒºæº¢å‡ºï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹¥å¡æ§åˆ¶&lt;/strong&gt;å…³æ³¨&lt;strong&gt;ç½‘ç»œæ‰¿è½½èƒ½åŠ›&lt;/strong&gt;ï¼ˆcwndï¼‰ï¼Œé¿å…å…¨å±€æ‹¥å¡ã€‚
â€‹&lt;strong&gt;å®é™…å‘é€é€Ÿç‡&lt;/strong&gt;ç”±äºŒè€…å…±åŒå†³å®šï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;\text{å‘é€çª—å£} = \min(\text{rwnd}, \text{cwnd})
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;âœ… &lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼šè‹¥rwnd=10 KBï¼Œcwnd=8 KBï¼Œåˆ™å‘é€æ–¹æœ€å¤šå‘é€8 KBæ•°æ®ï¼›è‹¥ç½‘ç»œä¸¢åŒ…å¯¼è‡´cwndé™è‡³4 KBï¼Œå³ä½¿rwnd=10 KBï¼Œå‘é€é‡ä»å—cwndé™åˆ¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å…¸å‹åœºæ™¯ä¸é—®é¢˜åˆ†æ"&gt;âš ï¸ &lt;strong&gt;å…¸å‹åœºæ™¯ä¸é—®é¢˜åˆ†æ&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æµé‡æ§åˆ¶&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ‹¥å¡æ§åˆ¶&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ¥æ”¶æ–¹ç¼“å†²åŒºæ»¡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¥æ”¶æ–¹é€šå‘Šrwnd=0ï¼Œå‘é€æ–¹æš‚åœæ•°æ®å‘é€&lt;/td&gt;
&lt;td&gt;æ— ç›´æ¥å½±å“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç½‘ç»œè·¯ç”±å™¨ä¸¢åŒ…&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ— ç›´æ¥å½±å“&lt;/td&gt;
&lt;td&gt;è§¦å‘å¿«é‡ä¼ /è¶…æ—¶é‡ä¼ ï¼Œé™ä½cwnd&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é«˜å»¶è¿Ÿé“¾è·¯ï¼ˆå¦‚å«æ˜Ÿï¼‰&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éœ€å¢å¤§æ¥æ”¶çª—å£ï¼ˆå¦‚å¯ç”¨TCPçª—å£ç¼©æ”¾é€‰é¡¹ï¼‰&lt;/td&gt;
&lt;td&gt;éœ€ä¼˜åŒ–æ‹¥å¡ç®—æ³•ï¼ˆå¦‚BBRæ›¿ä»£CUBICï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“æ ¸å¿ƒåŒºåˆ«"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šæ ¸å¿ƒåŒºåˆ«&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;å¯¹æ¯”é¡¹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;æµé‡æ§åˆ¶&lt;/th&gt;
&lt;th&gt;æ‹¥å¡æ§åˆ¶&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ§åˆ¶ç›®æ ‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŒ¹é…&lt;strong&gt;æ”¶å‘åŒæ–¹é€Ÿç‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¹³è¡¡&lt;strong&gt;ç½‘ç»œè´Ÿè½½&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä½œç”¨å±‚çº§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¼ è¾“å±‚ç«¯åˆ°ç«¯&lt;/td&gt;
&lt;td&gt;ç½‘ç»œå±‚å…¨å±€æ€§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åé¦ˆä¿¡å·&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¥æ”¶æ–¹çª—å£å¤§å°ï¼ˆrwndï¼‰&lt;/td&gt;
&lt;td&gt;ç½‘ç»œæ‹¥å¡æŒ‡æ ‡ï¼ˆä¸¢åŒ…ã€å»¶è¿Ÿï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…³é”®æœºåˆ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ»‘åŠ¨çª—å£&lt;/td&gt;
&lt;td&gt;æ…¢å¯åŠ¨/æ‹¥å¡é¿å…/å¿«æ¢å¤&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;æœ¬è´¨&lt;/strong&gt;ï¼šæµé‡æ§åˆ¶æ˜¯&lt;strong&gt;æ¥æ”¶æ–¹é©±åŠ¨çš„æœ¬åœ°ä¿æŠ¤&lt;/strong&gt;ï¼Œæ‹¥å¡æ§åˆ¶æ˜¯&lt;strong&gt;ç½‘ç»œé©±åŠ¨çš„å…¨å±€åè°ƒ&lt;/strong&gt;ã€‚äºŒè€…å¦‚åŒæ±½è½¦çš„&lt;strong&gt;åˆ¹è½¦ï¼ˆæµé‡æ§åˆ¶ï¼‰&lt;/strong&gt; å’Œ &lt;strong&gt;å¯¼èˆªç³»ç»Ÿï¼ˆæ‹¥å¡æ§åˆ¶ï¼‰&lt;/strong&gt; ï¼Œåˆ†åˆ«ç¡®ä¿ä¸æ’ä¸Šå‰è½¦ï¼ˆæ¥æ”¶æ–¹ï¼‰å’Œä¸å µå¡æ•´æ¡è·¯ï¼ˆç½‘ç»œï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="rwnd--cwnd"&gt;rwnd &amp;amp; cwnd
&lt;/h2&gt;&lt;p&gt;æ˜¯çš„ï¼ŒTCP å‘é€æ–¹çš„å®é™…å‘é€çª—å£å¤§å°ï¼ˆEffective Windowï¼‰æ˜¯ç”± &lt;strong&gt;æ¥æ”¶çª—å£ï¼ˆrwndï¼‰&lt;/strong&gt; å’Œ &lt;strong&gt;æ‹¥å¡çª—å£ï¼ˆcwndï¼‰&lt;/strong&gt; çš„æœ€å°å€¼å†³å®šçš„ï¼Œå³ï¼š
â€‹&lt;strong&gt;Effective Window = min(rwnd, cwnd)â€‹&lt;/strong&gt;â€‹
è¿™ä¸€æœºåˆ¶æ˜¯ TCP åè®®åŒæ—¶å®ç°&lt;strong&gt;æµé‡æ§åˆ¶&lt;/strong&gt;å’Œ&lt;strong&gt;æ‹¥å¡æ§åˆ¶&lt;/strong&gt;çš„æ ¸å¿ƒè®¾è®¡ï¼Œç›®çš„æ˜¯å¹³è¡¡æ¥æ”¶ç«¯å¤„ç†èƒ½åŠ›ä¸ç½‘ç»œæ‰¿è½½èƒ½åŠ›ï¼Œé¿å…å› ä»»æ„ä¸€æ–¹è¿‡è½½å¯¼è‡´æ€§èƒ½ä¸‹é™æˆ–å´©æºƒã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸ºä»€ä¹ˆå–æœ€å°å€¼"&gt;ğŸ” &lt;strong&gt;ä¸ºä»€ä¹ˆå–æœ€å°å€¼ï¼Ÿ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æµé‡æ§åˆ¶éœ€æ±‚ï¼ˆrwnd é™åˆ¶ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rwnd&lt;/code&gt; ç”±æ¥æ”¶æ–¹é€šè¿‡ TCP å¤´éƒ¨å­—æ®µåŠ¨æ€é€šå‘Šï¼Œè¡¨ç¤ºå…¶å½“å‰å¯ç”¨çš„ç¼“å†²åŒºç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;è‹¥å‘é€æ–¹å¿½ç•¥ &lt;code&gt;rwnd&lt;/code&gt;ï¼ŒæŒç»­å‘é€è¶…è¿‡æ¥æ”¶æ–¹å¤„ç†èƒ½åŠ›çš„æ•°æ®ï¼Œä¼šå¯¼è‡´æ¥æ”¶æ–¹ç¼“å†²åŒºæº¢å‡ºï¼Œè§¦å‘ä¸¢åŒ…å’Œé‡ä¼ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹¥å¡æ§åˆ¶éœ€æ±‚ï¼ˆcwnd é™åˆ¶ï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cwnd&lt;/code&gt; ç”±å‘é€æ–¹æ ¹æ®ç½‘ç»œæ‹¥å¡ç¨‹åº¦ï¼ˆå¦‚ä¸¢åŒ…ã€å»¶è¿Ÿï¼‰åŠ¨æ€è°ƒæ•´ã€‚&lt;/li&gt;
&lt;li&gt;è‹¥å¿½ç•¥ &lt;code&gt;cwnd&lt;/code&gt; ç›²ç›®æŒ‰ &lt;code&gt;rwnd&lt;/code&gt; å‘é€ï¼Œå¯èƒ½å‹å®ä¸­é—´è·¯ç”±å™¨æˆ–é“¾è·¯ï¼Œå¼•å‘ç½‘ç»œæ‹¥å¡å´©æºƒï¼ˆå¦‚ä¸¢åŒ…ç‡æ¿€å¢ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ååŒä¿æŠ¤æœºåˆ¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å–æœ€å°å€¼ç¡®ä¿å‘é€é€Ÿç‡åŒæ—¶æ»¡è¶³ï¼š
&lt;ul&gt;
&lt;li&gt;âœ… &lt;strong&gt;ä¸å‹å®æ¥æ”¶æ–¹&lt;/strong&gt;ï¼ˆå— &lt;code&gt;rwnd&lt;/code&gt; çº¦æŸï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;âœ… &lt;strong&gt;ä¸å‹å®ç½‘ç»œ&lt;/strong&gt;ï¼ˆå— &lt;code&gt;cwnd&lt;/code&gt; çº¦æŸï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-rwnd-ä¸-cwnd-çš„åŒºåˆ«ä¸ååŒ"&gt;âš™ï¸ &lt;strong&gt;rwnd ä¸ cwnd çš„åŒºåˆ«ä¸ååŒ&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ¥æ”¶çª—å£ (rwnd)&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ‹¥å¡çª—å£ (cwnd)&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ§åˆ¶æ–¹&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¥æ”¶ç«¯ï¼ˆé€šè¿‡ ACK æŠ¥æ–‡é€šå‘Šï¼‰&lt;/td&gt;
&lt;td&gt;å‘é€ç«¯ï¼ˆæ ¹æ®ç½‘ç»œçŠ¶æ€åŠ¨æ€è®¡ç®—ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é˜²æ­¢æ¥æ”¶æ–¹ç¼“å†²åŒºæº¢å‡ºï¼ˆæµé‡æ§åˆ¶ï¼‰&lt;/td&gt;
&lt;td&gt;é˜²æ­¢ç½‘ç»œæ‹¥å¡ï¼ˆæ‹¥å¡æ§åˆ¶ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŠ¨æ€æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éšæ¥æ”¶æ–¹ç¼“å†²åŒºç©ºé—²ç©ºé—´å˜åŒ–&lt;/td&gt;
&lt;td&gt;é€šè¿‡æ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ç­‰ç®—æ³•è°ƒæ•´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å½±å“å› ç´ &lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åº”ç”¨å±‚è¯»å–é€Ÿåº¦ã€ç³»ç»Ÿå†…å­˜èµ„æº&lt;/td&gt;
&lt;td&gt;ç½‘ç»œä¸¢åŒ…ç‡ã€RTT å»¶è¿Ÿã€å¸¦å®½å®¹é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id="ååŒå·¥ä½œæµç¨‹"&gt;&lt;strong&gt;ååŒå·¥ä½œæµç¨‹&lt;/strong&gt;ï¼š
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;è¿æ¥å»ºç«‹æ—¶ï¼Œ&lt;code&gt;cwnd&lt;/code&gt; è¾ƒå°ï¼ˆå¦‚ 1 MSSï¼‰ï¼Œ&lt;code&gt;rwnd&lt;/code&gt; é€šå¸¸è¾ƒå¤§ï¼ˆå¦‚ 64KBï¼‰ â†’ å‘é€é€Ÿç‡ç”± &lt;code&gt;cwnd&lt;/code&gt; ä¸»å¯¼ï¼›&lt;/li&gt;
&lt;li&gt;æ…¢å¯åŠ¨é˜¶æ®µï¼š&lt;code&gt;cwnd&lt;/code&gt; æŒ‡æ•°å¢é•¿ï¼ˆæ¯ RTT ç¿»å€ï¼‰ï¼Œç›´è‡³æ¥è¿‘ &lt;code&gt;rwnd&lt;/code&gt; æˆ–è§¦å‘æ‹¥å¡äº‹ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;ç¨³å®šé˜¶æ®µï¼šè‹¥ç½‘ç»œé€šç•…ï¼Œ&lt;code&gt;cwnd&lt;/code&gt; å¯èƒ½è¶…è¿‡ &lt;code&gt;rwnd&lt;/code&gt; â†’ å‘é€é€Ÿç‡ç”± &lt;code&gt;rwnd&lt;/code&gt; ä¸»å¯¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-ç‰¹æ®Šåœºæ™¯ä¸é—®é¢˜"&gt;âš ï¸ &lt;strong&gt;ç‰¹æ®Šåœºæ™¯ä¸é—®é¢˜&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é›¶çª—å£ï¼ˆZero Windowï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å½“ &lt;code&gt;rwnd = 0&lt;/code&gt;ï¼ˆæ¥æ”¶æ–¹ç¼“å†²åŒºæ»¡ï¼‰ï¼Œå‘é€æ–¹æš‚åœå‘é€ï¼Œå¹¶å‘¨æœŸæ€§å‘é€ &lt;strong&gt;1 å­—èŠ‚æ¢æµ‹åŒ…&lt;/strong&gt;ï¼Œç­‰å¾…æ¥æ”¶æ–¹é€šå‘Šæ–° &lt;code&gt;rwnd&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é£é™©&lt;/strong&gt;ï¼šè‹¥æœªæ­£ç¡®å¤„ç†ï¼Œå¯èƒ½å¯¼è‡´è¿æ¥å‡æ­»ï¼ˆä½† TCP æœ‰æ¢æµ‹æœºåˆ¶é¿å…æ°¸ä¹…é˜»å¡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;cwnd ä¸»å¯¼çš„åœºæ™¯&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é«˜å»¶è¿Ÿç½‘ç»œ&lt;/strong&gt;ï¼ˆå¦‚å«æ˜Ÿé€šä¿¡ï¼‰ï¼š&lt;code&gt;cwnd&lt;/code&gt; å¢é•¿ç¼“æ…¢ï¼Œå³ä½¿ &lt;code&gt;rwnd&lt;/code&gt; å¾ˆå¤§ï¼Œå®é™…é€Ÿç‡ä»å—ç½‘ç»œé™åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹¥å¡äº‹ä»¶å&lt;/strong&gt;ï¼šä¸¢åŒ…å¯¼è‡´ &lt;code&gt;cwnd&lt;/code&gt; éª¤é™ï¼ˆå¦‚å‡åŠï¼‰ï¼Œå‘é€é€Ÿç‡æ€¥å‰§ä¸‹é™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;rwnd ä¸»å¯¼çš„åœºæ™¯&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å°å†…å­˜è®¾å¤‡&lt;/strong&gt;ï¼šæ¥æ”¶æ–¹ç¼“å†²åŒºæœ‰é™ï¼ˆå¦‚ IoT è®¾å¤‡ï¼‰ï¼Œ&lt;code&gt;rwnd&lt;/code&gt; è¾ƒå°ï¼Œæˆä¸ºç“¶é¢ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ…¢é€Ÿåº”ç”¨&lt;/strong&gt;ï¼šæ¥æ”¶æ–¹åº”ç”¨å±‚å¤„ç†æ•°æ®æ…¢ â†’ &lt;code&gt;rwnd&lt;/code&gt; æŒç»­è¾ƒå°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å®é™…åº”ç”¨ä¸ä¼˜åŒ–"&gt;ğŸ’¡ &lt;strong&gt;å®é™…åº”ç”¨ä¸ä¼˜åŒ–&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ç›‘æ§å·¥å…·ï¼š
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;netstat -an&lt;/code&gt; æˆ– Wireshark æŸ¥çœ‹å®æ—¶ &lt;code&gt;rwnd&lt;/code&gt;ï¼ˆTCP å¤´éƒ¨ Window Size å­—æ®µï¼‰å’Œ &lt;code&gt;cwnd&lt;/code&gt;ï¼ˆéœ€å†…æ ¸æ”¯æŒï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è°ƒå‚å»ºè®®ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¢å¤§æ¥æ”¶ç¼“å†²åŒº&lt;/strong&gt;ï¼šé€šè¿‡ &lt;code&gt;sysctl&lt;/code&gt; è°ƒæ•´ &lt;code&gt;net.core.rmem_max&lt;/code&gt; æå‡ &lt;code&gt;rwnd&lt;/code&gt; ä¸Šé™ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–æ‹¥å¡ç®—æ³•&lt;/strong&gt;ï¼šå¦‚å¯ç”¨ BBRï¼ˆæ›¿ä»£ä¼ ç»Ÿ AIMDï¼‰æå‡é«˜å¸¦å®½åœºæ™¯ä¸‹çš„ &lt;code&gt;cwnd&lt;/code&gt; æ•ˆç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¼–ç¨‹æ³¨æ„ï¼š
&lt;ul&gt;
&lt;li&gt;é¿å… &lt;code&gt;SO_SNDBUF&lt;/code&gt; è®¾ç½®è¿‡å¤§å¯¼è‡´ &lt;code&gt;cwnd&lt;/code&gt; å¤±æ•ˆï¼Œéœ€ä¿æŒ &lt;code&gt;å‘é€ç¼“å†²åŒº â‰¤ min(rwnd, cwnd)&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-1"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;TCP é€šè¿‡ &lt;strong&gt;min(rwnd, cwnd)&lt;/strong&gt; åŠ¨æ€çº¦æŸå‘é€çª—å£ï¼Œæœ¬è´¨æ˜¯ &lt;strong&gt;â€œåŒä¿é™©â€æœºåˆ¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ›¡ï¸ &lt;code&gt;rwnd&lt;/code&gt; ä¿æŠ¤&lt;strong&gt;æ¥æ”¶ç«¯&lt;/strong&gt;ä¸è¢«å‹å®ï¼ˆæµé‡æ§åˆ¶ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;ğŸŒ &lt;code&gt;cwnd&lt;/code&gt; ä¿æŠ¤&lt;strong&gt;ç½‘ç»œ&lt;/strong&gt;ä¸è¢«å‹å®ï¼ˆæ‹¥å¡æ§åˆ¶ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¤è€…ååŒç¡®ä¿äº† TCP åœ¨å¤æ‚ç½‘ç»œç¯å¢ƒä¸‹çš„å¯é æ€§ä¸å…¬å¹³æ€§ã€‚å®é™…ä¼ è¾“ä¸­éœ€æ ¹æ®åœºæ™¯åˆ¤æ–­ä¸»å¯¼å› ç´ ï¼ˆå¦‚åˆæœŸ &lt;code&gt;cwnd&lt;/code&gt; ä¸»å¯¼ï¼Œç¨³å®šæœŸå¯èƒ½ &lt;code&gt;rwnd&lt;/code&gt; ä¸»å¯¼ï¼‰ï¼Œå¹¶é€šè¿‡ç›‘æ§å·¥å…·é’ˆå¯¹æ€§ä¼˜åŒ–ç“¶é¢ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="å¿«é‡ä¼ "&gt;å¿«é‡ä¼ 
&lt;/h2&gt;&lt;p&gt;ä»¥ä¸‹æ˜¯å…³äº TCP &lt;strong&gt;å¿«é‡ä¼ ï¼ˆFast Retransmitï¼‰&lt;/strong&gt; æœºåˆ¶çš„è¯¦ç»†è§£æï¼Œç»“åˆå…¶å·¥ä½œåŸç†ã€è§¦å‘æ¡ä»¶ã€ç®—æ³•æµç¨‹åŠå®é™…åº”ç”¨ä¸­çš„æ³¨æ„äº‹é¡¹å±•å¼€è¯´æ˜ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-å¿«é‡ä¼ çš„æ ¸å¿ƒç›®æ ‡ä¸èƒŒæ™¯"&gt;ğŸ” &lt;strong&gt;å¿«é‡ä¼ çš„æ ¸å¿ƒç›®æ ‡ä¸èƒŒæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è§£å†³çš„é—®é¢˜&lt;/strong&gt;ï¼šä¼ ç»Ÿ TCP ä¾èµ–&lt;strong&gt;è¶…æ—¶é‡ä¼ ï¼ˆRTOï¼‰&lt;/strong&gt; æ¢å¤ä¸¢åŒ…ï¼Œä½† RTO ç­‰å¾…æ—¶é—´é•¿ï¼ˆé€šå¸¸æ•°ç™¾æ¯«ç§’è‡³æ•°ç§’ï¼‰ï¼Œä¸¥é‡é™ä½ç½‘ç»œååé‡ã€‚å¿«é‡ä¼ é€šè¿‡&lt;strong&gt;é‡å¤ ACKï¼ˆDupAckï¼‰&lt;/strong&gt; å¿«é€Ÿæ£€æµ‹ä¸¢åŒ…å¹¶ç«‹å³é‡ä¼ ï¼Œé¿å…ç­‰å¾…è¶…æ—¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¾è®¡åŸåˆ™&lt;/strong&gt;ï¼šåŸºäºâ€œä¹±åºå³ä¸¢åŒ…â€çš„å¯å‘å¼åˆ¤æ–­ï¼ˆå°½ç®¡ä¹±åºâ‰ ä¸¢åŒ…ï¼Œä½†æ¦‚ç‡è¾ƒé«˜ï¼‰ï¼Œä»¥ä¸‰æ¬¡é‡å¤ ACK ä¸ºè§¦å‘é˜ˆå€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å¿«é‡ä¼ çš„è§¦å‘æœºåˆ¶"&gt;âš™ï¸ &lt;strong&gt;å¿«é‡ä¼ çš„è§¦å‘æœºåˆ¶&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="é‡å¤-ack-çš„äº§ç”Ÿ"&gt;&lt;strong&gt;é‡å¤ ACK çš„äº§ç”Ÿ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å½“æ¥æ”¶æ–¹æ”¶åˆ°&lt;strong&gt;ä¹±åºæŠ¥æ–‡&lt;/strong&gt;ï¼ˆå¦‚æœŸæœ›åºåˆ—å· 100ï¼Œå´æ”¶åˆ° 120ï¼‰æ—¶ï¼Œä¼š&lt;strong&gt;ç«‹å³å‘é€é‡å¤ ACK&lt;/strong&gt;ï¼ˆACK å·ä»ä¸º 100ï¼‰ï¼Œè€Œéå»¶è¿Ÿç¡®è®¤ã€‚&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚ï¼šå‘é€æ–¹å‘é€åºåˆ—å· 1ã€2ã€3ã€4ã€5 çš„æŠ¥æ–‡ï¼Œè‹¥æŠ¥æ–‡ 2 ä¸¢å¤±ï¼š
&lt;ul&gt;
&lt;li&gt;æ¥æ”¶æ–¹æ”¶åˆ° 1 â†’ å›å¤ ACK=2ï¼›&lt;/li&gt;
&lt;li&gt;æ”¶åˆ° 3ï¼ˆä¹±åºï¼‰â†’ å›å¤ &lt;strong&gt;DupAck=2&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;æ”¶åˆ° 4 â†’ å›å¤ &lt;strong&gt;DupAck=2&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;æ”¶åˆ° 5 â†’ å›å¤ &lt;strong&gt;DupAck=2&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="è§¦å‘æ¡ä»¶"&gt;&lt;strong&gt;è§¦å‘æ¡ä»¶&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;å‘é€æ–¹è¿ç»­æ”¶åˆ° 3 ä¸ªç›¸åŒ ACK å·çš„ DupAckï¼ˆå³æ€»è®¡ç¬¬ 4 ä¸ªç›¸åŒ ACKï¼‰æ—¶ï¼Œåˆ¤å®šè¯¥åºåˆ—å·å¯¹åº”çš„æŠ¥æ–‡ä¸¢å¤±ã€‚
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;å…³é”®ç‚¹&lt;/strong&gt;ï¼šé˜ˆå€¼è®¾ä¸º 3 æ˜¯ä¸ºåŒºåˆ†&lt;strong&gt;ä¸¢åŒ…&lt;/strong&gt;ä¸&lt;strong&gt;çŸ­æš‚ä¹±åº&lt;/strong&gt;ï¼ˆå¦‚ç½‘ç»œæŠ–åŠ¨ï¼‰ã€‚è‹¥é˜ˆå€¼è¿‡ä½ï¼ˆå¦‚ 2ï¼‰æ˜“è¯¯åˆ¤ï¼Œè¿‡é«˜åˆ™å»¶è¿Ÿå“åº”ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å¿«é‡ä¼ çš„å·¥ä½œæµç¨‹"&gt;ğŸ”„ &lt;strong&gt;å¿«é‡ä¼ çš„å·¥ä½œæµç¨‹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åˆ¤å®šä¸¢åŒ…&lt;/strong&gt;ï¼šæ”¶åˆ°ç¬¬ 3 ä¸ª DupAckï¼ˆå¦‚ ACK=2ï¼‰åï¼Œç«‹å³æ ‡è®°åºåˆ—å· 2 çš„æŠ¥æ–‡ä¸¢å¤±ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡ä¼ ä¸¢å¤±æŠ¥æ–‡&lt;/strong&gt;ï¼šä¸ç­‰å¾…è¶…æ—¶ï¼Œç›´æ¥é‡ä¼ è¯¥æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;æ‹¥å¡æ§åˆ¶è°ƒæ•´ï¼ˆä¸å¿«æ¢å¤ååŒï¼‰ï¼š
&lt;ul&gt;
&lt;li&gt;è®¾ç½®&lt;strong&gt;æ…¢å¯åŠ¨é˜ˆå€¼ï¼ˆssthreshï¼‰&lt;/strong&gt;ï¼š&lt;code&gt;ssthresh = max(cwnd / 2, 2*MSS)&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é‡ç½®&lt;strong&gt;æ‹¥å¡çª—å£ï¼ˆcwndï¼‰&lt;/strong&gt;ï¼š&lt;code&gt;cwnd = ssthresh + 3*MSS&lt;/code&gt;ï¼ˆè¡¥å¿ç½‘ç»œä¸­å·²ç¦»å¼€çš„ 3 ä¸ªæŠ¥æ–‡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿›å…¥å¿«é€Ÿæ¢å¤é˜¶æ®µ&lt;/strong&gt;ï¼šç»§ç»­å¤„ç†åç»­æŠ¥æ–‡ï¼Œå¹¶æ ¹æ®æ–° ACK åŠ¨æ€è°ƒæ•´çª—å£ï¼ˆè§ä¸‹æ–‡ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸å¿«æ¢å¤fast-recoveryçš„ååŒ"&gt;ğŸ¤ &lt;strong&gt;ä¸å¿«æ¢å¤ï¼ˆFast Recoveryï¼‰çš„ååŒ&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;å¿«é‡ä¼ é€šå¸¸ä¸å¿«æ¢å¤ç®—æ³•ç»“åˆä½¿ç”¨ï¼Œå…±åŒæ„æˆ &lt;strong&gt;FRRï¼ˆFast Retransmit and Recoveryï¼‰&lt;/strong&gt; æœºåˆ¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¿«é€Ÿæ¢å¤é˜¶æ®µï¼š
&lt;ul&gt;
&lt;li&gt;æ¯æ”¶åˆ°ä¸€ä¸ª DupAckï¼Œ&lt;code&gt;cwnd += MSS&lt;/code&gt;ï¼ˆå›  DupAck è¡¨ç¤ºä¸€ä¸ªæŠ¥æ–‡ç¦»å¼€ç½‘ç»œï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å…è®¸å‘é€æ–°æŠ¥æ–‡ï¼ˆè‹¥çª—å£å…è®¸ï¼‰ï¼Œç»´æŒç½‘ç»œåˆ©ç”¨ç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é€€å‡ºæ¢å¤æ¡ä»¶ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ”¶åˆ°æ–° ACK&lt;/strong&gt;ï¼ˆç¡®è®¤åºå· &amp;gt; ä¸¢å¤±æŠ¥æ–‡åºå·ï¼‰ï¼šé‡ç½® &lt;code&gt;cwnd = ssthresh&lt;/code&gt;ï¼Œè¿›å…¥æ‹¥å¡é¿å…é˜¶æ®µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¶…æ—¶äº‹ä»¶&lt;/strong&gt;ï¼šé€€å‡ºå¿«é€Ÿæ¢å¤ï¼Œå›é€€åˆ°æ…¢å¯åŠ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å±€é™æ€§ä¸æ”¹è¿›æ–¹æ¡ˆ"&gt;âš ï¸ &lt;strong&gt;å±€é™æ€§ä¸æ”¹è¿›æ–¹æ¡ˆ&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="å•åŒ…ä¸¢å¤±åœºæ™¯é«˜æ•ˆå¤šåŒ…ä¸¢å¤±æ€§èƒ½ä¸‹é™"&gt;&lt;strong&gt;å•åŒ…ä¸¢å¤±åœºæ™¯é«˜æ•ˆï¼Œå¤šåŒ…ä¸¢å¤±æ€§èƒ½ä¸‹é™&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é—®é¢˜&lt;/strong&gt;ï¼šè‹¥åŒä¸€çª—å£å†…ä¸¢å¤±å¤šä¸ªåŒ…ï¼ˆå¦‚æŠ¥æ–‡ 2 å’Œ 3 å‡ä¸¢å¤±ï¼‰ï¼Œå¿«é‡ä¼ ä»…é‡ä¼ é¦–ä¸ªæ£€æµ‹åˆ°çš„åŒ…ï¼ˆæŠ¥æ–‡ 2ï¼‰ã€‚åç»­éœ€ä¾èµ–è¶…æ—¶æˆ–æ–° DupAck è§¦å‘äºŒæ¬¡é‡ä¼ ã€‚&lt;/li&gt;
&lt;li&gt;æ”¹è¿›ç®—æ³•ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;TCP NewReno&lt;/strong&gt;ï¼šå¼•å…¥ &lt;code&gt;recover&lt;/code&gt; å˜é‡æ ‡è®°æ¢å¤ç‚¹ï¼Œéœ€æ”¶åˆ°è¯¥çª—å£å†…æ‰€æœ‰æŠ¥æ–‡çš„ ACK æ‰é€€å‡ºå¿«é€Ÿæ¢å¤ï¼Œé¿å…éƒ¨åˆ†ç¡®è®¤å¯¼è‡´çš„å¤šæ¬¡é‡ä¼ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SACKï¼ˆé€‰æ‹©æ€§ç¡®è®¤ï¼‰&lt;/strong&gt;ï¼šæ¥æ”¶æ–¹æ˜¾å¼å‘ŠçŸ¥ä¸¢å¤±çš„æŠ¥æ–‡èŒƒå›´ï¼Œå‘é€æ–¹å¯ç›´æ¥é‡ä¼ å¤šä¸ªåŒ…ï¼ˆç°ä»£ TCP çš„é»˜è®¤æ–¹æ¡ˆï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ä¹±åºå¹²æ‰°"&gt;&lt;strong&gt;ä¹±åºå¹²æ‰°&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç½‘ç»œä¹±åºå¯èƒ½å¼•å‘è™šå‡ DupAckï¼Œå¯¼è‡´
è¯¯é‡ä¼ 
ã€‚è§£å†³æ–¹æ¡ˆï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€è°ƒæ•´ DupAck é˜ˆå€¼&lt;/strong&gt;ï¼šæ ¹æ®å†å²ä¹±åºç‡è‡ªé€‚åº”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DSACK&lt;/strong&gt;ï¼šæ¥æ”¶æ–¹å‘ŠçŸ¥é‡å¤æ¥æ”¶çš„æŠ¥æ–‡ï¼Œå¸®åŠ©å‘é€æ–¹åŒºåˆ†ä¸¢åŒ…ä¸ä¹±åºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å¿«é‡ä¼ -vs-è¶…æ—¶é‡ä¼ "&gt;ğŸ“Š &lt;strong&gt;å¿«é‡ä¼  vs. è¶…æ—¶é‡ä¼ &lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;å¿«é‡ä¼ &lt;/th&gt;
&lt;th&gt;è¶…æ—¶é‡ä¼ &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è§¦å‘æ¡ä»¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;3 ä¸ªé‡å¤ ACK&lt;/td&gt;
&lt;td&gt;è®¡æ—¶å™¨è¶…æ—¶ï¼ˆRTOï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å“åº”é€Ÿåº¦&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¯«ç§’çº§&lt;/td&gt;
&lt;td&gt;æ•°ç™¾æ¯«ç§’è‡³ç§’çº§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ‹¥å¡æ§åˆ¶å“åº”&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¸©å’Œé™é€Ÿï¼ˆcwnd = ssthresh+3ï¼‰&lt;/td&gt;
&lt;td&gt;æ¿€è¿›é‡ç½®ï¼ˆcwnd=1ï¼Œssthreshå‡åŠï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å•åŒ…ä¸¢å¤±ã€ä½ä¹±åºç½‘ç»œ&lt;/td&gt;
&lt;td&gt;ä¸¥é‡æ‹¥å¡ã€è¿ç»­ä¸¢åŒ…&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-2"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¿«é‡ä¼ æœ¬è´¨&lt;/strong&gt;ï¼šä¸€ç§åŸºäºåé¦ˆçš„ä¸¢åŒ…å¿«é€Ÿæ£€æµ‹ä¸ä¿®å¤æœºåˆ¶ï¼Œé€šè¿‡&lt;strong&gt;ä¸‰æ¬¡é‡å¤ ACK&lt;/strong&gt; è§¦å‘å³æ—¶é‡ä¼ ï¼Œæ˜¾è‘—å‡å°‘ä¼ è¾“å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒä»·å€¼&lt;/strong&gt;ï¼šä¸å¿«æ¢å¤ååŒï¼Œåœ¨é¿å…ç½‘ç»œæ‹¥å¡çš„åŒæ—¶ç»´æŒé«˜ååé‡ï¼ˆè¾ƒè¶…æ—¶é‡ä¼ æå‡ 30%+ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¼”è¿›æ–¹å‘&lt;/strong&gt;ï¼šSACK å’Œ NewReno ç­‰å¤šåŒ…ä¸¢å¤±ä¼˜åŒ–æ–¹æ¡ˆå·²æˆä¸»æµï¼Œä½†å¿«é‡ä¼ ä»æ˜¯ TCP æ‹¥å¡æ§åˆ¶çš„åŸºçŸ³ä¹‹ä¸€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;å®è·µå»ºè®®&lt;/strong&gt;ï¼šåœ¨ Linux ç³»ç»Ÿä¸­å¯é€šè¿‡å‚æ•° &lt;code&gt;tcp_reordering&lt;/code&gt;ï¼ˆé»˜è®¤ 3ï¼‰è°ƒæ•´ DupAck é˜ˆå€¼ï¼Œæˆ–å¯ç”¨ &lt;code&gt;tcp_sack&lt;/code&gt; ä¼˜åŒ–å¤šåŒ…ä¸¢å¤±åœºæ™¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="quic"&gt;QUIC
&lt;/h2&gt;&lt;p&gt;QUICï¼ˆQuick UDP Internet Connectionsï¼‰æ˜¯ä¸€ç§åŸºäº UDP çš„ç°ä»£åŒ–ä¼ è¾“å±‚åè®®ï¼Œç”± Google äº 2012 å¹´æå‡ºï¼Œæ—¨åœ¨è§£å†³ TCP çš„æ€§èƒ½ç“¶é¢ˆå’Œå»¶è¿Ÿé—®é¢˜ã€‚2021 å¹´ 5 æœˆï¼ŒQUIC è¢« IETF æ­£å¼æ ‡å‡†åŒ–ä¸º &lt;a class="link" href="https://www.rfc-editor.org/rfc/rfc9000.html" target="_blank" rel="noopener"
&gt;RFC 9000&lt;/a&gt;ï¼Œå¹¶æˆä¸º HTTP/3 çš„åº•å±‚åè®®ã€‚ä»¥ä¸‹ä»æ ¸å¿ƒè®¾è®¡ã€æŠ€æœ¯åŸç†ã€ä¼˜åŠ¿åŠæŒ‘æˆ˜å››ä¸ªæ–¹é¢å±•å¼€è¯¦è§£ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="æ ¸å¿ƒè®¾è®¡ç›®æ ‡ä¸èƒŒæ™¯"&gt;æ ¸å¿ƒè®¾è®¡ç›®æ ‡ä¸èƒŒæ™¯
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è§£å†³ TCP å›ºæœ‰ç¼ºé™·&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é˜Ÿå¤´é˜»å¡ï¼ˆHOLï¼‰&lt;/strong&gt;ï¼šTCP å•ä¸€è¿æ¥å†…ä¸¢åŒ…ä¼šé˜»å¡æ‰€æœ‰è¯·æ±‚æµï¼Œè€Œ QUIC é€šè¿‡å¤šè·¯å¤ç”¨ç‹¬ç«‹æµï¼ˆStreamï¼‰å½»åº•æ¶ˆé™¤è¯¥é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜å»¶è¿Ÿæ¡æ‰‹&lt;/strong&gt;ï¼šTCP + TLS éœ€ 1â€“3 æ¬¡ RTTï¼ˆå¾€è¿”æ—¶å»¶ï¼‰ï¼ŒQUIC é¦–æ¬¡è¿æ¥ä»…éœ€ 1 RTTï¼Œä¼šè¯æ¢å¤å¯è¾¾åˆ° &lt;strong&gt;0-RTT&lt;/strong&gt;ï¼ˆé›¶å¾€è¿”æ—¶å»¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥è¿ç§»å¼±&lt;/strong&gt;ï¼šTCP ä¾èµ– IP + ç«¯å£æ ‡è¯†è¿æ¥ï¼Œç½‘ç»œåˆ‡æ¢ï¼ˆå¦‚ Wi-Fi è½¬ 4Gï¼‰éœ€é‡å»ºè¿æ¥ï¼›QUIC ä½¿ç”¨ &lt;strong&gt;Connection ID&lt;/strong&gt;ï¼ˆ64 ä½éšæœºæ•°ï¼‰æ ‡è¯†è¿æ¥ï¼ŒIP å˜åŒ–æ—¶ä»ä¿æŒä¼šè¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åè®®åˆ†å±‚é©æ–°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;QUIC å°†ä¼ è¾“æ§åˆ¶ã€åŠ å¯†ã€æµç®¡ç†æ•´åˆåˆ°å•ä¸€åè®®æ ˆï¼Œç›´æ¥åœ¨åº”ç”¨å±‚å®ç°ï¼Œæ— éœ€å†…æ ¸æ”¯æŒï¼ˆç”¨æˆ·æ€åè®®ï¼‰ï¼Œå‡çº§æ›´çµæ´»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="æ ¸å¿ƒæŠ€æœ¯åŸç†"&gt;æ ¸å¿ƒæŠ€æœ¯åŸç†
&lt;/h3&gt;&lt;h4 id="è¿æ¥å»ºç«‹ä¼˜åŒ–"&gt;&lt;strong&gt;è¿æ¥å»ºç«‹ä¼˜åŒ–&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;0-RTT å¿«é€Ÿè¿æ¥
é¦–æ¬¡è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯ç¼“å­˜æœåŠ¡å™¨é…ç½®ï¼ˆTLS ä¼šè¯å‡­è¯ï¼‰ï¼Œåç»­è¿æ¥ç›´æ¥å‘é€åŠ å¯†æ•°æ®ï¼Œæ— éœ€æ¡æ‰‹ã€‚
&lt;pre tabindex="0"&gt;&lt;code&gt;sequenceDiagram
Client-&amp;gt;&amp;gt;Server: Client Hello + åº”ç”¨æ•°æ® (0-RTT)
Server-&amp;gt;&amp;gt;Client: Server Hello + å“åº”æ•°æ®
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¦–æ¬¡è¿æ¥ 1-RTT&lt;/strong&gt;ï¼šåŸºäº TLS 1.3 çš„åŠ å¯†æ¡æ‰‹ï¼Œåˆå¹¶ä¼ è¾“å±‚ä¸åŠ å¯†åå•†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å¤šè·¯å¤ç”¨ä¸æµç®¡ç†"&gt;&lt;strong&gt;å¤šè·¯å¤ç”¨ä¸æµç®¡ç†&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç‹¬ç«‹æµï¼ˆStreamï¼‰&lt;/strong&gt;
æ¯ä¸ª Stream æ‹¥æœ‰ç‹¬ç«‹æ»‘åŠ¨çª—å£ã€åºåˆ—å·å’Œæ‹¥å¡æ§åˆ¶ã€‚å•ä¸ªæµä¸¢åŒ…ä¸å½±å“å…¶ä»–æµä¼ è¾“ã€‚&lt;/li&gt;
&lt;li&gt;å¸§ç»“æ„ï¼šæ•°æ®è¢«å°è£…ä¸ºå¸§ï¼ˆFrameï¼‰ï¼Œç±»å‹åŒ…æ‹¬ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;STREAM&lt;/code&gt;ï¼šæ™®é€šæ•°æ®æµ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ACK&lt;/code&gt;ï¼šç¡®è®¤å¸§ï¼ˆæ”¯æŒç‰ˆæœ¬åŒ–ç¡®è®¤ï¼Œé¿å…æ­§ä¹‰ï¼‰
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CRYPTO&lt;/code&gt;ï¼šåŠ å¯†æ¡æ‰‹æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RESET_STREAM&lt;/code&gt;ï¼šæµç»ˆæ­¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å¯é æ€§å¢å¼º"&gt;&lt;strong&gt;å¯é æ€§å¢å¼º&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ— æ­§ä¹‰é‡ä¼ &lt;/strong&gt;ï¼šQUIC ä½¿ç”¨&lt;strong&gt;å•è°ƒé€’å¢çš„ Packet Number&lt;/strong&gt;ï¼Œé‡ä¼ æ•°æ®åŒ…èµ‹äºˆæ–°ç¼–å·ï¼Œé¿å… TCP é‡ä¼ æ­§ä¹‰å¯¼è‡´çš„ RTT è®¡ç®—é”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‰å‘çº é”™ï¼ˆFECï¼‰&lt;/strong&gt;ï¼šå¯¹å…³é”®æ•°æ®ï¼ˆå¦‚æ¡æ‰‹åŒ…ï¼‰æ·»åŠ å†—ä½™æ ¡éªŒï¼Œå°‘é‡ä¸¢åŒ…æ—¶å¯ç›´æ¥æ¢å¤ï¼Œæ— éœ€é‡ä¼ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="æ‹¥å¡æ§åˆ¶ä¸æµé‡æ§åˆ¶"&gt;&lt;strong&gt;æ‹¥å¡æ§åˆ¶ä¸æµé‡æ§åˆ¶&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯æ’æ‹”ç®—æ³•&lt;/strong&gt;ï¼šé»˜è®¤ä½¿ç”¨ &lt;strong&gt;CUBIC&lt;/strong&gt; æˆ– &lt;strong&gt;BBR&lt;/strong&gt;ï¼Œæ”¯æŒåŠ¨æ€åˆ‡æ¢ï¼ˆæœåŠ¡ç«¯é…ç½®æ›´æ–°å³æ—¶ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†å±‚æµæ§&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥çº§&lt;/strong&gt;ï¼šå…¨å±€çª—å£é™åˆ¶ï¼ˆ&lt;code&gt;WINDOW_UPDATE&lt;/code&gt; å¸§ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµçº§&lt;/strong&gt;ï¼šå•æµçª—å£éš”ç¦»ï¼Œé¿å…é¥¥é¥¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å®‰å…¨æ€§è®¾è®¡"&gt;&lt;strong&gt;å®‰å…¨æ€§è®¾è®¡&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼ºåˆ¶åŠ å¯†&lt;/strong&gt;ï¼šæ‰€æœ‰åŒ…å¤´ï¼ˆHeaderï¼‰å’Œè´Ÿè½½ï¼ˆPayloadï¼‰å‡é€šè¿‡ TLS 1.3 åŠ å¯†ï¼Œé˜²æ­¢ä¸­é—´è®¾å¤‡ç¯¡æ”¹ï¼ˆå¦‚ NAT ä¿®æ”¹åºåˆ—å·ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒ…å¤´è®¤è¯&lt;/strong&gt;ï¼šQUIC åŒ…å¤´å«èº«ä»½éªŒè¯æ ‡ç­¾ï¼Œç¯¡æ”¹å¯è¢«æ£€æµ‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="æ€§èƒ½ä¼˜åŠ¿å¯¹æ¯”quic-vs-tcp"&gt;æ€§èƒ½ä¼˜åŠ¿å¯¹æ¯”ï¼ˆQUIC vs. TCPï¼‰
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;TCP (+TLS)&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;QUIC&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¿æ¥å»ºç«‹&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;1â€“3 RTTï¼ˆé¦–æ¬¡ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;1 RTTï¼ˆé¦–æ¬¡ï¼‰ï¼Œ0 RTTï¼ˆæ¢å¤ï¼‰&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é˜Ÿå¤´é˜»å¡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¿æ¥çº§ + æµçº§é˜»å¡&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;å®Œå…¨æ¶ˆé™¤&lt;/strong&gt;ï¼ˆæµç‹¬ç«‹ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¿æ¥è¿ç§»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;IP å˜æ›´éœ€é‡å»ºè¿æ¥&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;æ— ç¼è¿ç§»&lt;/strong&gt;ï¼ˆConnection IDï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ‹¥å¡æ§åˆ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å†…æ ¸å›ºå®šç®—æ³•ï¼Œå‡çº§éœ€é‡å¯&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;ç”¨æˆ·æ€å¯æ’æ‹”&lt;/strong&gt;ï¼ŒåŠ¨æ€åˆ‡æ¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŠ å¯†å¼€é”€&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;TLS æ¡æ‰‹ç‹¬ç«‹äº TCP&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;å†…ç½® TLS 1.3&lt;/strong&gt;ï¼Œæ¡æ‰‹ä¸ä¼ è¾“èåˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é‡ä¼ æ•ˆç‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é‡ä¼ åŒ…åºå·ä¸å˜ï¼ŒRTT è®¡ç®—æ­§ä¹‰&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;é€’å¢åŒ…åºå·&lt;/strong&gt;ï¼Œç²¾ç¡®è®¡ç®— RTT&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šHTTP/3 = HTTP over QUICï¼Œå½»åº•è§£å†³ HTTP/2 çš„ TCP å±‚é˜»å¡é—®é¢˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="åº”ç”¨åœºæ™¯ä¸æŒ‘æˆ˜"&gt;åº”ç”¨åœºæ™¯ä¸æŒ‘æˆ˜
&lt;/h3&gt;&lt;h4 id="é€‚ç”¨åœºæ™¯-1"&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é«˜å»¶è¿Ÿç½‘ç»œ&lt;/strong&gt;ï¼šå«æ˜Ÿé€šä¿¡ã€è·¨å›½ä¼ è¾“ï¼ˆ0-RTT æ˜¾è‘—é™ä½é¦–åŒ…å»¶è¿Ÿï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§»åŠ¨ç½‘ç»œ&lt;/strong&gt;ï¼šWi-Fi/èœ‚çªç½‘ç»œåˆ‡æ¢æ—¶ä¿æŒè¿æ¥ï¼ˆå¦‚è§†é¢‘é€šè¯ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶æœåŠ¡&lt;/strong&gt;ï¼šåœ¨çº¿æ¸¸æˆã€ç›´æ’­ï¼ˆä½å»¶è¿Ÿ + æŠ—ä¸¢åŒ…ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ç°å­˜æŒ‘æˆ˜"&gt;&lt;strong&gt;ç°å­˜æŒ‘æˆ˜&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;UDP é™åˆ¶&lt;/strong&gt;ï¼šéƒ¨åˆ†é˜²ç«å¢™é™é€Ÿæˆ–é˜»æ–­ UDPï¼Œéœ€ Fallback åˆ° TCPã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CPU å¼€é”€&lt;/strong&gt;ï¼šåŠ å¯†å’Œæµç®¡ç†å¢åŠ è®¡ç®—è´Ÿè½½ï¼ˆè¾ƒ TCP é«˜çº¦ 10â€“20%ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éƒ¨ç½²å¤æ‚æ€§&lt;/strong&gt;ï¼šéœ€åº”ç”¨å±‚æ”¯æŒï¼ˆå¦‚ Nginx 1.25+ã€CDN æœåŠ¡å•†é…ç½®ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="å‘å±•ç°çŠ¶"&gt;å‘å±•ç°çŠ¶
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æµè§ˆå™¨æ”¯æŒ&lt;/strong&gt;ï¼šChromeã€Firefoxã€Edgeã€Opera å·²é»˜è®¤å¯ç”¨ QUICã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ‡å‡†æ¼”è¿›&lt;/strong&gt;ï¼šHTTP/3 å…¨çƒé‡‡ç”¨ç‡è¶… 30%ï¼ˆ2025 å¹´ï¼‰ï¼ŒCDN å‚å•†ï¼ˆCloudflareã€Akamaiï¼‰å…¨é¢æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–æ–¹å‘&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é‡å­å®‰å…¨åŠ å¯†&lt;/strong&gt;ï¼šæŠ—é‡å­è®¡ç®—æ”»å‡»çš„å¯†é’¥äº¤æ¢æœºåˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šè·¯å¾„ä¼ è¾“&lt;/strong&gt;ï¼šåŒæ—¶ä½¿ç”¨ Wi-Fi å’Œ 5G é“¾è·¯æå‡å¯é æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼šQUIC é€šè¿‡ UDP é‡æ„ä¼ è¾“å±‚ï¼Œä»¥ç”¨æˆ·æ€åè®®å®ç°é«˜çµæ´»æ€§ï¼Œåœ¨å»¶è¿Ÿã€å¤šè·¯å¤ç”¨ã€è¿ç§»æ€§ä¸Šå…¨é¢è¶…è¶Š TCPï¼Œæˆä¸ºä¸‹ä¸€ä»£äº’è”ç½‘åŸºç¡€è®¾æ–½çš„æ ¸å¿ƒã€‚å…¶è®¾è®¡å“²å­¦å°è¯äº† David Clark çš„åè¨€ï¼šâ€œæˆ‘ä»¬æ‹’ç»å›½ç‹ã€æ€»ç»Ÿå’ŒæŠ•ç¥¨ï¼Œæˆ‘ä»¬ä¿¡å¥‰è¿è¡Œä»£ç å’Œå¤§è‡´å…±è¯†â€ï¼ˆWe reject kings, presidents, and voting. We believe in rough consensus and running codeï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="rpc"&gt;RPC
&lt;/h2&gt;&lt;p&gt;RPCï¼ˆRemote Procedure Callï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºé€šä¿¡åè®®ï¼Œå…è®¸ä¸€ä¸ªç¨‹åºè°ƒç”¨ä½äºå¦ä¸€å°è®¡ç®—æœºï¼ˆæˆ–ä¸åŒè¿›ç¨‹ï¼‰ä¸Šçš„å­ç¨‹åºï¼ˆå‡½æ•°æˆ–æ–¹æ³•ï¼‰ï¼Œè€Œå¼€å‘è€…æ— éœ€æ˜¾å¼å¤„ç†åº•å±‚ç½‘ç»œé€šä¿¡ç»†èŠ‚ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯&lt;strong&gt;è®©è¿œç¨‹è°ƒç”¨åƒæœ¬åœ°è°ƒç”¨ä¸€æ ·ç®€å•&lt;/strong&gt;ï¼Œä»è€Œç®€åŒ–åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼€å‘ã€‚ä»¥ä¸‹æ˜¯RPCçš„è¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒæ¦‚å¿µä¸åŸç†"&gt;ğŸ” æ ¸å¿ƒæ¦‚å¿µä¸åŸç†
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æœ¬è´¨&lt;/strong&gt;
RPC å°†ç½‘ç»œé€šä¿¡æŠ½è±¡ä¸ºâ€œè¿‡ç¨‹è°ƒç”¨â€ï¼Œå¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œæ— éœ€å…³å¿ƒæ•°æ®ä¼ è¾“ã€åºåˆ—åŒ–ã€ç½‘ç»œåè®®ç­‰ç»†èŠ‚ã€‚ä¾‹å¦‚ï¼š
&lt;ul&gt;
&lt;li&gt;æœ¬åœ°è°ƒç”¨ï¼š&lt;code&gt;user = localService.getUser(123)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿œç¨‹è°ƒç”¨ï¼š&lt;code&gt;user = remoteService.getUser(123)&lt;/code&gt;ï¼ˆå®é™…è°ƒç”¨è¿œç¨‹æœåŠ¡å™¨æ–¹æ³•ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒç›®æ ‡&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é€æ˜æ€§&lt;/strong&gt;ï¼šéšè—ç½‘ç»œå¤æ‚æ€§ï¼Œä½¿è°ƒç”¨æ–¹æ„ŸçŸ¥ä¸åˆ°è¿œç¨‹ä¸æœ¬åœ°è°ƒç”¨çš„å·®å¼‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜æ•ˆæ€§&lt;/strong&gt;ï¼šé€šè¿‡äºŒè¿›åˆ¶åè®®ï¼ˆå¦‚Protobufï¼‰å’Œè¿æ¥å¤ç”¨ä¼˜åŒ–æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å·¥ä½œæµç¨‹ä¸å…³é”®ç»„ä»¶"&gt;âš™ï¸ å·¥ä½œæµç¨‹ä¸å…³é”®ç»„ä»¶
&lt;/h3&gt;&lt;p&gt;RPC è°ƒç”¨æ¶‰åŠä»¥ä¸‹æ­¥éª¤å’Œç»„ä»¶ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;sequenceDiagram
participant Client as å®¢æˆ·ç«¯
participant ClientStub as å®¢æˆ·ç«¯å­˜æ ¹
participant Network as ç½‘ç»œä¼ è¾“
participant ServerStub as æœåŠ¡ç«¯å­˜æ ¹
participant Server as æœåŠ¡ç«¯
Client-&amp;gt;&amp;gt;ClientStub: 1. è°ƒç”¨æœ¬åœ°æ–¹æ³•ï¼ˆä¼ é€’å‚æ•°ï¼‰
ClientStub-&amp;gt;&amp;gt;ClientStub: 2. åºåˆ—åŒ–å‚æ•°ï¼ˆè½¬ä¸ºäºŒè¿›åˆ¶/XMLï¼‰
ClientStub-&amp;gt;&amp;gt;Network: 3. å‘é€è¯·æ±‚ï¼ˆå«æ–¹æ³•åã€å‚æ•°ï¼‰
Network-&amp;gt;&amp;gt;ServerStub: 4. ä¼ è¾“æ•°æ®
ServerStub-&amp;gt;&amp;gt;ServerStub: 5. ååºåˆ—åŒ–æ•°æ®
ServerStub-&amp;gt;&amp;gt;Server: 6. è°ƒç”¨å®é™…æœåŠ¡æ–¹æ³•
Server-&amp;gt;&amp;gt;ServerStub: 7. è¿”å›ç»“æœ
ServerStub-&amp;gt;&amp;gt;Network: 8. åºåˆ—åŒ–ç»“æœ
Network-&amp;gt;&amp;gt;ClientStub: 9. ä¼ å›å“åº”
ClientStub-&amp;gt;&amp;gt;Client: 10. ååºåˆ—åŒ–ç»“æœå¹¶è¿”å›
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="å…³é”®ç»„ä»¶"&gt;å…³é”®ç»„ä»¶ï¼š
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®¢æˆ·ç«¯ï¼ˆClientï¼‰&lt;/strong&gt;ï¼šå‘èµ·è°ƒç”¨çš„ç¨‹åºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¢æˆ·ç«¯å­˜æ ¹ï¼ˆClient Stubï¼‰&lt;/strong&gt;ï¼šå°è£…åºåˆ—åŒ–ã€ç½‘ç»œå‘é€é€»è¾‘ï¼Œæ¨¡æ‹Ÿæœ¬åœ°æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœåŠ¡ç«¯å­˜æ ¹ï¼ˆServer Stubï¼‰&lt;/strong&gt;ï¼šæ¥æ”¶è¯·æ±‚ã€ååºåˆ—åŒ–å‚æ•°ã€è°ƒç”¨çœŸå®æœåŠ¡å¹¶è¿”å›ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€šä¿¡åè®®&lt;/strong&gt;ï¼šå¯åŸºäº TCP/UDPï¼ˆé«˜æ€§èƒ½ï¼‰æˆ– HTTPï¼ˆé€šç”¨æ€§ï¼‰ï¼Œå¦‚ gRPC ä½¿ç”¨ HTTP/2ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åºåˆ—åŒ–åè®®&lt;/strong&gt;ï¼šå°†å‚æ•°/ç»“æœè½¬ä¸ºä¼ è¾“æ ¼å¼ï¼Œå¦‚äºŒè¿›åˆ¶ï¼ˆProtobufã€Thriftï¼‰æˆ–æ–‡æœ¬ï¼ˆJSONã€XMLï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸»è¦åº”ç”¨åœºæ™¯"&gt;ğŸŒ ä¸»è¦åº”ç”¨åœºæ™¯
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¾®æœåŠ¡æ¶æ„&lt;/strong&gt;
æœåŠ¡é—´é«˜é¢‘é€šä¿¡ï¼ˆå¦‚è®¢å•æœåŠ¡è°ƒç”¨ç”¨æˆ·æœåŠ¡ï¼‰ï¼ŒRPC çš„é«˜æ€§èƒ½ï¼ˆä½å»¶è¿Ÿã€é«˜ååï¼‰ä¼˜åŠ¿æ˜¾è‘—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/strong&gt;
è·¨èŠ‚ç‚¹åä½œï¼ˆå¦‚åˆ†å¸ƒå¼è®¡ç®—ã€æ•°æ®åº“åˆ†ç‰‡æŸ¥è¯¢ï¼‰ï¼Œé€šè¿‡ RPC å®ç°é€»è¾‘æ•´åˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¨è¯­è¨€æœåŠ¡è°ƒç”¨&lt;/strong&gt;
ä¸åŒè¯­è¨€ç¼–å†™çš„æœåŠ¡ï¼ˆå¦‚ Java æœåŠ¡è¢« Python è°ƒç”¨ï¼‰ï¼Œé€šè¿‡ IDLï¼ˆæ¥å£æè¿°è¯­è¨€ï¼‰å®šä¹‰ç»Ÿä¸€æ¥å£ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-rpc-ä¸-http-çš„å¯¹æ¯”"&gt;âš–ï¸ RPC ä¸ HTTP çš„å¯¹æ¯”
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;RPC&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;HTTPï¼ˆå¦‚ RESTfulï¼‰&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è®¾è®¡ç›®æ ‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é€æ˜è¿œç¨‹è°ƒç”¨&lt;/td&gt;
&lt;td&gt;èµ„æºæ“ä½œï¼ˆGET/POST ç­‰ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ€§èƒ½&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;â­ï¸â­ï¸â­ï¸â­ï¸ é«˜ï¼ˆäºŒè¿›åˆ¶åè®®ã€å¤´éƒ¨å¼€é”€å°ï¼‰&lt;/td&gt;
&lt;td&gt;â­ï¸â­ï¸ ä¸­ï¼ˆæ–‡æœ¬åè®®ã€å¤´éƒ¨å†—é•¿ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¾®æœåŠ¡å†…éƒ¨é€šä¿¡ã€é«˜æ€§èƒ½éœ€æ±‚&lt;/td&gt;
&lt;td&gt;å…¬å¼€ APIã€æµè§ˆå™¨-æœåŠ¡å™¨äº¤äº’&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¸å‹æ¡†æ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;gRPCã€Dubboã€Thrift&lt;/td&gt;
&lt;td&gt;SpringMVCã€Expressã€Flask&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¼€å‘å¤æ‚åº¦&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¾ƒé«˜ï¼ˆéœ€å®šä¹‰ IDLã€ç”Ÿæˆä»£ç ï¼‰&lt;/td&gt;
&lt;td&gt;è¾ƒä½ï¼ˆç›´æ¥ä½¿ç”¨ URL å’Œ HTTP æ–¹æ³•ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;é€‰æ‹©å»ºè®®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…éƒ¨æœåŠ¡é—´è°ƒç”¨ â†’ &lt;strong&gt;RPC&lt;/strong&gt;ï¼ˆå¦‚ gRPCï¼‰&lt;/li&gt;
&lt;li&gt;å¯¹å¤–æä¾› API æˆ–è·¨å¹³å°é›†æˆ â†’ &lt;strong&gt;HTTP&lt;/strong&gt;ï¼ˆå¦‚ RESTfulï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å¸¸è§-rpc-æ¡†æ¶"&gt;ğŸ› ï¸ å¸¸è§ RPC æ¡†æ¶
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;gRPCï¼ˆGoogleï¼‰
&lt;ul&gt;
&lt;li&gt;åŸºäº HTTP/2 å’Œ Protobufï¼Œæ”¯æŒæµå¼é€šä¿¡å’Œå¤šè¯­è¨€ã€‚&lt;/li&gt;
&lt;li&gt;é€‚ç”¨åœºæ™¯ï¼šå¾®æœåŠ¡ã€äº‘åŸç”Ÿåº”ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Apache Thriftï¼ˆFacebookï¼‰
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ IDL å®šä¹‰æ¥å£ï¼Œæ”¯æŒå¤šç§ä¼ è¾“åè®®å’Œåºåˆ—åŒ–æ ¼å¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Dubboï¼ˆé˜¿é‡Œå·´å·´ï¼‰
&lt;ul&gt;
&lt;li&gt;æä¾›æœåŠ¡çš„æ³¨å†Œå‘ç°ã€è´Ÿè½½å‡è¡¡ç­‰æ²»ç†èƒ½åŠ›ï¼Œé€‚åˆ Java ç”Ÿæ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;XML-RPC/JSON-RPC
&lt;ul&gt;
&lt;li&gt;åŸºäº HTTP çš„è½»é‡çº§ RPCï¼Œé€‚åˆç®€å• Web æœåŠ¡é›†æˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æŒ‘æˆ˜ä¸å±€é™æ€§"&gt;âš ï¸ æŒ‘æˆ˜ä¸å±€é™æ€§
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œå¯é æ€§é—®é¢˜&lt;/strong&gt;
éœ€å¤„ç†è¶…æ—¶ã€é‡è¯•ã€ç†”æ–­ç­‰å®¹é”™æœºåˆ¶ï¼ˆå¦‚ Hystrix å®ç°ç†”æ–­ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨æ€§&lt;/strong&gt;
ä¼ è¾“æ•æ„Ÿæ•°æ®éœ€åŠ å¯†ï¼ˆå¦‚ gRPC å†…ç½® TLSï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è°ƒè¯•å¤æ‚åº¦&lt;/strong&gt;
éœ€ä¸“ç”¨å·¥å…·ï¼ˆå¦‚ &lt;code&gt;grpcurl&lt;/code&gt; è°ƒè¯• gRPCï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-3"&gt;ğŸ’ æ€»ç»“
&lt;/h3&gt;&lt;p&gt;RPC æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒé€šä¿¡æœºåˆ¶ï¼Œé€šè¿‡&lt;strong&gt;å±è”½ç½‘ç»œç»†èŠ‚&lt;/strong&gt;ã€&lt;strong&gt;ä¼˜åŒ–ä¼ è¾“æ•ˆç‡&lt;/strong&gt;ï¼Œä½¿å¼€å‘è€…ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚å°½ç®¡åœ¨é«˜æ€§èƒ½åœºæ™¯ï¼ˆå¦‚å¾®æœåŠ¡ï¼‰ä¸­ä¼˜åŠ¿æ˜¾è‘—ï¼Œä½†ä¹Ÿéœ€æƒè¡¡å¼€å‘æˆæœ¬å’Œé€šç”¨æ€§éœ€æ±‚ã€‚ç°ä»£æ¡†æ¶ï¼ˆå¦‚ gRPCï¼‰é€šè¿‡æ ‡å‡†åŒ–åè®®å’Œå·¥å…·é“¾ï¼Œæ­£é€æ­¥é™ä½å…¶ä½¿ç”¨é—¨æ§›ï¼Œæ¨åŠ¨åˆ†å¸ƒå¼è®¡ç®—çš„æ™®åŠã€‚&lt;/p&gt;
&lt;h2 id="grpc"&gt;gRPC
&lt;/h2&gt;&lt;p&gt;ä»¥ä¸‹æ˜¯å¯¹ &lt;strong&gt;gRPC&lt;/strong&gt; çš„å…¨é¢è§£æï¼Œç»“åˆå…¶æ ¸å¿ƒåŸç†ã€æŠ€æœ¯ç‰¹æ€§ã€åº”ç”¨åœºæ™¯åŠç”Ÿæ€å·¥å…·ï¼ŒåŠ›æ±‚å…¼é¡¾æ·±åº¦ä¸å®ç”¨æ€§ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-grpc-çš„æœ¬è´¨ä¸èµ·æº"&gt;ğŸ” &lt;strong&gt;gRPC çš„æœ¬è´¨ä¸èµ·æº&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;
gRPCï¼ˆGoogle Remote Procedure Callï¼‰æ˜¯ç”± Google å¼€å‘çš„é«˜æ€§èƒ½ã€å¼€æºã€è·¨è¯­è¨€çš„ â€‹&lt;strong&gt;è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰æ¡†æ¶&lt;/strong&gt;ï¼Œç°ä¸ºäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼ˆCNCFï¼‰é¡¹ç›®ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯é€šè¿‡æŠ½è±¡ç½‘ç»œé€šä¿¡ç»†èŠ‚ï¼Œè®©å¼€å‘è€…åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¼”è¿›èƒŒæ™¯&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æºè‡ª Google å†…éƒ¨ RPC æ¡†æ¶ &lt;strong&gt;Stubby&lt;/strong&gt;ï¼ˆæœåŠ¡æ•°æ®ä¸­å¿ƒåäº¿çº§å¾®æœåŠ¡ï¼‰ï¼Œ2015 å¹´å¼€æºã€‚&lt;/li&gt;
&lt;li&gt;è®¾è®¡åˆè¡·ï¼šè§£å†³å¾®æœåŠ¡æ¶æ„ä¸­æœåŠ¡é—´é€šä¿¡çš„ &lt;strong&gt;æ€§èƒ½ç“¶é¢ˆ&lt;/strong&gt; ä¸ &lt;strong&gt;è·¨è¯­è¨€åä½œé—®é¢˜&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒæŠ€æœ¯åŸç†"&gt;âš™ï¸ &lt;strong&gt;æ ¸å¿ƒæŠ€æœ¯åŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="é€šä¿¡æ¶æ„åˆ†å±‚"&gt;&lt;strong&gt;é€šä¿¡æ¶æ„åˆ†å±‚&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¼ è¾“å±‚ï¼šåŸºäº HTTP/2 åè®®
&lt;ul&gt;
&lt;li&gt;å¤šè·¯å¤ç”¨ï¼šå• TCP è¿æ¥å¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚/å“åº”ï¼Œé¿å…é˜Ÿå¤´é˜»å¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŒå‘æµï¼šæ”¯æŒå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å®æ—¶åŒå‘æ•°æ®æµä¼ è¾“ï¼ˆå¦‚èŠå¤©ã€å®æ—¶ç›‘æ§ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;å¤´éƒ¨å‹ç¼©ï¼ˆHPACKï¼‰ï¼šå‡å°‘å†—ä½™æ•°æ®ä¼ è¾“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åºåˆ—åŒ–å±‚ï¼šé‡‡ç”¨ Protocol Buffersï¼ˆProtobufï¼‰
&lt;ul&gt;
&lt;li&gt;äºŒè¿›åˆ¶ç¼–ç ï¼šæ¶ˆæ¯ä½“ç§¯æ¯” JSON/XML å° &lt;strong&gt;60â€“80%&lt;/strong&gt;ï¼Œåºåˆ—åŒ–é€Ÿåº¦å¿« &lt;strong&gt;8 å€&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¼ºç±»å‹çº¦æŸï¼šé€šè¿‡ &lt;code&gt;.proto&lt;/code&gt; æ–‡ä»¶å®šä¹‰æœåŠ¡æ¥å£ä¸æ•°æ®ç»“æ„ï¼Œç¼–è¯‘æ—¶ç”Ÿæˆå¤šè¯­è¨€ä»£ç ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœåŠ¡æ²»ç†å±‚ï¼šå†…ç½® æ‹¦æˆªå™¨æœºåˆ¶
&lt;ul&gt;
&lt;li&gt;æ”¯æŒè®¤è¯ã€æ—¥å¿—ã€ç›‘æ§ã€è´Ÿè½½å‡è¡¡ç­‰ä¸­é—´ä»¶æ‰©å±•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å››ç§é€šä¿¡æ¨¡å¼"&gt;&lt;strong&gt;å››ç§é€šä¿¡æ¨¡å¼&lt;/strong&gt;
&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æ¨¡å¼&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä¸€å…ƒ RPC&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç®€å•è¯·æ±‚-å“åº”ï¼ˆå¦‚æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;code&gt;rpc GetUser(UserID) returns (User)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æœåŠ¡ç«¯æµå¼&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æœåŠ¡ç«¯æŒç»­æ¨é€ï¼ˆå¦‚å®æ—¶æ—¥å¿—ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;code&gt;rpc Subscribe(Filter) returns (stream LogEntry)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å®¢æˆ·ç«¯æµå¼&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å®¢æˆ·ç«¯åˆ†æ‰¹ä¸Šä¼ ï¼ˆå¦‚æ–‡ä»¶åˆ†ç‰‡ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;code&gt;rpc Upload(stream Chunk) returns (Response)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŒå‘æµå¼&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å®æ—¶äº¤äº’ï¼ˆå¦‚åœ¨çº¿æ¸¸æˆæŒ‡ä»¤ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;code&gt;rpc Chat(stream Message) returns (stream Reply)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id="å·¥ä½œæµç¨‹"&gt;&lt;strong&gt;å·¥ä½œæµç¨‹&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;graph LR
A[å®šä¹‰.protoæ–‡ä»¶] --&amp;gt; B[protocç”Ÿæˆä»£ç ]
B --&amp;gt; C[å®ç°æœåŠ¡ç«¯é€»è¾‘]
B --&amp;gt; D[å®ç°å®¢æˆ·ç«¯è°ƒç”¨]
C --&amp;gt; E[å¯åŠ¨gRPCæœåŠ¡å™¨]
D --&amp;gt; F[å‘èµ·RPCè¯·æ±‚]
E --&amp;gt; G[HTTP/2ä¼ è¾“ + Protobufç¼–ç ]
F --&amp;gt; G
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒä¼˜åŠ¿-1"&gt;ğŸš€ &lt;strong&gt;æ ¸å¿ƒä¼˜åŠ¿&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½æè‡´åŒ–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;HTTP/2 å¤šè·¯å¤ç”¨ + Protobuf é«˜æ•ˆç¼–ç  â†’ å»¶è¿Ÿé™ä½ &lt;strong&gt;30%+&lt;/strong&gt;ï¼Œååé‡æå‡ &lt;strong&gt;5 å€&lt;/strong&gt;ï¼ˆå¯¹æ¯” RESTful JSONï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;äºŒè¿›åˆ¶ä¼ è¾“å‡å°‘ CPU/å¸¦å®½æ¶ˆè€—ï¼Œå°¤å…¶é€‚åˆç§»åŠ¨ç«¯ä¸ IoT è®¾å¤‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¨è¯­è¨€æ— ç¼åä½œ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒ &lt;strong&gt;11+ è¯­è¨€&lt;/strong&gt;ï¼ˆGo/Java/Python/C#/Node.js ç­‰ï¼‰ï¼Œé€šè¿‡ä»£ç ç”Ÿæˆç»Ÿä¸€æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;å…¸å‹ç”¨ä¾‹ï¼šJava å¾®æœåŠ¡è°ƒç”¨ Go ç¼–å†™çš„ç®—æ³•æœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‘åŸç”Ÿå‹å¥½&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;åŸç”Ÿé›†æˆ &lt;strong&gt;Kubernetes æœåŠ¡å‘ç°&lt;/strong&gt;ã€&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;ï¼ˆå¦‚ gRPC-LBï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¥åº·æ£€æŸ¥ã€TLS åŠ å¯†ã€è¿½è¸ªï¼ˆOpenTelemetryï¼‰å¼€ç®±å³ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å…¸å‹åº”ç”¨åœºæ™¯"&gt;ğŸŒ &lt;strong&gt;å…¸å‹åº”ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¾®æœåŠ¡é—´é€šä¿¡&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ›¿ä»£ RESTfulï¼šNetflixã€Dropbox ç”¨ gRPC å®ç°æœåŠ¡é—´é«˜æ€§èƒ½äº¤äº’ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡ç½‘æ ¼ï¼šIstio é»˜è®¤ä½¿ç”¨ gRPC ä¼ è¾“æ§åˆ¶å¹³é¢æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶ç³»ç»Ÿ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é‡‘èäº¤æ˜“ï¼šåŒå‘æµæ”¯æŒæ¯«ç§’çº§è®¢å•æ¨é€ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨çº¿æ¸¸æˆï¼šç©å®¶çŠ¶æ€åŒæ­¥ä¸æŒ‡ä»¤å®æ—¶ä¼ è¾“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¨å¹³å°æ•°æ®ç®¡é“&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;IoT è®¾å¤‡ï¼šä¼ æ„Ÿå™¨æ•°æ®é«˜æ•ˆä¸ŠæŠ¥è‡³äº‘ç«¯åˆ†ææœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;ç§»åŠ¨ç«¯ï¼šApp ä¸åç«¯ API äº¤äº’ï¼ˆå¦‚ Google Play Servicesï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤§è§„æ¨¡æ•°æ®å¤„ç†&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æµå¼ä¼ è¾“æ”¯æŒåˆ†æ‰¹å¤„ç† PB çº§æ•°æ®ï¼ˆå¦‚ Spark/Flink ä»»åŠ¡è°ƒåº¦ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å¼€å‘ç”Ÿæ€ä¸å·¥å…·é“¾"&gt;ğŸ› ï¸ &lt;strong&gt;å¼€å‘ç”Ÿæ€ä¸å·¥å…·é“¾&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒå·¥å…·&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;protoc&lt;/strong&gt;ï¼šç¼–è¯‘ &lt;code&gt;.proto&lt;/code&gt; æ–‡ä»¶ç”Ÿæˆå®¢æˆ·ç«¯/æœåŠ¡ç«¯ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gRPC Gateway&lt;/strong&gt;ï¼šå°† gRPC æœåŠ¡è‡ªåŠ¨æš´éœ²ä¸º RESTful APIï¼ˆå…¼å®¹ä¼ ç»Ÿå‰ç«¯ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•ç»„ä»¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰&lt;/strong&gt;ï¼šå®ç°è®¤è¯ï¼ˆJWT/OAuthï¼‰ã€é™æµã€æ—¥å¿—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¥åº·æ£€æŸ¥åè®®&lt;/strong&gt;ï¼šKubernetes å°±ç»ªæ¢é’ˆé›†æˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡å™¨&lt;/strong&gt;ï¼šæ”¯æŒå®¢æˆ·ç«¯æƒé‡åˆ†é…ã€ä¸€è‡´æ€§å“ˆå¸Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è°ƒè¯•å·¥å…·&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;grpcurl&lt;/strong&gt;ï¼šç±»ä¼¼ cURL çš„å‘½ä»¤è¡Œè°ƒè¯•å·¥å…·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;BloomRPC&lt;/strong&gt;ï¼šå›¾å½¢åŒ–ç•Œé¢æµ‹è¯• gRPC æœåŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æŒ‘æˆ˜ä¸åº”å¯¹"&gt;âš ï¸ &lt;strong&gt;æŒ‘æˆ˜ä¸åº”å¯¹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;UDP é™åˆ¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;éƒ¨åˆ†é˜²ç«å¢™é˜»æ–­ UDP â†’ æä¾› &lt;strong&gt;TCP Fallback æ–¹æ¡ˆ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è°ƒè¯•å¤æ‚åº¦&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;äºŒè¿›åˆ¶åè®®éš¾è§£æ â†’ ä½¿ç”¨ &lt;strong&gt;grpc-tui&lt;/strong&gt; ç­‰å¯è§†åŒ–å·¥å…·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CPU å¼€é”€&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Protobuf ç¼–ç /åŠ å¯†è®¡ç®—å¯†é›† â†’ ç¡¬ä»¶åŠ é€Ÿæˆ– QUIC åè®®ä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-4"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;gRPC ä»¥ &lt;strong&gt;HTTP/2 ä¸ºåŠ¨è„‰&lt;/strong&gt;ã€&lt;strong&gt;Protobuf ä¸ºè¡€æ¶²&lt;/strong&gt;ï¼Œé‡æ„äº†åˆ†å¸ƒå¼é€šä¿¡çš„æ•ˆç‡æ ‡å‡†ã€‚å…¶ä»·å€¼ä¸ä»…åœ¨äºæ€§èƒ½æå‡ï¼ˆå»¶è¿Ÿâ†“ã€ååâ†‘ï¼‰ï¼Œæ›´åœ¨äºé€šè¿‡ &lt;strong&gt;ä»£ç ç”Ÿæˆ&lt;/strong&gt; ä¸ &lt;strong&gt;è·¨è¯­è¨€æ”¯æŒ&lt;/strong&gt; å½»åº•è§£è€¦äº†æœåŠ¡å®ç°ä¸æŠ€æœ¯æ ˆã€‚åœ¨å¾®æœåŠ¡ä¸äº‘åŸç”Ÿæˆä¸ºä¸»æµçš„ä»Šå¤©ï¼ŒgRPC å·²æˆä¸ºæ„å»ºé«˜æ€§èƒ½ã€å¯è§‚æµ‹ã€è·¨å¹³å°ç³»ç»Ÿçš„ &lt;strong&gt;æ ¸å¿ƒé€šä¿¡åŸºç¡€è®¾æ–½&lt;/strong&gt;ã€‚æ­£å¦‚å¾®è½¯ Azure æ¶æ„å¸ˆæ‰€è¨€ï¼šâ€œgRPC ä¸æ˜¯æœªæ¥ï¼Œè€Œæ˜¯ç°åœ¨â€”â€”å®ƒæ˜¯äº‘åŸç”Ÿæ—¶ä»£çš„ TCP/IPã€‚â€&lt;/p&gt;
&lt;h2 id="mtu--mss"&gt;MTU &amp;amp; MSS
&lt;/h2&gt;&lt;p&gt;MTUï¼ˆMaximum Transmission Unitï¼Œæœ€å¤§ä¼ è¾“å•å…ƒï¼‰å’Œ MSSï¼ˆMaximum Segment Sizeï¼Œæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ï¼‰æ˜¯ç½‘ç»œåè®®æ ˆä¸­ä¸åŒå±‚çš„å…³é”®å‚æ•°ï¼ŒäºŒè€…ååŒç¡®ä¿æ•°æ®é«˜æ•ˆå¯é ä¼ è¾“ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒå®šä¹‰ä¸ä½œç”¨"&gt;ğŸ” &lt;strong&gt;æ ¸å¿ƒå®šä¹‰ä¸ä½œç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;MTUï¼ˆæœ€å¤§ä¼ è¾“å•å…ƒï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å±‚çº§&lt;/strong&gt;ï¼šæ•°æ®é“¾è·¯å±‚ï¼ˆOSI ç¬¬äºŒå±‚ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼šå•æ¬¡ä¼ è¾“ä¸­&lt;strong&gt;æ•°æ®é“¾è·¯å±‚å…è®¸çš„æœ€å¤§å¸§é•¿åº¦&lt;/strong&gt;ï¼ˆå«å¸§å¤´ã€å¸§å°¾ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å…¸å‹å€¼ï¼š
&lt;ul&gt;
&lt;li&gt;æ ‡å‡†ä»¥å¤ªç½‘ï¼š&lt;strong&gt;1500 å­—èŠ‚&lt;/strong&gt;ï¼ˆæ•°æ®éƒ¨åˆ†ï¼Œä¸å«14å­—èŠ‚å¸§å¤´å’Œ4å­—èŠ‚CRCï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;PPPoEæ‹¨å·ç½‘ç»œï¼š&lt;strong&gt;1492 å­—èŠ‚&lt;/strong&gt;ï¼ˆå› PPPåè®®å¤´å ç”¨8å­—èŠ‚ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çº¦æŸèŒƒå›´&lt;/strong&gt;ï¼šé™åˆ¶IPå±‚æ•°æ®åŒ…å¤§å°ï¼Œè¶…é™åˆ™è§¦å‘åˆ†ç‰‡ï¼ˆFragmentationï¼‰æˆ–ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MSSï¼ˆæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å±‚çº§&lt;/strong&gt;ï¼šä¼ è¾“å±‚ï¼ˆOSI ç¬¬å››å±‚ï¼‰ï¼Œ&lt;strong&gt;ä»…é€‚ç”¨äºTCPåè®®&lt;/strong&gt;ï¼ŒUDPæ— æ­¤æ¦‚å¿µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼šTCPæ®µä¸­&lt;strong&gt;æ•°æ®éƒ¨åˆ†ï¼ˆPayloadï¼‰çš„æœ€å¤§é•¿åº¦&lt;/strong&gt;ï¼Œä¸å«TCPå¤´ï¼ˆ20å­—èŠ‚ï¼‰å’ŒIPå¤´ï¼ˆ20å­—èŠ‚ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å…¸å‹å€¼ï¼š
&lt;ul&gt;
&lt;li&gt;ä»¥å¤ªç½‘ç¯å¢ƒï¼š&lt;strong&gt;1460 å­—èŠ‚&lt;/strong&gt;ï¼ˆMTU 1500 - 40å­—èŠ‚å¤´éƒ¨å¼€é”€ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åå•†æœºåˆ¶&lt;/strong&gt;ï¼šåœ¨TCPä¸‰æ¬¡æ¡æ‰‹æ—¶ï¼ŒåŒæ–¹é€šè¿‡SYNåŒ…çš„é€‰é¡¹å­—æ®µäº¤æ¢MSSå€¼ï¼Œæœ€ç»ˆå–ä¸¤è€…è¾ƒå°å€¼ä½œä¸ºè¿æ¥ä¸Šé™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-mtuä¸mssçš„å…³ç³»"&gt;âš™ï¸ &lt;strong&gt;MTUä¸MSSçš„å…³ç³»&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;MTU&lt;/th&gt;
&lt;th&gt;MSS&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä½œç”¨å±‚çº§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ•°æ®é“¾è·¯å±‚ï¼ˆç¬¬äºŒå±‚ï¼‰&lt;/td&gt;
&lt;td&gt;ä¼ è¾“å±‚ï¼ˆç¬¬å››å±‚ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;çº¦æŸå¯¹è±¡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ•´ä¸ªæ•°æ®å¸§ï¼ˆå«å¤´éƒ¨ï¼‰&lt;/td&gt;
&lt;td&gt;TCPæ®µçš„æ•°æ®éƒ¨åˆ†ï¼ˆä¸å«å¤´éƒ¨ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¸å‹å€¼ï¼ˆä»¥å¤ªç½‘ï¼‰&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;1500 å­—èŠ‚&lt;/td&gt;
&lt;td&gt;1460 å­—èŠ‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è®¡ç®—å…³ç³»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸Šå±‚åè®®çš„åŸºç¡€çº¦æŸ&lt;/td&gt;
&lt;td&gt;MSS = MTU - IPå¤´(20) - TCPå¤´(20)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ ¸å¿ƒç›®æ ‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é¿å…ç‰©ç†å±‚åˆ†ç‰‡&lt;/td&gt;
&lt;td&gt;é¿å…IPå±‚åˆ†ç‰‡ï¼Œä¼˜åŒ–TCPä¼ è¾“æ•ˆç‡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;å…³é”®åä½œæœºåˆ¶&lt;/strong&gt;ï¼š
MSSçš„è®¾å®šæ˜¯ä¸ºäº†è®©TCPæ®µåŠ ä¸ŠIPå¤´åä¸è¶…è¿‡MTUï¼Œä»è€Œ&lt;strong&gt;é¿å…IPå±‚åˆ†ç‰‡&lt;/strong&gt;ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥MTU=1500ï¼Œåˆ™MSSâ‰¤1460ï¼›&lt;/li&gt;
&lt;li&gt;è‹¥å‘é€æ–¹å¿½ç•¥MSSï¼Œå‘é€2000å­—èŠ‚æ•°æ® â†’ IPå±‚éœ€åˆ†ç‰‡ï¼ˆå¦‚1500+500ï¼‰ï¼Œé™ä½æ•ˆç‡ä¸”æ˜“ä¸¢åŒ…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-åˆ†ç‰‡æœºåˆ¶ä¸é—®é¢˜"&gt;âš ï¸ &lt;strong&gt;åˆ†ç‰‡æœºåˆ¶ä¸é—®é¢˜&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;IPåˆ†ç‰‡è§¦å‘æ¡ä»¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å½“IPåŒ…å¤§å° &amp;gt; è·¯å¾„MTUï¼ˆè·¯å¾„ä¸­æœ€å°çš„MTUï¼‰æ—¶ï¼Œè·¯ç”±å™¨ä¼šåˆ†ç‰‡ä¼ è¾“ï¼ˆé™¤éDFæ ‡å¿—ä½=1ç¦æ­¢åˆ†ç‰‡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DFæ ‡å¿—ä½&lt;/strong&gt;ï¼šè‹¥ç½®1ä¸”æ•°æ®åŒ…è¶…MTUï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒå¹¶è¿”å›ICMPé”™è¯¯ï¼ˆå¦‚&lt;code&gt;Packet needs to be fragmented but DF set&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†ç‰‡çš„è´Ÿé¢å½±å“&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½ä¸‹é™&lt;/strong&gt;ï¼šåˆ†ç‰‡/é‡ç»„æ¶ˆè€—CPUèµ„æºï¼Œå¢åŠ å»¶è¿Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯é æ€§é™ä½&lt;/strong&gt;ï¼šä»»æ„åˆ†ç‰‡ä¸¢å¤±ä¼šå¯¼è‡´æ•´ä¸ªIPåŒ…é‡ä¼ ï¼ˆTCPè‹¥æœªæ„ŸçŸ¥åˆ†ç‰‡ï¼Œé‡ä¼ æ•ˆç‡æ›´ä½ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨é£é™©&lt;/strong&gt;ï¼šåˆ†ç‰‡åŒ…æ˜“è¢«é˜²ç«å¢™è¯¯æ‹¦æˆªï¼ˆå¦‚å±è”½ICMPå¯¼è‡´MTUæ¢æµ‹å¤±è´¥ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å®é™…åœºæ™¯åº”ç”¨"&gt;ğŸ› ï¸ &lt;strong&gt;å®é™…åœºæ™¯åº”ç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;MTU/MSSè°ƒæ•´åœºæ™¯&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PPPoEæ‹¨å·&lt;/strong&gt;ï¼šMTUéœ€è®¾ä¸º1492ï¼ŒMSSç›¸åº”è°ƒæ•´ä¸º1452ï¼ˆ1492 - 40ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;VPN/éš§é“å°è£…ï¼ˆå¦‚IPsecã€GREï¼‰ï¼š
&lt;ul&gt;
&lt;li&gt;é¢å¤–å¤´éƒ¨ï¼ˆå¦‚IPsecå¤´50å­—èŠ‚ï¼‰å ç”¨MTUç©ºé—´ â†’ éœ€é™ä½MTUï¼ˆä¾‹ï¼š1386ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;é…ç½®å‘½ä»¤ç¤ºä¾‹ï¼ˆLinuxï¼‰ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;ifconfig eth0 mtu 1380 # è°ƒæ•´ç½‘å¡MTU
iptables -t mangle -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --set-mss 1340 # å¼ºåˆ¶MSS
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¸¸æˆ/å®æ—¶åº”ç”¨&lt;/strong&gt;ï¼šMTUè®¾ä¸º1450~1470ï¼Œç‰ºç‰²å°‘è®¸æ•ˆç‡æ¢å–ç¨³å®šæ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MTUæ£€æµ‹æ–¹æ³•&lt;/strong&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ping -f -l &amp;lt;æ•°æ®å¤§å°&amp;gt; &amp;lt;ç½‘å…³IP&amp;gt; # Windows/Macé€šç”¨
# ç¤ºä¾‹ï¼šæµ‹è¯•1492å­—èŠ‚æ˜¯å¦å¯è¡Œï¼ˆå®é™…åŒ…å¤§å°=1492+28ï¼‰
ping -f -l 1492 192.168.1.1
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;è‹¥è¿”å›&lt;code&gt;Reply&lt;/code&gt;è¡¨ç¤ºè¯¥å€¼å¯ç”¨ï¼›è‹¥è¿”å›&lt;code&gt;Packet needs to be fragmented&lt;/code&gt;åˆ™éœ€å‡å°æµ‹è¯•å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-5"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MTU&lt;/strong&gt;ï¼šæ•°æ®é“¾è·¯å±‚çš„â€œæ°´ç®¡ç²—ç»†â€ï¼Œå†³å®šå•å¸§æ•°æ®ä¸Šé™ï¼ˆä»¥å¤ªç½‘é»˜è®¤1500ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MSS&lt;/strong&gt;ï¼šTCPå±‚çš„â€œåˆ‡ç‰‡æ ‡å‡†â€ï¼Œç¡®ä¿æ•°æ®æ®µé€‚åº”MTUï¼ˆé»˜è®¤1460ï¼‰ï¼Œé¿å…IPåˆ†ç‰‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒåä½œ&lt;/strong&gt;ï¼šMSS = MTU - 40ï¼Œé€šè¿‡TCPæ¡æ‰‹åŠ¨æ€åå•†ï¼Œ&lt;strong&gt;ç‰ºç‰²å°é‡å¤´éƒ¨ç©ºé—´æ¢å–é«˜æ•ˆå¯é ä¼ è¾“&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®è·µå»ºè®®&lt;/strong&gt;ï¼šåœ¨PPPoEã€VPNç­‰åœºæ™¯ä¸»åŠ¨è°ƒæ•´MTU/MSSï¼Œå¹¶é€šè¿‡Pingæµ‹è¯•éªŒè¯è·¯å¾„MTUã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ”§ &lt;strong&gt;ç»ˆæç›®æ ‡&lt;/strong&gt;ï¼šè®©æ•°æ®åŒ…â€œä¸€æ¬¡ä¼ è¾“åˆ°ä½â€ï¼Œå‡å°‘åˆ†ç‰‡ä¸é‡ä¼ ï¼Œæå‡ç½‘ç»œæ•ˆç‡ä¸ç¨³å®šæ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="åˆ†ç‰‡é‡ç»„æ”»å‡»"&gt;åˆ†ç‰‡é‡ç»„æ”»å‡»
&lt;/h2&gt;&lt;p&gt;åˆ†ç‰‡é‡ç»„æ”»å‡»æ˜¯ç½‘ç»œæ”»å‡»çš„ä¸€ç±»ï¼Œåˆ©ç”¨IPåè®®çš„åˆ†ç‰‡æœºåˆ¶åŠç›®æ ‡ç³»ç»Ÿåœ¨é‡ç»„åˆ†ç‰‡æ—¶çš„æ¼æ´ï¼Œé€šè¿‡æ„é€ å¼‚å¸¸åˆ†ç‰‡æŠ¥æ–‡å¯¼è‡´ç³»ç»Ÿå´©æºƒã€èµ„æºè€—å°½æˆ–ç»•è¿‡å®‰å…¨æ£€æµ‹ã€‚ä»¥ä¸‹ä»æ”»å‡»åŸç†ã€ç±»å‹ã€å½±å“åŠé˜²å¾¡æªæ–½å››æ–¹é¢å±•å¼€è¯¦è§£ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ”»å‡»åŸç†åˆ†ç‰‡æœºåˆ¶ä¸æ¼æ´æ ¹æº"&gt;âš™ï¸ &lt;strong&gt;æ”»å‡»åŸç†ï¼šåˆ†ç‰‡æœºåˆ¶ä¸æ¼æ´æ ¹æº&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;IPåè®®ä¸ºé€‚åº”ä¸åŒé“¾è·¯MTUï¼ˆå¦‚ä»¥å¤ªç½‘1500å­—èŠ‚ï¼‰ï¼Œå°†å¤§åŒ…æ‹†åˆ†ä¸ºå¤šä¸ª&lt;strong&gt;åˆ†ç‰‡&lt;/strong&gt;ï¼ˆFragmentï¼‰ï¼Œæ¥æ”¶ç«¯éœ€é‡ç»„è¿˜åŸã€‚å…³é”®å­—æ®µåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ‡è¯†ç¬¦ï¼ˆIdentificationï¼‰&lt;/strong&gt;ï¼šåŒä¸€æ•°æ®åŒ…åˆ†ç‰‡å…±äº«ç›¸åŒIDã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åç§»é‡ï¼ˆFragment Offsetï¼‰&lt;/strong&gt;ï¼šä»¥8å­—èŠ‚ä¸ºå•ä½ï¼Œæ ‡è®°åˆ†ç‰‡åœ¨åŸå§‹åŒ…ä¸­çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ‡å¿—ä½&lt;/strong&gt;ï¼šMFï¼ˆMore Fragments=1è¡¨ç¤ºè¿˜æœ‰åç»­åˆ†ç‰‡ï¼‰ã€DFï¼ˆDon&amp;rsquo;t Fragment=1åˆ™ç¦æ­¢åˆ†ç‰‡ï¼‰ã€‚
â€‹&lt;strong&gt;æ”»å‡»æ¼æ´&lt;/strong&gt;ä¸»è¦æºäºï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é‡ç»„é€»è¾‘ç¼ºé™·&lt;/strong&gt;ï¼šæ—©æœŸç³»ç»Ÿï¼ˆå¦‚Windows 95ã€Linux 2.0å‰ï¼‰å¯¹å¼‚å¸¸åç§»/é•¿åº¦å¤„ç†ä¸å½“ï¼Œæ˜“å´©æºƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºç®¡ç†ç¼ºé™·&lt;/strong&gt;ï¼šåˆ†ç‰‡é‡ç»„éœ€ç¼“å­˜æ‰€æœ‰åˆ†ç‰‡ç›´è‡³å®Œæ•´ï¼Œæ”»å‡»è€…å¯è€—å°½å†…å­˜æˆ–CPUã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨ç­–ç•¥ç»•è¿‡&lt;/strong&gt;ï¼šä»…é¦–ä¸ªåˆ†ç‰‡å«ä¼ è¾“å±‚å¤´ï¼ˆå¦‚TCPç«¯å£ï¼‰ï¼Œåç»­åˆ†ç‰‡æ— æ­¤ä¿¡æ¯ï¼Œé˜²ç«å¢™å¯èƒ½æ”¾è¡Œæ¶æ„åˆ†ç‰‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å¸¸è§æ”»å‡»ç±»å‹åŠè¿ä½œæœºåˆ¶"&gt;âš ï¸ &lt;strong&gt;å¸¸è§æ”»å‡»ç±»å‹åŠè¿ä½œæœºåˆ¶&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="æ³ªæ»´æ”»å‡»teardrop"&gt;&lt;strong&gt;æ³ªæ»´æ”»å‡»ï¼ˆTeardropï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šæ„é€ &lt;strong&gt;åç§»é‡å &lt;/strong&gt;çš„åˆ†ç‰‡ï¼Œå¦‚ç¬¬ä¸€ç‰‡ç»“æŸä½ç½®ä¸º100ï¼Œç¬¬äºŒç‰‡åç§»é‡å´è®¾ä¸º50ï¼Œå¯¼è‡´é‡ç»„æ—¶è®¡ç®—è´Ÿé•¿åº¦æˆ–ç¼“å†²åŒºæº¢å‡ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å½±å“&lt;/strong&gt;ï¼šæ—©æœŸç³»ç»Ÿå´©æºƒï¼ˆå¦‚Windows 3.1ï¼‰ï¼Œç°ä»£ç³»ç»Ÿå·²ä¿®å¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å˜ç§&lt;/strong&gt;ï¼šSyndropï¼ˆä½¿ç”¨TCP SYNæ ‡å¿—ï¼‰ã€NewTearï¼ˆUDPåè®®ï¼‰ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="åˆ†ç‰‡æº¢å‡ºæ”»å‡»fragment-overflow"&gt;&lt;strong&gt;åˆ†ç‰‡æº¢å‡ºæ”»å‡»ï¼ˆFragment Overflowï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šå‘é€&lt;strong&gt;åˆ†ç‰‡æ•°é‡å·¨å¤§&lt;/strong&gt;ï¼ˆå¦‚&amp;gt;8189ç‰‡ï¼‰æˆ–&lt;strong&gt;åç§»é‡è¶…å¤§&lt;/strong&gt;ï¼ˆOffset&amp;gt;8190ï¼‰çš„æŠ¥æ–‡ï¼Œè¿«ä½¿æ¥æ”¶ç«¯åˆ†é…è¿‡é‡å†…å­˜ï¼ˆå¦‚Offset=65528æ—¶éœ€é¢„ç•™512KBå†…å­˜ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å½±å“&lt;/strong&gt;ï¼šCPU/å†…å­˜è€—å°½ï¼ŒæœåŠ¡æ‹’ç»ï¼ˆDoSï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="é‡ç»„å»¶è¿Ÿæ”»å‡»delayed-reassembly"&gt;&lt;strong&gt;é‡ç»„å»¶è¿Ÿæ”»å‡»ï¼ˆDelayed Reassemblyï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šæ•…æ„&lt;strong&gt;ä¸å‘é€æœ€åä¸€ä¸ªåˆ†ç‰‡&lt;/strong&gt;ï¼Œä½¿æ¥æ”¶ç«¯é•¿æœŸç­‰å¾…ï¼ˆé‡ç»„è¶…æ—¶é€šå¸¸30-60ç§’ï¼‰ï¼Œå ç”¨é‡ç»„é˜Ÿåˆ—èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å½±å“&lt;/strong&gt;ï¼šè¿æ¥èµ„æºè€—å°½ï¼Œæ­£å¸¸è¯·æ±‚æ— æ³•å¤„ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="åˆ†ç‰‡ä¼ªé€ æ”»å‡»fragment-spoofing"&gt;&lt;strong&gt;åˆ†ç‰‡ä¼ªé€ æ”»å‡»ï¼ˆFragment Spoofingï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;åŸç†ï¼šä¼ªé€ åˆ†ç‰‡IDæˆ–åç§»é‡ï¼Œç»•è¿‡é˜²ç«å¢™/IDSæ£€æµ‹ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ’å…¥æ”»å‡»&lt;/strong&gt;ï¼šå‘IDSå‘é€æ­£å¸¸åˆ†ç‰‡ï¼Œå‘ç›®æ ‡å‘é€æ¶æ„åˆ†ç‰‡ï¼ˆå¦‚åç§»é‡ä¸åŒï¼‰ï¼ŒIDSé‡ç»„ç»“æœä¸ç›®æ ‡ä¸ä¸€è‡´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€ƒé¿æ”»å‡»&lt;/strong&gt;ï¼šå»¶è¿Ÿå‘é€åˆ†ç‰‡ï¼Œåˆ©ç”¨IDSä¸ç›®æ ‡é‡ç»„è¶…æ—¶å·®å¼‚ï¼ˆå¦‚IDSè¶…æ—¶15ç§’ï¼Œç›®æ ‡30ç§’ï¼‰ï¼Œä½¿æ¶æ„åˆ†ç‰‡è¢«ç›®æ ‡æ¥æ”¶ä½†IDSä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å…¶ä»–å˜ç§æ”»å‡»"&gt;&lt;strong&gt;å…¶ä»–å˜ç§æ”»å‡»&lt;/strong&gt;
&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æ”»å‡»ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹å¾&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å½±å“&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Ping of Death&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å‘é€&lt;strong&gt;è¶…é•¿ICMPåŒ…&lt;/strong&gt;ï¼ˆ&amp;gt;65507å­—èŠ‚ï¼‰ï¼Œé‡ç»„åè¶…å‡ºIPåŒ…æœ€å¤§é•¿åº¦65535å­—èŠ‚ã€‚&lt;/td&gt;
&lt;td&gt;å†…æ ¸å´©æºƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Jolt&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ„é€ &lt;strong&gt;æ€»é•¿åº¦&amp;gt;65535å­—èŠ‚&lt;/strong&gt;çš„åˆ†ç‰‡é›†åˆï¼ˆå¦‚173ç‰‡Ã—380å­—èŠ‚ï¼‰ã€‚&lt;/td&gt;
&lt;td&gt;ç³»ç»Ÿæ­»æœºæˆ–é‡å¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Rose&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç¬¬äºŒç‰‡åç§»é‡è®¾ä¸º65408ï¼ˆæ­£å¸¸ä¸Šé™8189ï¼‰ï¼Œåˆ¶é€ è¶…å¤§é‡ç»„ç©ºé—´ã€‚&lt;/td&gt;
&lt;td&gt;å†…å­˜è€—å°½&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æ”»å‡»å½±å“ä¸æ¼”è¿›"&gt;ğŸ’¥ &lt;strong&gt;æ”»å‡»å½±å“ä¸æ¼”è¿›&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å†å²å½±å“&lt;/strong&gt;ï¼šä¸»è¦é’ˆå¯¹1990s-2000såˆçš„æ“ä½œç³»ç»Ÿï¼ˆWindows 95/NTã€Linux 2.0å‰ï¼‰ï¼Œå¼•å‘è“å±/é‡å¯ã€‚&lt;/li&gt;
&lt;li&gt;ç°ä»£é£é™©ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è€æ—§è®¾å¤‡&lt;/strong&gt;ï¼šæœªæ›´æ–°ç³»ç»Ÿçš„å·¥ä¸šæ§åˆ¶è®¾å¤‡ä»å¯è¢«æ”»å‡»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºè€—å°½&lt;/strong&gt;ï¼šåˆ†ç‰‡æ´ªæ³›ä»å¯æ¶ˆè€—æœåŠ¡å™¨å†…å­˜/CPUã€‚
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨ç»•è¿‡&lt;/strong&gt;ï¼šé˜²ç«å¢™è‹¥æœªæ·±åº¦æ£€æµ‹åˆ†ç‰‡ï¼Œæ¶æ„æ•°æ®å¯ç»•è¿‡ç­–ç•¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IPv6å·®å¼‚&lt;/strong&gt;ï¼šåˆ†ç‰‡æœºåˆ¶æ›´ä¸¥è°¨ï¼ˆä»…åœ¨æºç«¯åˆ†ç‰‡ï¼‰ï¼Œæ³ªæ»´ç±»æ”»å‡»åŸºæœ¬å¤±æ•ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-é˜²å¾¡æªæ–½ä¸å®è·µæ–¹æ¡ˆ"&gt;ğŸ›¡ï¸ &lt;strong&gt;é˜²å¾¡æªæ–½ä¸å®è·µæ–¹æ¡ˆ&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="ç³»ç»Ÿä¸åè®®å±‚åŠ å›º"&gt;&lt;strong&gt;ç³»ç»Ÿä¸åè®®å±‚åŠ å›º&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ›´æ–°è¡¥ä¸&lt;/strong&gt;ï¼šä¿®å¤é‡ç»„é€»è¾‘æ¼æ´ï¼ˆå¦‚Linuxå†…æ ¸â‰¥2.0.32ã€Windows XPåç‰ˆæœ¬å…ç–«æ³ªæ»´æ”»å‡»ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯ç”¨DFä½&lt;/strong&gt;ï¼šåº”ç”¨å±‚è®¾ç½®&lt;code&gt;DF=1&lt;/code&gt;ï¼ˆDon&amp;rsquo;t Fragmentï¼‰ï¼Œå¼ºåˆ¶è·¯å¾„MTUå‘ç°ï¼ˆPMTUDï¼‰ï¼Œé¿å…åˆ†ç‰‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IPv6è¿ç§»&lt;/strong&gt;ï¼šè®¾è®¡ä¸Šå‡å°‘åˆ†ç‰‡æ”»å‡»é¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ç½‘ç»œè®¾å¤‡é…ç½®"&gt;&lt;strong&gt;ç½‘ç»œè®¾å¤‡é…ç½®&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;é˜²ç«å¢™è§„åˆ™ï¼š
&lt;ul&gt;
&lt;li&gt;ä¸¢å¼ƒ&lt;strong&gt;å¼‚å¸¸åˆ†ç‰‡&lt;/strong&gt;ï¼šé‡å åç§»ã€è¶…å¤§Offsetï¼ˆ&amp;gt;8190ï¼‰ã€åˆ†ç‰‡æ•°é‡è¿‡å¤šï¼ˆ&amp;gt;8189ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ACLè¿‡æ»¤ï¼š&lt;code&gt;access-list 101 deny ip any any fragment&lt;/code&gt;ï¼ˆCiscoå‘½ä»¤ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ·±åº¦æ£€æµ‹&lt;/strong&gt;ï¼šé˜²ç«å¢™/IDSé‡ç»„åˆ†ç‰‡ååŒ¹é…å®‰å…¨ç­–ç•¥ï¼ˆéœ€é«˜æ€§èƒ½æ”¯æŒï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="èµ„æºé™åˆ¶ä¸ç›‘æ§"&gt;&lt;strong&gt;èµ„æºé™åˆ¶ä¸ç›‘æ§&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é‡ç»„è¶…æ—¶ç¼©çŸ­&lt;/strong&gt;ï¼šå¦‚ä»é»˜è®¤60ç§’é™è‡³15ç§’ï¼ŒåŠ é€Ÿé‡Šæ”¾æœªå®Œæˆé‡ç»„é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜é™åˆ¶&lt;/strong&gt;ï¼šé™åˆ¶å•IPåˆ†ç‰‡ç¼“å­˜å¤§å°ï¼Œé˜²èµ„æºè€—å°½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æµé‡åˆ†æ&lt;/strong&gt;ï¼šç”¨Wiresharkæ£€æµ‹å¼‚å¸¸åˆ†ç‰‡ï¼ˆåç§»ä¸è¿ç»­ã€é•¿åº¦çŸ›ç›¾ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="é«˜çº§é˜²æŠ¤æŠ€æœ¯"&gt;&lt;strong&gt;é«˜çº§é˜²æŠ¤æŠ€æœ¯&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åˆ†ç‰‡CARé™é€Ÿ&lt;/strong&gt;ï¼šå¯¹é‡å¤åˆ†ç‰‡ï¼ˆç›¸åŒOffsetï¼‰é™æµï¼Œä»…ä¿ç•™é¦–ç‰‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸºäºç›®æ ‡çš„IDS&lt;/strong&gt;ï¼šå¦‚Snortçš„&lt;code&gt;frag3&lt;/code&gt;æ¨¡å—ï¼Œæ¨¡æ‹Ÿç›®æ ‡ä¸»æœºé‡ç»„ç­–ç•¥ï¼Œé¿å…æ£€æµ‹ç»•è¿‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ å¯†ä¸éš§é“ç®¡ç†&lt;/strong&gt;ï¼šIPsecåŠ å¯†åˆ†ç‰‡ï¼ˆä¿éšœå®Œæ•´æ€§ï¼‰ï¼ŒVPNéš§é“è°ƒæ•´MTUé¿å…äºŒæ¬¡åˆ†ç‰‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-6"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;åˆ†ç‰‡é‡ç»„æ”»å‡»æœ¬è´¨æ˜¯&lt;strong&gt;åˆ©ç”¨IPåè®®æ ˆçš„å®¹é”™ç¼ºé™·ä¸èµ„æºç®¡ç†æ¼æ´&lt;/strong&gt;ï¼Œé€šè¿‡ç•¸å½¢åˆ†ç‰‡è§¦å‘ç³»ç»Ÿå´©æºƒï¼ˆå¦‚æ³ªæ»´æ”»å‡»ï¼‰æˆ–è€—å°½èµ„æºï¼ˆå¦‚åˆ†ç‰‡æ´ªæ³›ï¼‰ã€‚ç°ä»£ç³»ç»Ÿè™½å·²ä¿®å¤å¤šæ•°å´©æºƒæ¼æ´ï¼Œä½†åˆ†ç‰‡ä»å¯è¢«ç”¨äº&lt;strong&gt;ç»•è¿‡å®‰å…¨è®¾å¤‡&lt;/strong&gt;æˆ–&lt;strong&gt;å‘èµ·DDoS&lt;/strong&gt;ã€‚é˜²å¾¡éœ€å¤šå±‚åä½œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åè®®å±‚&lt;/strong&gt;ï¼šå¯ç”¨DFä½ã€è¿ç§»IPv6ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»Ÿå±‚&lt;/strong&gt;ï¼šåŠæ—¶æ›´æ–°ã€é™åˆ¶é‡ç»„èµ„æºï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œå±‚&lt;/strong&gt;ï¼šé˜²ç«å¢™è¿‡æ»¤å¼‚å¸¸åˆ†ç‰‡ã€IDSæ¨¡æ‹Ÿç›®æ ‡é‡ç»„ç­–ç•¥ã€‚
åœ¨ç‰©è”ç½‘ï¼ˆè€æ—§è®¾å¤‡ï¼‰å’Œäº‘åŸç”Ÿï¼ˆå¾®æœåŠ¡é€šä¿¡ï¼‰åœºæ™¯ä¸‹ï¼Œåˆ†ç‰‡æ”»å‡»é˜²å¾¡ä»æ˜¯ç½‘ç»œå®‰å…¨çš„å…³é”®é˜²çº¿ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="dos--ddos"&gt;DoS &amp;amp; DDoS
&lt;/h2&gt;&lt;p&gt;DoSï¼ˆæ‹’ç»æœåŠ¡æ”»å‡»ï¼‰å’ŒDDoSï¼ˆåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼‰æ˜¯ä¸¤ç±»æ—¨åœ¨ç˜«ç—ªç›®æ ‡æœåŠ¡çš„ç½‘ç»œæ”»å‡»ï¼Œæ ¸å¿ƒåŒºåˆ«åœ¨äºæ”»å‡»æ¥æºå’Œè§„æ¨¡ã€‚ä»¥ä¸‹ä»å®šä¹‰ã€åŸç†ã€ç±»å‹ã€å½±å“åŠé˜²å¾¡äº”ä¸ªç»´åº¦å…¨é¢è§£æäºŒè€…çš„åŒºåˆ«ä¸è”ç³»ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒå®šä¹‰ä¸æ”»å‡»åŸç†"&gt;ğŸ” &lt;strong&gt;æ ¸å¿ƒå®šä¹‰ä¸æ”»å‡»åŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;DoSï¼ˆDenial of Serviceï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼šå•ä¸€æ”»å‡»æºå‘ç›®æ ‡å‘é€è¿‡é‡è¯·æ±‚ï¼Œè€—å°½ç›®æ ‡èµ„æºï¼ˆå¸¦å®½ã€CPUã€è¿æ¥æ•°ç­‰ï¼‰ï¼Œå¯¼è‡´åˆæ³•ç”¨æˆ·æ— æ³•è®¿é—®æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;åŸç†ï¼š
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨åè®®æ¼æ´ï¼ˆå¦‚TCPä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼šé€šè¿‡å‘é€å¤§é‡&lt;strong&gt;åŠè¿æ¥SYNåŒ…&lt;/strong&gt;ä½†ä¸å®Œæˆæ¡æ‰‹ï¼Œå æ»¡æœåŠ¡å™¨è¿æ¥æ± ï¼ˆSYN Floodï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;èµ„æºè€—å°½ï¼šä¾‹å¦‚UDP Floodæ— å·®åˆ«å‘é€æ•°æ®åŒ…ï¼Œæ¶ˆè€—ç›®æ ‡å¸¦å®½å’Œå¤„ç†èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DDoSï¼ˆDistributed Denial of Serviceï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼šç”±**åƒµå°¸ç½‘ç»œï¼ˆBotnetï¼‰**æ§åˆ¶çš„åˆ†å¸ƒå¼è®¾å¤‡ï¼ˆå¦‚IoTè®¾å¤‡ã€æ„ŸæŸ“ä¸»æœºï¼‰ååŒæ”»å‡»ï¼Œæµé‡æ¥æºåˆ†æ•£ä¸”è§„æ¨¡å·¨å¤§ã€‚&lt;/li&gt;
&lt;li&gt;åŸç†ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸‰å±‚æ¶æ„&lt;/strong&gt;ï¼šæ”»å‡»è€… â†’ ä¸»æ§ç«¯ï¼ˆC&amp;amp;CæœåŠ¡å™¨ï¼‰ â†’ ä»£ç†ç«¯ï¼ˆåƒµå°¸è®¾å¤‡ï¼‰ â†’ ç›®æ ‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¾å¤§æ”»å‡»&lt;/strong&gt;ï¼šåˆ©ç”¨åè®®ç¼ºé™·ï¼ˆå¦‚DNS/NTPåå°„ï¼‰ï¼Œä»¥å°è¯·æ±‚è§¦å‘å¤§å“åº”ï¼ˆæµé‡æ”¾å¤§10-500å€ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;graph TD
A[æ”»å‡»è€…] --&amp;gt; B[ä¸»æ§ç«¯ C&amp;amp;CæœåŠ¡å™¨]
B --&amp;gt; C1[ä»£ç†ç«¯ åƒµå°¸è®¾å¤‡1]
B --&amp;gt; C2[ä»£ç†ç«¯ åƒµå°¸è®¾å¤‡2]
B --&amp;gt; C3[... æ•°åƒå°è®¾å¤‡]
C1 --&amp;gt; D[ç›®æ ‡æœåŠ¡å™¨]
C2 --&amp;gt; D
C3 --&amp;gt; D
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id="-æ”»å‡»ç±»å‹ä¸æŠ€æœ¯å¯¹æ¯”"&gt;âš”ï¸ &lt;strong&gt;æ”»å‡»ç±»å‹ä¸æŠ€æœ¯å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;DoSæ”»å‡»&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;DDoSæ”»å‡»&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æµé‡å‹æ”»å‡»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;UDP Floodã€ICMP Ping Flood&lt;/td&gt;
&lt;td&gt;åå°„æ”¾å¤§æ”»å‡»ï¼ˆNTP/DNS Floodï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åè®®å±‚æ”»å‡»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;SYN Floodã€LANDæ”»å‡»&lt;/td&gt;
&lt;td&gt;TCPå…¨è¿æ¥æ”»å‡»ã€SYNæ´ªæ³›&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åº”ç”¨å±‚æ”»å‡»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;HTTPæ…¢é€Ÿæ”»å‡»ï¼ˆè¾ƒå°‘è§ï¼‰&lt;/td&gt;
&lt;td&gt;HTTP Floodã€åˆ·Scriptè„šæœ¬&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ··åˆæ”»å‡»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å•ä¸€æ”»å‡»æ–¹å¼ä¸ºä¸»&lt;/td&gt;
&lt;td&gt;å¤šç±»å‹ç»„åˆï¼ˆå¦‚SYN+HTTP Floodï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…¸å‹æ”»å‡»æ¡ˆä¾‹&lt;/strong&gt;ï¼š&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Teardropæ”»å‡»&lt;/strong&gt;ï¼ˆDoSï¼‰ï¼šå‘é€é‡å IPåˆ†ç‰‡ï¼Œå¯¼è‡´ç›®æ ‡é‡ç»„é”™è¯¯å´©æºƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Miraiåƒµå°¸ç½‘ç»œ&lt;/strong&gt;ï¼ˆDDoSï¼‰ï¼šæ„ŸæŸ“10ä¸‡å°IoTè®¾å¤‡ï¼Œå‘èµ·1Tbpsæµé‡æ”»å‡»ç˜«ç—ªDNSæœåŠ¡å•†Dynã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-å…³é”®åŒºåˆ«ä¸å½±å“å¼ºåº¦"&gt;ğŸ’¥ &lt;strong&gt;å…³é”®åŒºåˆ«ä¸å½±å“å¼ºåº¦&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç»´åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;DoS&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;DDoS&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ”»å‡»æ¥æº&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å•ä¸€è®¾å¤‡&lt;/td&gt;
&lt;td&gt;åˆ†å¸ƒå¼åƒµå°¸ç½‘ç»œï¼ˆå…¨çƒåˆ†å¸ƒï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ”»å‡»è§„æ¨¡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¾ƒå°ï¼ˆâ‰¤1Gbpsï¼‰&lt;/td&gt;
&lt;td&gt;å·¨å¤§ï¼ˆå¯è¾¾Tbpsçº§ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;éšè”½æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ˜“è¿½è¸ªæ¥æº&lt;/td&gt;
&lt;td&gt;æºIPä¼ªé€ ï¼Œéš¾ä»¥æº¯æº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é˜²å¾¡éš¾åº¦&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¾ƒæ˜“ï¼ˆé˜²ç«å¢™è¿‡æ»¤å•IPï¼‰&lt;/td&gt;
&lt;td&gt;æéš¾ï¼ˆéœ€æµé‡æ¸…æ´—ã€CDNåˆ†æµï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç ´åæ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æœåŠ¡çŸ­æš‚ä¸­æ–­&lt;/td&gt;
&lt;td&gt;ä¸šåŠ¡ç˜«ç—ªæ•°å°æ—¶ï¼Œç™¾ä¸‡çº§æŸå¤±&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;æ•°æ®ä½è¯&lt;/strong&gt;ï¼š2021å¹´DDoSæ”»å‡»å³°å€¼è¶…2Tbpsï¼ˆCloudflareæŠ¥å‘Šï¼‰ï¼Œ96%æ”»å‡»æ—¶é•¿ï¼œ30åˆ†é’Ÿï¼Œæ—¨åœ¨ç¬æ—¶æ‰“ç˜«ç›®æ ‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-é˜²å¾¡ç­–ç•¥å¯¹æ¯”"&gt;ğŸ›¡ï¸ &lt;strong&gt;é˜²å¾¡ç­–ç•¥å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="é€šç”¨é˜²å¾¡æªæ–½"&gt;&lt;strong&gt;é€šç”¨é˜²å¾¡æªæ–½&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¸¦å®½å†—ä½™&lt;/strong&gt;ï¼šæå‡æœåŠ¡å™¨å¸¦å®½åŠå¤„ç†èƒ½åŠ›ï¼ˆä»…ç¼“è§£å°å‹æ”»å‡»ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åè®®åŠ å›º&lt;/strong&gt;ï¼šç¦ç”¨éå¸¸ç”¨åè®®ï¼ˆå¦‚ICMPï¼‰ã€é…ç½®SYN Cookieé˜²å¾¡åŠè¿æ¥æ”»å‡»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ddosä¸“ç”¨é˜²å¾¡"&gt;&lt;strong&gt;DDoSä¸“ç”¨é˜²å¾¡&lt;/strong&gt;
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æµé‡æ¸…æ´—ä¸­å¿ƒ&lt;/strong&gt;ï¼šäº‘ç«¯æœåŠ¡ï¼ˆå¦‚Cloudflareã€Akamaiï¼‰è¿‡æ»¤æ¶æ„æµé‡ï¼Œä»…æ”¾è¡Œåˆæ³•è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Anycast+CDN&lt;/strong&gt;ï¼šé€šè¿‡å…¨çƒèŠ‚ç‚¹åˆ†æ•£æ”»å‡»æµé‡ï¼Œé¿å…å•ç‚¹å´©æºƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¡Œä¸ºåˆ†æ&lt;/strong&gt;ï¼šAIå®æ—¶æ£€æµ‹å¼‚å¸¸æµé‡æ¨¡å¼ï¼ˆå¦‚HTTP Floodçš„è¯·æ±‚é¢‘ç‡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åƒµå°¸ç½‘ç»œæº¯æº&lt;/strong&gt;ï¼šåˆä½œISPå°ç¦æ„ŸæŸ“è®¾å¤‡ï¼Œç“¦è§£æ”»å‡»æºå¤´ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="ç‰¹æ®Šåœºæ™¯é˜²æŠ¤"&gt;&lt;strong&gt;ç‰¹æ®Šåœºæ™¯é˜²æŠ¤&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨å±‚DDoS&lt;/strong&gt;ï¼šéƒ¨ç½²WAFï¼ˆWebåº”ç”¨é˜²ç«å¢™ï¼‰æ‹¦æˆªæ¶æ„HTTPè¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IoTè®¾å¤‡ç®¡ç†&lt;/strong&gt;ï¼šå¼ºåˆ¶æ›´æ–°é»˜è®¤å¯†ç ï¼Œå…³é—­é—²ç½®ç«¯å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“æœ¬è´¨å·®å¼‚ä¸æ¼”è¿›å…³ç³»"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šæœ¬è´¨å·®å¼‚ä¸æ¼”è¿›å…³ç³»&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒå·®å¼‚&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;DoS&lt;/strong&gt; = â€œå•ç‚¹çªç ´â€ â†’ ä¾èµ–åè®®æ¼æ´æˆ–æš´åŠ›èµ„æºæ¶ˆè€—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DDoS&lt;/strong&gt; = â€œäººæµ·æˆ˜æœ¯â€ â†’ åˆ©ç”¨åƒµå°¸ç½‘ç»œçš„åˆ†å¸ƒå¼ååŒæ”»å‡»ï¼Œç ´ååŠ›å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¼”è¿›é€»è¾‘&lt;/strong&gt;ï¼š
éšç€ç¡¬ä»¶æ€§èƒ½æå‡ï¼Œä¼ ç»ŸDoSæ”»å‡»æ•ˆæœå‡å¼± â†’ æ”»å‡»è€…è½¬å‘&lt;strong&gt;æ§åˆ¶åƒµå°¸è®¾å¤‡å‘èµ·DDoS&lt;/strong&gt;ï¼Œä»¥é‡å–èƒœã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœªæ¥è¶‹åŠ¿&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;AIé©±åŠ¨çš„è‡ªé€‚åº”æ”»å‡»&lt;/strong&gt;ï¼šåŠ¨æ€åˆ‡æ¢æ”»å‡»ç±»å‹èº²é¿æ£€æµ‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IoTåƒµå°¸ç½‘ç»œæ‰©å¼ &lt;/strong&gt;ï¼šæ™ºèƒ½è®¾å¤‡æ¼æ´æˆä¸»è¦æ”»å‡»èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ”§ &lt;strong&gt;é˜²å¾¡å“²å­¦&lt;/strong&gt;ï¼šå¯¹æŠ—DDoSéœ€æ„ç­‘â€œçºµæ·±é˜²å¾¡ä½“ç³»â€ï¼Œä»è®¾å¤‡åŠ å›ºã€æµé‡ç›‘æµ‹åˆ°äº‘ç«¯æ¸…æ´—å±‚å±‚æ‹¦æˆªï¼ŒåŒæ—¶é€šè¿‡ç«‹æ³•æ‰“å‡»åƒµå°¸ç½‘ç»œé»‘äº§ï¼ˆå¦‚ã€Šã€‹ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="rst"&gt;RST
&lt;/h2&gt;&lt;p&gt;RSTï¼ˆResetï¼‰ä¸­æ–­è¿æ¥æ˜¯TCPåè®®ä¸­ç”¨äºå¼ºåˆ¶ç»ˆæ­¢å¼‚å¸¸æˆ–éæ³•è¿æ¥çš„æœºåˆ¶ï¼Œå…¶æ ¸å¿ƒåŸç†æ˜¯é€šè¿‡å‘é€æºå¸¦RSTæ ‡å¿—ä½çš„TCPæŠ¥æ–‡ç«‹å³ä¸­æ­¢è¿æ¥ï¼Œæ— éœ€éµå¾ªæ­£å¸¸çš„å››æ¬¡æŒ¥æ‰‹æµç¨‹ã€‚ä»¥ä¸‹ä»æ ¸å¿ƒç‰¹æ€§ã€è§¦å‘åœºæ™¯ã€ä¸FINçš„åŒºåˆ«åŠå®é™…åº”ç”¨å±•å¼€è¯¦è§£ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-rstçš„æ ¸å¿ƒç‰¹æ€§"&gt;âš™ï¸ &lt;strong&gt;RSTçš„æ ¸å¿ƒç‰¹æ€§&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç«‹å³ç»ˆæ­¢æ€§&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å‘é€RSTåï¼Œ&lt;strong&gt;ç›´æ¥ä¸¢å¼ƒå‘é€ç¼“å†²åŒºçš„å¾…ä¼ æ•°æ®&lt;/strong&gt;ï¼Œæ¥æ”¶ç«¯æ”¶åˆ°RSTåç«‹å³é‡Šæ”¾è¿æ¥èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;å¯¹æ¯”æ­£å¸¸å…³é—­ï¼ˆFINï¼‰ï¼šFINéœ€ç­‰å¾…ç¼“å†²åŒºæ•°æ®å‘é€å®Œæ¯•ï¼Œå¹¶ç»å†å››æ¬¡æŒ¥æ‰‹åå•†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— ç¡®è®¤æœºåˆ¶&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;RSTæŠ¥æ–‡&lt;strong&gt;æ— éœ€æ¥æ”¶æ–¹å›å¤ACKç¡®è®¤&lt;/strong&gt;ï¼Œè¿æ¥ç›´æ¥è¿›å…¥&lt;code&gt;CLOSED&lt;/code&gt;çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚ï¼šæœåŠ¡å™¨å‘é€RSTåï¼Œå®¢æˆ·ç«¯TCPå±‚ç«‹å³æ ‡è®°è¿æ¥ä¸ºé‡ç½®çŠ¶æ€ï¼Œåº”ç”¨å±‚æ”¶åˆ°&lt;code&gt;ECONNRESET&lt;/code&gt;é”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºå¼ºåˆ¶é‡Šæ”¾&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;RSTä¼š&lt;strong&gt;æ¸…ç©ºæ¥æ”¶ç¼“å†²åŒºçš„æœªè¯»æ•°æ®&lt;/strong&gt;ï¼Œå¹¶é€šçŸ¥å¯¹ç«¯é‡Šæ”¾å¥—æ¥å­—èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;è‹¥åº”ç”¨å±‚åœ¨RSTåå°è¯•å†™æ•°æ®ï¼Œä¼šè§¦å‘&lt;code&gt;SIGPIPE&lt;/code&gt;ä¿¡å·ï¼ˆé»˜è®¤ç»ˆæ­¢è¿›ç¨‹ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-rstçš„è§¦å‘åœºæ™¯"&gt;ğŸ”¥ &lt;strong&gt;RSTçš„è§¦å‘åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="è¿æ¥å»ºç«‹é˜¶æ®µ"&gt;&lt;strong&gt;è¿æ¥å»ºç«‹é˜¶æ®µ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç«¯å£æœªå¼€æ”¾ï¼šå®¢æˆ·ç«¯è¯·æ±‚æœªç›‘å¬çš„ç«¯å£æ—¶ï¼ŒæœåŠ¡å™¨ç›´æ¥å›å¤RSTæ‹’ç»æ¡æ‰‹ã€‚
&lt;pre tabindex="0"&gt;&lt;code&gt;sequenceDiagram
å®¢æˆ·ç«¯-&amp;gt;&amp;gt;æœåŠ¡å™¨ï¼š SYNï¼ˆè¯·æ±‚è¿æ¥ï¼‰
æœåŠ¡å™¨-&amp;gt;&amp;gt;å®¢æˆ·ç«¯ï¼š RSTï¼ˆç«¯å£æœªå¼€æ”¾ï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é˜²ç«å¢™æ‹¦æˆª&lt;/strong&gt;ï¼šä¸­é—´è®¾å¤‡æ£€æµ‹éæ³•IPæˆ–ç«¯å£æ—¶ï¼Œå†’å……æœåŠ¡å™¨å‘é€RSTé˜»æ–­è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SYNæŠ¥æ–‡å¼‚å¸¸&lt;/strong&gt;ï¼šSYNæºå¸¦éæ³•æ ‡å¿—ä½ï¼ˆå¦‚FIN+SYNï¼‰æˆ–æ ¼å¼é”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="æ•°æ®ä¼ è¾“é˜¶æ®µ"&gt;&lt;strong&gt;æ•°æ®ä¼ è¾“é˜¶æ®µ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠå¼€è¿æ¥è¶…æ—¶&lt;/strong&gt;ï¼šä¸€æ–¹å´©æºƒåæ¢å¤ï¼Œæ”¶åˆ°å¦ä¸€æ–¹çš„æ•°æ®åŒ…æ—¶å›å¤RSTï¼ˆå¦‚æœåŠ¡å™¨é‡å¯åæ”¶åˆ°å®¢æˆ·ç«¯æ—§è¿æ¥æ•°æ®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åè®®é€»è¾‘é”™è¯¯ï¼š
&lt;ul&gt;
&lt;li&gt;æ¥æ”¶æ–¹æ”¶åˆ°åºåˆ—å·è¶…çª—å£èŒƒå›´çš„æ•°æ®åŒ…ï¼›&lt;/li&gt;
&lt;li&gt;é‡ä¼ æ¬¡æ•°è¶…é™ä»æ— å“åº”ï¼ˆå¦‚ç½‘ç»œä¸­æ–­å¯¼è‡´é‡ä¼ å¤±è´¥ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="è¿æ¥å…³é—­é˜¶æ®µ"&gt;&lt;strong&gt;è¿æ¥å…³é—­é˜¶æ®µ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æš´åŠ›å…³é—­Socketï¼š
&lt;ul&gt;
&lt;li&gt;æœåŠ¡ç«¯è°ƒç”¨&lt;code&gt;close()&lt;/code&gt;æ—¶è‹¥æ¥æ”¶ç¼“å†²åŒºæœ‰æœªè¯»æ•°æ®ï¼Œç›´æ¥å‘é€RSTè€ŒéFINã€‚&lt;/li&gt;
&lt;li&gt;ç¤ºä¾‹ä»£ç ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;setsockopt(sockfd, SOL_SOCKET, SO_LINGER, &amp;amp;(struct linger){.l_onoff=1, .l_linger=0}, sizeof()); // å¯ç”¨RSTå…³é—­
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TIME_WAITçŠ¶æ€å†²çª&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯é‡ç”¨å¤„äº&lt;code&gt;TIME_WAIT&lt;/code&gt;çŠ¶æ€çš„ç«¯å£å‘èµ·æ–°è¿æ¥ï¼Œè¢«æœåŠ¡å™¨RSTæ‹’ç»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-rstä¸finçš„åŒºåˆ«"&gt;âš–ï¸ &lt;strong&gt;RSTä¸FINçš„åŒºåˆ«&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;RST&lt;/th&gt;
&lt;th&gt;FIN&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…³é—­æ€§è´¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¼ºåˆ¶ç»ˆæ­¢ï¼Œå¼‚å¸¸åœºæ™¯&lt;/td&gt;
&lt;td&gt;åå•†å…³é—­ï¼Œæ­£å¸¸æµç¨‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ•°æ®ä¿éšœ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸¢å¼ƒç¼“å†²åŒºæ•°æ®&lt;/td&gt;
&lt;td&gt;ç¡®ä¿ç¼“å†²åŒºæ•°æ®å‘é€å®Œæ¯•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;äº¤äº’æµç¨‹&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å•æ–¹å‘é€ï¼Œæ— éœ€ç¡®è®¤&lt;/td&gt;
&lt;td&gt;éœ€å››æ¬¡æŒ¥æ‰‹ï¼ˆFIN â†’ ACK â†’ FIN â†’ ACKï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;çŠ¶æ€è½¬æ¢&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç›´æ¥è¿›å…¥&lt;code&gt;CLOSED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç»å†&lt;code&gt;TIME_WAIT&lt;/code&gt;ç­‰å¾…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åº”ç”¨å±‚åé¦ˆ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ECONNRESET&lt;/code&gt;é”™è¯¯æˆ–&lt;code&gt;SIGPIPE&lt;/code&gt;ä¿¡å·&lt;/td&gt;
&lt;td&gt;&lt;code&gt;read()&lt;/code&gt;è¿”å›0ï¼ˆEOFï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;å…³é”®åœºæ™¯å·®å¼‚&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“æœåŠ¡å™¨éœ€&lt;strong&gt;ç«‹å³é‡Šæ”¾èµ„æº&lt;/strong&gt;ï¼ˆå¦‚è¿›ç¨‹å´©æºƒï¼‰æ—¶ç”¨RSTï¼›éœ€&lt;strong&gt;å®‰å…¨ç»“æŸä¼šè¯&lt;/strong&gt;ï¼ˆå¦‚æ–‡ä»¶ä¼ è¾“å®Œæˆï¼‰æ—¶ç”¨FINã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å®é™…åº”ç”¨ä¸é˜²å¾¡"&gt;ğŸ›¡ï¸ &lt;strong&gt;å®é™…åº”ç”¨ä¸é˜²å¾¡&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="æ•…éšœæ’æŸ¥"&gt;&lt;strong&gt;æ•…éšœæ’æŸ¥&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æŠ“åŒ…å®šä½æ¥æºï¼š
&lt;ul&gt;
&lt;li&gt;é€šè¿‡Wiresharkåˆ†æRSTæŠ¥æ–‡çš„&lt;code&gt;TTL&lt;/code&gt;å€¼ï¼šä¸­é—´è®¾å¤‡ï¼ˆå¦‚é˜²ç«å¢™ï¼‰å‘é€çš„RSTçš„TTLé€šå¸¸å°äºçœŸå®æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;è¯†åˆ«&amp;quot;å‡RST&amp;quot;ï¼šä»…å«RSTæ ‡å¿—ï¼ˆæ— ACKï¼‰çš„å¤šä¸ºé˜²ç«å¢™ä¼ªé€ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ—¥å¿—åˆ†æï¼š
&lt;ul&gt;
&lt;li&gt;æœåŠ¡ç«¯æ—¥å¿—ï¼šæ£€æŸ¥ç«¯å£ç›‘å¬çŠ¶æ€ã€è¿æ¥æ•°ä¸Šé™ï¼ˆ&lt;code&gt;netstat -s | grep &amp;quot;RST&amp;quot;&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ—¥å¿—ï¼šæ•è·&lt;code&gt;Connection reset by peer&lt;/code&gt;é”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="å®‰å…¨é˜²å¾¡"&gt;&lt;strong&gt;å®‰å…¨é˜²å¾¡&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;é˜²ç«å¢™ç­–ç•¥ä¼˜åŒ–ï¼š
&lt;ul&gt;
&lt;li&gt;é…ç½®RejectåŠ¨ä½œæ—¶ä¼˜å…ˆè¿”å›RSTè€Œéé™é»˜ä¸¢å¼ƒï¼Œé¿å…å®¢æˆ·ç«¯é•¿æ—¶é—´é‡è¯•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é˜²RSTæ”»å‡»ï¼š
&lt;ul&gt;
&lt;li&gt;åºåˆ—å·éšæœºåŒ–ï¼šé˜²æ­¢æ”»å‡»è€…ä¼ªé€ æœ‰æ•ˆåºåˆ—å·çš„RSTåŒ…ï¼›&lt;/li&gt;
&lt;li&gt;å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼ˆIDSï¼‰ç›‘æ§å¼‚å¸¸RSTæµé‡ï¼ˆå¦‚çŸ­æ—¶é—´å†…åŒä¸€IPå¤šæ¬¡RSTï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ç¼–ç¨‹è§„èŒƒ"&gt;&lt;strong&gt;ç¼–ç¨‹è§„èŒƒ&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ä¼˜é›…å…³é—­è¿æ¥ï¼š
&lt;ul&gt;
&lt;li&gt;é¿å…ç›´æ¥&lt;code&gt;close()&lt;/code&gt;æœªè¯»æ•°æ®çš„Socketï¼Œæ”¹ç”¨&lt;code&gt;shutdown()&lt;/code&gt;å‘é€FINã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¤„ç†SIGPIPEä¿¡å·ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;signal(SIGPIPE, SIG_IGN); // å¿½ç•¥å†™æ“ä½œå¤±è´¥ä¿¡å·
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;è®¾ç½®SO_LINGERé€‰é¡¹ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;struct linger ling = {.l_onoff = 1, .l_linger = 5}; // ç­‰å¾…5ç§’å‘é€FIN
setsockopt(sockfd, SOL_SOCKET, SO_LINGER, &amp;amp;ling, sizeof(ling));
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-7"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;RSTæ˜¯TCPåè®®åº”å¯¹å¼‚å¸¸è¿æ¥çš„â€œç´§æ€¥åˆ¶åŠ¨â€æœºåˆ¶ï¼Œå…¶&lt;strong&gt;å¼ºåˆ¶æ€§ä¸å³æ—¶æ€§&lt;/strong&gt;åœ¨ç½‘ç»œæ•…éšœæ¢å¤ã€å®‰å…¨é˜²æŠ¤ä¸­è‡³å…³é‡è¦ï¼Œä½†ä¹Ÿéœ€è­¦æƒ•å› æ»¥ç”¨RSTå¯¼è‡´çš„èµ„æºæ³„æ¼ï¼ˆå¦‚æœªé‡Šæ”¾çš„æ–‡ä»¶æè¿°ç¬¦ï¼‰æˆ–å®‰å…¨é£é™©ï¼ˆå¦‚RSTæ”»å‡»ï¼‰ã€‚å¼€å‘ä¸è¿ç»´ä¸­åº”ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¼–ç¨‹å±‚&lt;/strong&gt;ï¼šé€šè¿‡&lt;code&gt;SO_LINGER&lt;/code&gt;æ§åˆ¶å…³é—­è¡Œä¸ºï¼Œé¿å…æ„å¤–RSTï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åè®®å±‚&lt;/strong&gt;ï¼šç†è§£RSTè§¦å‘é€»è¾‘ï¼Œç²¾å‡†å®šä½è¿æ¥é‡ç½®æ ¹å› ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨å±‚&lt;/strong&gt;ï¼šç›‘æ§å¼‚å¸¸RSTæµé‡ï¼Œé˜²å¾¡ä¼ªé€ æ”»å‡»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ä¸´æ—¶ç«¯å£"&gt;ä¸´æ—¶ç«¯å£
&lt;/h2&gt;&lt;p&gt;ä¸´æ—¶ç«¯å£ï¼ˆEphemeral Portï¼‰æ˜¯æ“ä½œç³»ç»ŸåŠ¨æ€åˆ†é…ç»™å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„çŸ­æœŸç«¯å£å·ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é€šä¿¡æ—¶æ ‡è¯†å®¢æˆ·ç«¯ä¾§çš„è¿æ¥èµ·ç‚¹ã€‚å…¶æ ¸å¿ƒä½œç”¨æ˜¯é€šè¿‡ç«¯å£å¤ç”¨æœºåˆ¶æ”¯æŒé«˜æ•ˆã€å®‰å…¨çš„ç½‘ç»œé€šä¿¡ï¼Œå…·ä½“åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒä½œç”¨"&gt;ğŸ” &lt;strong&gt;æ ¸å¿ƒä½œç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¤šè·¯å¤ç”¨ï¼ˆMultiplexingï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¸´æ—¶ç«¯å£å…è®¸å•å°ä¸»æœºä¸Šçš„&lt;strong&gt;å¤šä¸ªåº”ç”¨ç¨‹åºåŒæ—¶è®¿é—®ç½‘ç»œ&lt;/strong&gt;ã€‚ä¾‹å¦‚ï¼šæµè§ˆå™¨ã€é‚®ä»¶å®¢æˆ·ç«¯ã€æ¸¸æˆå¯å„è‡ªä½¿ç”¨ä¸åŒç«¯å£è®¿é—®æœåŠ¡å™¨ï¼Œæ“ä½œç³»ç»Ÿé€šè¿‡ç«¯å£å·å°†è¿”å›æ•°æ®åˆ†å‘åˆ°å¯¹åº”åº”ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯å®ç°&lt;/strong&gt;ï¼šæ¯ä¸ªè¿æ¥ç”±å››å…ƒç»„ï¼ˆæºIPã€æºç«¯å£ã€ç›®æ ‡IPã€ç›®æ ‡ç«¯å£ï¼‰å”¯ä¸€æ ‡è¯†ï¼Œä¸´æ—¶ç«¯å£ç¡®ä¿åŒä¸€å®¢æˆ·ç«¯çš„å¤šä¸ªè¿æ¥äº’ä¸å¹²æ‰°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¿å…ç«¯å£å†²çª&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯ç¨‹åº&lt;strong&gt;ä¸ä½¿ç”¨å›ºå®šç«¯å£&lt;/strong&gt;ï¼ˆå¦‚80ã€443ï¼‰ï¼Œé˜²æ­¢ä¸æœ¬åœ°æœåŠ¡å†²çªã€‚ä¾‹å¦‚ï¼šè‹¥æµè§ˆå™¨å¼ºåˆ¶ä½¿ç”¨80ç«¯å£ï¼Œè€Œæœ¬åœ°å·²è¿è¡ŒWebæœåŠ¡å™¨ï¼ˆIIS/Nginxï¼‰ï¼Œä¸¤è€…å°†å› ç«¯å£ç‹¬å å†²çªè€Œæ— æ³•åŒæ—¶å·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;ä¸´æ—¶ç«¯å£ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨åˆ†é…ï¼Œä»é¢„è®¾èŒƒå›´å†…é€‰å–&lt;strong&gt;æœªè¢«å ç”¨çš„ç«¯å£&lt;/strong&gt;ï¼Œä¿éšœåº”ç”¨å¹¶è¡Œè¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒé«˜å¹¶å‘è¿æ¥&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨é€šå¸¸ç›‘å¬å›ºå®šç«¯å£ï¼ˆå¦‚HTTP:80ï¼‰ï¼Œè€Œå®¢æˆ·ç«¯é€šè¿‡ä¸´æ—¶ç«¯å£å®ç°&lt;strong&gt;ä¸€å¯¹å¤šè¿æ¥&lt;/strong&gt;ã€‚ä¾‹å¦‚ï¼šWebæœåŠ¡å™¨å¯é€šè¿‡80ç«¯å£åŒæ—¶å¤„ç†æ•°åƒä¸ªå®¢æˆ·ç«¯è¯·æ±‚ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥ç”±æ“ä½œç³»ç»Ÿåˆ†é…ç‹¬ç«‹ä¸´æ—¶ç«¯å£ï¼ˆå¦‚55000ï¼‰åŒºåˆ†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å·¥ä½œåŸç†"&gt;âš™ï¸ &lt;strong&gt;å·¥ä½œåŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç«¯å£åˆ†é…æµç¨‹&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘èµ·è¿æ¥æ—¶ï¼Œæ“ä½œç³»ç»Ÿä»&lt;strong&gt;ä¸´æ—¶ç«¯å£èŒƒå›´&lt;/strong&gt;å†…éšæœºé€‰å–ç©ºé—²ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;è¿æ¥å»ºç«‹åï¼Œè¯¥ç«¯å£è¢«å ç”¨ç›´è‡³è¿æ¥å…³é—­ï¼ˆæˆ–è¿›å…¥&lt;code&gt;TIME_WAIT&lt;/code&gt;çŠ¶æ€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è¿æ¥ç»ˆæ­¢åï¼Œç«¯å£é‡Šæ”¾å›æ± ä¸­ä¾›åç»­ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸åè®®çš„å…³ç³»&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;TCP/UDPç‹¬ç«‹ç®¡ç†&lt;/strong&gt;ï¼šåŒä¸€ç«¯å£å·ï¼ˆå¦‚5000ï¼‰åœ¨TCPå’ŒUDPåè®®ä¸­äº’ä¸å½±å“ï¼Œå¯åŒæ—¶ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼šDNSæœåŠ¡åŒæ—¶å ç”¨TCP/53å’ŒUDP/53ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç«¯å£èŒƒå›´éš”ç¦»&lt;/strong&gt;ï¼šä¸´æ—¶ç«¯å£èŒƒå›´ï¼ˆå¦‚49152â€“65535ï¼‰ä¸çŸ¥åç«¯å£ï¼ˆ0â€“1023ï¼‰ã€æ³¨å†Œç«¯å£ï¼ˆ1024â€“49151ï¼‰éš”ç¦»ï¼Œé¿å…è¯¯å ç”¨ç³»ç»ŸæœåŠ¡ç«¯å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸´æ—¶ç«¯å£èŒƒå›´å·®å¼‚ä¸åŒæ“ä½œç³»ç»Ÿ"&gt;ğŸ“Š &lt;strong&gt;ä¸´æ—¶ç«¯å£èŒƒå›´å·®å¼‚ï¼ˆä¸åŒæ“ä½œç³»ç»Ÿï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æ“ä½œç³»ç»Ÿ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é»˜è®¤ä¸´æ—¶ç«¯å£èŒƒå›´&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é…ç½®æ–‡ä»¶/æ³¨å†Œè¡¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Linux&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;32768â€“61000&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/proc/sys/net/ipv4/ip_local_port_range&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Windows XP/2003&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;1025â€“5000&lt;/td&gt;
&lt;td&gt;&lt;code&gt;MaxUserPort&lt;/code&gt;ï¼ˆæ³¨å†Œè¡¨ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç°ä»£ç³»ç»Ÿï¼ˆå«Win10ï¼‰&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;49152â€“65535&lt;/td&gt;
&lt;td&gt;IANAå»ºè®®æ ‡å‡†&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;ä¿®æ”¹èŒƒå›´ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Linux&lt;/strong&gt;ï¼š&lt;code&gt;echo &amp;quot;49152 65535&amp;quot; &amp;gt; /proc/sys/net/ipv4/ip_local_port_range&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Windows&lt;/strong&gt;ï¼šæ³¨å†Œè¡¨ &lt;code&gt;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters&lt;/code&gt; ä¸­è®¾ç½® &lt;code&gt;MaxUserPort=65534&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"&gt;âš ï¸ &lt;strong&gt;å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç«¯å£è€—å°½ï¼ˆPort Exhaustionï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç°è±¡&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯æ— æ³•å»ºç«‹æ–°è¿æ¥ï¼ŒæŠ¥é”™ &lt;code&gt;Only one usage of each socket address is permitted&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åŸå› ï¼š
&lt;ul&gt;
&lt;li&gt;é«˜å¹¶å‘åº”ç”¨ï¼ˆå¦‚çˆ¬è™«ã€FTPä¼ è¾“ï¼‰å¿«é€Ÿæ¶ˆè€—ä¸´æ—¶ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TIME_WAIT&lt;/code&gt;çŠ¶æ€ï¼ˆé»˜è®¤240ç§’ï¼‰å ç”¨ç«¯å£æœªé‡Šæ”¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆï¼š
&lt;ul&gt;
&lt;li&gt;æ‰©å¤§ä¸´æ—¶ç«¯å£èŒƒå›´ï¼ˆå¦‚è®¾ç½® &lt;code&gt;MaxUserPort=65534&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç¼©çŸ­ &lt;code&gt;TIME_WAIT&lt;/code&gt; æ—¶é—´ï¼ˆæ³¨å†Œè¡¨è®¾ç½® &lt;code&gt;TcpTimedWaitDelay=30&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–åº”ç”¨ï¼šå¤ç”¨é•¿è¿æ¥ï¼ˆå¦‚HTTP Keep-Aliveï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨ä¸é˜²ç«å¢™é…ç½®&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é£é™©&lt;/strong&gt;ï¼šä¸´æ—¶ç«¯å£å¯èƒ½è¢«é˜²ç«å¢™è¯¯æ‹¦æˆªï¼Œå¯¼è‡´è¿æ¥å¤±è´¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å»ºè®®&lt;/strong&gt;ï¼šé˜²ç«å¢™æ”¾è¡Œä¸´æ—¶ç«¯å£èŒƒå›´ï¼ˆå¦‚49152â€“65535ï¼‰ï¼Œé¿å…å½±å“å®¢æˆ·ç«¯è®¿é—®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-8"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;ä¸´æ—¶ç«¯å£æ˜¯ç½‘ç»œé€šä¿¡çš„â€œå®¢æˆ·ç«¯æ ‡è¯†ç¬¦â€ï¼Œæ ¸å¿ƒä»·å€¼åœ¨äºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å®ç°å¤šè·¯å¤ç”¨&lt;/strong&gt;ï¼šæ”¯æŒå•ä¸»æœºå¤šåº”ç”¨å¹¶å‘è®¿é—®ç½‘ç»œï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§„é¿å†²çª&lt;/strong&gt;ï¼šåŠ¨æ€åˆ†é…æœºåˆ¶é¿å…ä¸æœ¬åœ°æœåŠ¡ç«¯å£å†²çªï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åè®®ç‹¬ç«‹æ€§&lt;/strong&gt;ï¼šTCPä¸UDPç«¯å£äº’ä¸å¹²æ‰°ï¼Œçµæ´»æ”¯æŒä¸åŒåœºæ™¯ï¼ˆå¦‚DNSåŒåè®®ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯æ‰©å±•æ€§&lt;/strong&gt;ï¼šé€šè¿‡è°ƒæ•´ç«¯å£èŒƒå›´åº”å¯¹é«˜å¹¶å‘éœ€æ±‚ï¼Œéœ€è­¦æƒ•ç«¯å£è€—å°½é£é™©ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ”§ &lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼€å‘å±‚&lt;/strong&gt;ï¼šåº”ç”¨é¿å…ç¡¬ç¼–ç å®¢æˆ·ç«¯ç«¯å£ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿ç»´å±‚&lt;/strong&gt;ï¼šç›‘æ§ &lt;code&gt;netstat -an&lt;/code&gt; çš„ä¸´æ—¶ç«¯å£ä½¿ç”¨ç‡ï¼ŒåŠæ—¶è°ƒæ•´èŒƒå›´ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨å±‚&lt;/strong&gt;ï¼šé˜²ç«å¢™ç­–ç•¥éœ€å…¼å®¹ä¸´æ—¶ç«¯å£åŠ¨æ€æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id="time_wait"&gt;TIME_WAIT
&lt;/h2&gt;&lt;p&gt;TIME_WAITçŠ¶æ€æ˜¯TCPåè®®å…³é—­è¿æ¥è¿‡ç¨‹ä¸­çš„å…³é”®çŠ¶æ€ï¼Œä¸»è¦å‘ç”Ÿåœ¨ä¸»åŠ¨å…³é—­è¿æ¥çš„ä¸€æ–¹ï¼ˆå¦‚å®¢æˆ·ç«¯æˆ–åå‘ä»£ç†æœåŠ¡å™¨ï¼‰å®Œæˆæœ€åä¸€æ¬¡æŒ¥æ‰‹åã€‚å…¶æ ¸å¿ƒä½œç”¨ä¸è¿ä½œæœºåˆ¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-time_"&gt;ğŸ” &lt;strong&gt;TIME_WAITçš„äº§ç”Ÿä½ç½®&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è§¦å‘é˜¶æ®µ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨TCPå››æ¬¡æŒ¥æ‰‹çš„&lt;strong&gt;ç¬¬å››æ¬¡æŒ¥æ‰‹&lt;/strong&gt;ä¸­ï¼Œä¸»åŠ¨å…³é—­æ–¹å‘é€æœ€åä¸€ä¸ªACKç¡®è®¤æŠ¥æ–‡åè¿›å…¥TIME_WAITçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çŠ¶æ€æŒç»­æ—¶é•¿&lt;/strong&gt;ï¼šé»˜è®¤2MSLï¼ˆMSLä¸ºæŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼Œé€šå¸¸30-60ç§’ï¼Œæ•…TIME_WAITæŒç»­60-120ç§’ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»åŠ¨å…³é—­æ–¹çš„è§’è‰²&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯å‡å¯èƒ½æˆä¸ºä¸»åŠ¨å…³é—­æ–¹ã€‚ä¾‹å¦‚ï¼š
&lt;ul&gt;
&lt;li&gt;HTTPæœåŠ¡ç«¯è‹¥è®¾ç½®&lt;code&gt;Connection: close&lt;/code&gt;ï¼Œåˆ™ä¸»åŠ¨å…³é—­è¿æ¥è¿›å…¥TIME_WAITï¼›&lt;/li&gt;
&lt;li&gt;Nginxåå‘ä»£ç†é¢‘ç¹å…³é—­åç«¯è¿æ¥æ—¶ï¼Œä¼šç§¯ç´¯å¤§é‡TIME_WAITã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-time_-1"&gt;âš™ï¸ &lt;strong&gt;TIME_WAITçš„æ ¸å¿ƒä½œç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¡®ä¿å¯é å…³é—­è¿æ¥&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é˜²æ­¢æœ€åä¸€ä¸ªACKä¸¢å¤±ï¼šè‹¥ACKä¸¢å¤±ï¼Œè¢«åŠ¨å…³é—­æ–¹ä¼šé‡ä¼ FINæŠ¥æ–‡ã€‚TIME_WAITçŠ¶æ€ä½¿ä¸»åŠ¨å…³é—­æ–¹èƒ½é‡å‘ACKï¼Œé¿å…è¢«åŠ¨æ–¹æ»ç•™&lt;code&gt;LAST_ACK&lt;/code&gt;çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;2MSLè®¾è®¡é€»è¾‘ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;1MSLï¼šç¡®ä¿ACKåˆ°è¾¾å¯¹ç«¯ï¼›
&lt;ul&gt;
&lt;li&gt;å¦1MSLï¼šåº”å¯¹å¯¹ç«¯é‡ä¼ FINçš„å»¶è¿Ÿï¼ˆæ€»è¦†ç›–æ—¶é—´=ACKä¼ è¾“+FINé‡ä¼ ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="2"&gt;
&lt;li&gt;&lt;strong&gt;æ¶ˆé™¤æ—§è¿æ¥æŠ¥æ–‡å¹²æ‰°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å»¶è¿Ÿçš„æ®‹ç•™æŠ¥æ–‡ï¼ˆå¦‚FINæˆ–æ•°æ®åŒ…ï¼‰å¯èƒ½åœ¨ç›¸åŒå››å…ƒç»„ï¼ˆæºIPã€æºç«¯å£ã€ç›®æ ‡IPã€ç›®æ ‡ç«¯å£ï¼‰çš„æ–°è¿æ¥ä¸­è¢«è¯¯æ”¶ã€‚TIME_WAITç­‰å¾…2MSLç¡®ä¿æ—§æŠ¥æ–‡åœ¨ç½‘ç»œä¸­æ¶ˆäº¡ï¼Œé¿å…æ•°æ®æ··ä¹±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-time_-2"&gt;âš ï¸ &lt;strong&gt;TIME_WAITè¿‡å¤šçš„å±å®³&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç«¯å£è€—å°½&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªTIME_WAITè¿æ¥å ç”¨ä¸€ä¸ªæœ¬åœ°ç«¯å£ï¼ˆ16ä½ç«¯å£å·ä¸Šé™65535ï¼‰ã€‚è‹¥çŸ­è¿æ¥é¢‘ç¹åˆ›å»ºï¼Œç«¯å£èµ„æºè¢«è€—å°½ï¼Œæ–°è¿æ¥æŠ¥é”™&lt;code&gt;address already in use&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¸å‹åœºæ™¯&lt;/strong&gt;ï¼šé«˜å¹¶å‘HTTPæœåŠ¡ï¼ˆå¦‚å‹æµ‹ç¯å¢ƒï¼‰æˆ–Nginxä»£ç†æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»Ÿèµ„æºå‹åŠ›&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å ç”¨å†…å­˜ã€CPUåŠæ–‡ä»¶æè¿°ç¬¦ï¼Œå°¤å…¶åœ¨&lt;code&gt;TIME_WAIT&lt;/code&gt;æ•°é‡è¶…è¿‡ä¸‡çº§æ—¶æ˜¾è‘—å½±å“æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;æç«¯æƒ…å†µä¸‹è§¦å‘æ‹’ç»æœåŠ¡ï¼Œæ–°è¿æ¥æ— æ³•å»ºç«‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-è§£å†³æ–¹æ¡ˆä¸ä¼˜åŒ–"&gt;ğŸ› ï¸ &lt;strong&gt;è§£å†³æ–¹æ¡ˆä¸ä¼˜åŒ–&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="å†…æ ¸å‚æ•°è°ƒæ•´linux"&gt;&lt;strong&gt;å†…æ ¸å‚æ•°è°ƒæ•´ï¼ˆLinuxï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é£é™©&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;net.ipv4.tcp_fin_timeout=30&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç¼©çŸ­TIME_WAITæ—¶é—´ï¼ˆå¦‚30ç§’ï¼‰&lt;/td&gt;
&lt;td&gt;å¯èƒ½å› ç½‘ç»œå»¶è¿Ÿå¯¼è‡´ä¸¢åŒ…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;net.ipv4.tcp_tw_reuse=1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å…è®¸å¤ç”¨TIME_WAITç«¯å£ï¼ˆéœ€å¼€å¯&lt;code&gt;tcp_timestamps&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;td&gt;æ—¶é—´æˆ³æ ¡éªŒå¤±è´¥æ—¶è¿æ¥å¼‚å¸¸&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;net.ipv4.tcp_max_tw_buckets=18000&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;é™åˆ¶TIME_WAITè¿æ¥æ€»æ•°ï¼Œè¶…é™åˆ™å¼ºåˆ¶å…³é—­&lt;/td&gt;
&lt;td&gt;å¯èƒ½ä¸­æ–­æ­£å¸¸ä¸šåŠ¡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;âš ï¸ &lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼š&lt;code&gt;tcp_tw_recycle&lt;/code&gt;å·²è¢«å¼ƒç”¨ï¼Œå› å…¶åœ¨NATç¯å¢ƒä¸‹å¯¼è‡´æ—¶é—´æˆ³æ··ä¹±å¼•å‘ä¸¢åŒ…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id="åº”ç”¨å±‚ä¼˜åŒ–"&gt;&lt;strong&gt;åº”ç”¨å±‚ä¼˜åŒ–&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;é•¿è¿æ¥æ›¿ä»£çŸ­è¿æ¥ï¼š
&lt;ul&gt;
&lt;li&gt;HTTPè®¾ç½®&lt;code&gt;Connection: keep-alive&lt;/code&gt;ï¼Œå‡å°‘è¿æ¥é¢‘ç¹å¼€é—­ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“/ä¸­é—´ä»¶ä½¿ç”¨è¿æ¥æ± å¤ç”¨è¿æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡åˆ†æ•£å‹åŠ›&lt;/strong&gt;ï¼šå¤šæœåŠ¡å™¨åˆ†æ‘Šè¯·æ±‚ï¼Œé™ä½å•æœºTIME_WAITç§¯ç´¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ç¼–ç¨‹ä¸é…ç½®ä¼˜åŒ–"&gt;&lt;strong&gt;ç¼–ç¨‹ä¸é…ç½®ä¼˜åŒ–&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç«¯å£å¿«é€Ÿå¤ç”¨ï¼š
&lt;pre tabindex="0"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;setsockopt(sockfd, SOL_SOCKET, SO_REUSEADDR, &amp;amp;(int){1}, sizeof(int)); // å…è®¸ç«‹å³é‡ç”¨ç«¯å£&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- **ä¼˜é›…å…³é—­è¿æ¥**ï¼šæœåŠ¡ç«¯é¿å…ä¸»åŠ¨å…³é—­ï¼Œç”±å®¢æˆ·ç«¯å‘èµ·å…³é—­ï¼ˆå¦‚HTTPæœåŠ¡é»˜è®¤ä¸è®¾`Connection: close`ï¼‰ã€‚
------
### ğŸ” **ç›‘æ§ä¸è¯Šæ–­å‘½ä»¤**
1. æŸ¥çœ‹TIME_WAITæ•°é‡
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;netstat -n | awk &amp;lsquo;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&amp;rsquo; # ç»Ÿè®¡å„çŠ¶æ€è¿æ¥æ•°&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;2. å®šä½å ç”¨ç«¯å£çš„è¿æ¥
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;netstat -nat | grep TIME_WAIT # åˆ—å‡ºæ‰€æœ‰TIME_WAITè¿æ¥&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### ğŸ’ **æ€»ç»“**
- **æœ¬è´¨**ï¼šTIME_WAITæ˜¯TCPåè®®è®¾è®¡ä¸­çš„**å®¹é”™æœºåˆ¶**ï¼Œé€šè¿‡2MSLç­‰å¾…ç¡®ä¿è¿æ¥å¯é å…³é—­å¹¶éš”ç¦»æ–°æ—§æ•°æ®ã€‚
- **é£é™©**ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹æ˜“å¼•å‘ç«¯å£è€—å°½ä¸æ€§èƒ½ç“¶é¢ˆï¼Œéœ€é’ˆå¯¹æ€§ä¼˜åŒ–ã€‚
- å®è·µåŸåˆ™ï¼š
&amp;gt; â‘  ä¼˜å…ˆç”¨é•¿è¿æ¥+è¿æ¥æ± å‡å°‘è¿æ¥æ•°ï¼›
&amp;gt; â‘¡ è°¨æ…è°ƒæ•´å†…æ ¸å‚æ•°ï¼Œé¿å…ç‰ºç‰²ç¨³å®šæ€§ï¼›
&amp;gt; â‘¢ ç›‘æ§`netstat`æŒ‡æ ‡ï¼Œé¢„é˜²ç«¯å£è€—å°½ã€‚
## ICMP
ICMPï¼ˆInternet Control Message Protocolï¼Œå› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰æ˜¯TCP/IPåè®®ç°‡ä¸­**ç½‘ç»œå±‚çš„æ ¸å¿ƒåè®®ä¹‹ä¸€**ï¼Œç”¨äºåœ¨IPä¸»æœºã€è·¯ç”±å™¨ä¹‹é—´ä¼ é€’æ§åˆ¶æ¶ˆæ¯ï¼ŒæŠ¥å‘Šç½‘ç»œçŠ¶æ€ï¼ˆå¦‚è¿é€šæ€§ã€è·¯ç”±å¯è¾¾æ€§ã€æ‹¥å¡ç­‰ï¼‰ï¼Œä½†ä¸ä¼ è¾“ç”¨æˆ·æ•°æ®ã€‚å…¶è®¾è®¡æœ¬è´¨æ˜¯ç½‘ç»œçš„â€œ**é”™è¯¯ä¾¦æµ‹ä¸åé¦ˆæœºåˆ¶**â€ï¼Œå¯¹ç½‘ç»œè¿ç»´å’Œå®‰å…¨è‡³å…³é‡è¦ã€‚
------
### ğŸ”§ **åè®®å®šä½ä¸å·¥ä½œåŸç†**
1. **åè®®å±‚çº§ä¸å°è£…**
- **ç½‘ç»œå±‚åè®®**ï¼šä¸IPåè®®ååŒå·¥ä½œï¼ˆIPå¤´éƒ¨åè®®å­—æ®µå€¼=1æ ‡è¯†ICMPæŠ¥æ–‡ï¼‰ã€‚
- **æŠ¥æ–‡ç»“æ„**ï¼šç”±ç±»å‹ï¼ˆTypeï¼‰ã€ä»£ç ï¼ˆCodeï¼‰ã€æ ¡éªŒå’ŒåŠæ•°æ®å››éƒ¨åˆ†æ„æˆï¼Œæ•°æ®éƒ¨åˆ†å¸¸æºå¸¦æ•…éšœåŒ…çš„IPå¤´+å‰8å­—èŠ‚è´Ÿè½½ï¼ˆä¾¿äºæºç«¯å®šä½é—®é¢˜ï¼‰ã€‚
- **æ— è¿æ¥æ€§**ï¼šæ— éœ€å»ºç«‹è¿æ¥ï¼ŒæŠ¥æ–‡å°è£…åç›´æ¥å‘é€ï¼Œä¾èµ–IPåè®®ä¼ é€’ã€‚
2. **æ ¸å¿ƒåŠŸèƒ½é€»è¾‘**
- å½“è·¯ç”±å™¨æˆ–ä¸»æœºæ£€æµ‹åˆ°ç½‘ç»œå¼‚å¸¸ï¼ˆå¦‚ç›®æ ‡ä¸å¯è¾¾ã€æ•°æ®åŒ…è¶…æ—¶ï¼‰ï¼Œ**è‡ªåŠ¨ç”ŸæˆICMPæŠ¥æ–‡**å‘é€ç»™æºè®¾å¤‡ã€‚
- æºè®¾å¤‡æ ¹æ®æŠ¥æ–‡ç±»å‹/ä»£ç è°ƒæ•´è¡Œä¸ºï¼ˆå¦‚é‡å‘æ•°æ®ã€é™ä½é€Ÿç‡ï¼‰ï¼Œä½†ICMP**ä»…æŠ¥å‘Šé—®é¢˜ä¸çº æ­£é”™è¯¯**ã€‚
------
### ğŸ“¡ **ICMPæŠ¥æ–‡ç±»å‹ä¸åŠŸèƒ½**
ICMPæŠ¥æ–‡åˆ†ä¸º**å·®é”™æŠ¥å‘Š**å’Œ**æŸ¥è¯¢è¯Šæ–­**ä¸¤å¤§ç±»ï¼Œé€šè¿‡ç±»å‹ï¼ˆTypeï¼‰å’Œä»£ç ï¼ˆCodeï¼‰ç»„åˆå®šä¹‰å…·ä½“åœºæ™¯ï¼š
#### **å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ï¼ˆç½‘ç»œå¼‚å¸¸åé¦ˆï¼‰**
| **ç±»å‹** | **ä»£ç ç¤ºä¾‹** | **åœºæ™¯æè¿°** |
| -------- | --------------- | -------------------------------------------- |
| 3 | 0ï¼ˆç½‘ç»œä¸å¯è¾¾ï¼‰ | è·¯ç”±å™¨æ‰¾ä¸åˆ°ç›®æ ‡ç½‘ç»œ |
| | 1ï¼ˆä¸»æœºä¸å¯è¾¾ï¼‰ | ç›®æ ‡ä¸»æœºæ— å“åº”ï¼ˆå¦‚é˜²ç«å¢™æ‹¦æˆªï¼‰ |
| | 3ï¼ˆç«¯å£ä¸å¯è¾¾ï¼‰ | ç›®æ ‡ç«¯å£æ— ç›‘å¬æœåŠ¡ï¼ˆå¦‚è®¿é—®æœªå¯åŠ¨çš„WebæœåŠ¡ï¼‰ |
| 4 | 0ï¼ˆæºç«™æŠ‘åˆ¶ï¼‰ | é€šçŸ¥å‘é€æ–¹é™ä½é€Ÿç‡ä»¥ç¼“è§£æ‹¥å¡ï¼ˆæ—§ç‰ˆæµé‡æ§åˆ¶ï¼‰ |
| 11 | 0ï¼ˆä¼ è¾“è¶…æ—¶ï¼‰ | TTLå‡è‡³0æ—¶è§¦å‘ï¼ˆtracerouteå·¥å…·ä¾èµ–æ­¤æœºåˆ¶ï¼‰ |
| | 1ï¼ˆé‡ç»„è¶…æ—¶ï¼‰ | åˆ†ç‰‡æ•°æ®åŒ…é‡ç»„å¤±è´¥ |
#### **æŸ¥è¯¢è¯Šæ–­æŠ¥æ–‡ï¼ˆä¸»åŠ¨æ¢æµ‹ï¼‰**
| **ç±»å‹** | **åŠŸèƒ½** | **å…¸å‹å·¥å…·** |
| -------- | --------------------- | ------------ |
| 8/0 | å›æ˜¾è¯·æ±‚/åº”ç­”ï¼ˆEchoï¼‰ | `ping`å‘½ä»¤ |
| 13/14 | æ—¶é—´æˆ³è¯·æ±‚/åº”ç­” | æµ‹é‡åŒå‘æ—¶å»¶ |
| 17/18 | åœ°å€æ©ç è¯·æ±‚/åº”ç­” | è·å–å­ç½‘æ©ç  |
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;graph LR
A[pingå‘½ä»¤] &amp;ndash;&amp;gt;|å‘é€Type=8| B(ç›®æ ‡ä¸»æœº)
B &amp;ndash;&amp;gt;|å“åº”Type=0| A[è¿é€šæ€§+å»¶è¿Ÿ]
C[traceroute] &amp;ndash;&amp;gt;|TTL=1å‘é€| D[è·¯ç”±å™¨1]
D &amp;ndash;&amp;gt;|è¿”å›Type=11| C[è®°å½•IP]
C &amp;ndash;&amp;gt;|TTL=2å‘é€| E[è·¯ç”±å™¨2]
E &amp;ndash;&amp;gt;|è¿”å›Type=11| C[ç»˜åˆ¶è·¯å¾„]&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
------
### âš™ï¸ **æ ¸å¿ƒåº”ç”¨åœºæ™¯**
1. **ç½‘ç»œè¿é€šæ€§æµ‹è¯•**
- **`ping`å‘½ä»¤**ï¼šå‘é€**Type=8**æŠ¥æ–‡ï¼Œç›®æ ‡è¿”å›**Type=0**å³è¯æ˜ç½‘ç»œå¯è¾¾ï¼ŒåŒæ—¶è®¡ç®—å¾€è¿”æ—¶å»¶ï¼ˆRTTï¼‰ã€‚
- **ç¤ºä¾‹**ï¼š`ping www.example.com` è¾“å‡ºä¸­çš„ `time=62.6ms` åæ˜ ç½‘ç»œå»¶è¿Ÿã€‚
2. **è·¯å¾„è¿½è¸ªä¸æ•…éšœå®šä½**
- **`traceroute`åŸç†**ï¼šå‘é€TTLä»1é€’å¢çš„æ•°æ®åŒ…ï¼Œåˆ©ç”¨è·¯ç”±å™¨çš„**Type=11è¶…æ—¶æŠ¥æ–‡**é€æ­¥æš´éœ²è·¯å¾„èŠ‚ç‚¹ã€‚
- **MTUæ¢æµ‹**ï¼šå‘é€å¤§åŒ…è§¦å‘**Type=3 Code=4ï¼ˆéœ€åˆ†ç‰‡ä½†DFç½®ä½ï¼‰** å·®é”™æŠ¥æ–‡ï¼ŒåŠ¨æ€è°ƒæ•´åŒ…å¤§å°ã€‚
3. **æµé‡æ§åˆ¶ï¼ˆå†å²ä½œç”¨ï¼‰**
- **æºç«™æŠ‘åˆ¶ï¼ˆType=4ï¼‰**ï¼šé€šçŸ¥å‘é€æ–¹é™é€Ÿï¼ˆç°å·²è¢«TCPæ‹¥å¡æ§åˆ¶ç®—æ³•æ›¿ä»£ï¼‰ã€‚
------
### âš ï¸ **å®‰å…¨é£é™©ä¸é˜²å¾¡**
ICMPçš„ç®€æ´æ€§ä½¿å…¶æ˜“è¢«æ»¥ç”¨ï¼š
1. **æ”»å‡»ç±»å‹**
- **Ping of Death**ï¼šå‘é€&amp;gt;64KBçš„æ¶æ„åˆ†ç‰‡åŒ…ï¼Œå¯¼è‡´ç›®æ ‡å†…å­˜æº¢å‡ºå´©æºƒã€‚
- **ICMP Flood**ï¼šä¼ªé€ æºIPæµ·é‡å‘é€Echoè¯·æ±‚ï¼Œè€—å°½ç›®æ ‡èµ„æºï¼ˆDDoSï¼‰ã€‚
- **ç½‘ç»œä¾¦å¯Ÿ**ï¼šåˆ©ç”¨ä¸å¯è¾¾æŠ¥æ–‡æ‰«æå¼€æ”¾ç«¯å£æˆ–æ‹“æ‰‘ã€‚
2. **é˜²å¾¡æªæ–½**
- **é˜²ç«å¢™ç­–ç•¥**ï¼š
- ç¦æ­¢å¤–éƒ¨ICMPå…¥ç«™ï¼ˆå¦‚å±è”½`ping`ï¼‰ï¼Œä½†å…è®¸å†…éƒ¨æ¢æµ‹å¤–å‡ºã€‚
- è¿‡æ»¤é«˜é£é™©ç±»å‹ï¼ˆå¦‚é‡å®šå‘Type=5ï¼‰ã€‚
- **é™é€Ÿä¸è¿‡æ»¤**ï¼šåœ¨è·¯ç”±å™¨é™åˆ¶ICMPæµé‡å æ¯”ï¼ˆå¦‚â‰¤1%å¸¦å®½ï¼‰ã€‚
- **åè®®æ›¿ä»£**ï¼šå†…ç½‘ç¦ç”¨ICMPæ—¶ï¼Œç”¨TCP Pingï¼ˆ`telnet ç«¯å£`ï¼‰æˆ–UDPæ¢æµ‹æ›¿ä»£ã€‚
------
### ğŸ’ **æ€»ç»“**
&amp;gt; ICMPæ˜¯IPç½‘ç»œçš„â€œ**ç¥ç»ç³»ç»Ÿ**â€ï¼Œé€šè¿‡æ¯«ç§’çº§åé¦ˆç»´æŒäº’è”ç½‘çš„å¥å£®æ€§ï¼š
&amp;gt;
&amp;gt; - **è¯Šæ–­ä»·å€¼**ï¼š`ping`/`traceroute`æˆä¸ºè¿ç»´æ ‡é…å·¥å…·ï¼Œå¿«é€Ÿå®šä½æ•…éšœï¼›
&amp;gt; - **è®¾è®¡æœ¬è´¨**ï¼šè½»é‡æ— è¿æ¥åè®®ï¼Œç‰ºç‰²å®‰å…¨æ€§æ¢æ•ˆç‡ï¼Œéœ€ä¾èµ–å¤–éƒ¨é˜²æŠ¤ï¼›
&amp;gt; - **æœ€ä½³å®è·µ**ï¼šå…¬ç½‘æœåŠ¡åº”**é€‰æ‹©æ€§æ”¾è¡ŒICMP**ï¼ˆå¦‚ä»…å…è®¸Echoå‡ºç«™ï¼‰ï¼Œç»“åˆæµé‡ç›‘æ§ä¸å…¥ä¾µæ£€æµ‹é˜²å¾¡æ»¥ç”¨ã€‚
**è¿ç»´å»ºè®®**ï¼šå®šæœŸæ£€æŸ¥æœåŠ¡å™¨ICMPè¿‡æ»¤è§„åˆ™ï¼ˆå¦‚Linux `iptables`ï¼‰ï¼Œå¹¶ç›‘æ§å¼‚å¸¸ICMPæµé‡çªå¢ï¼ˆå¦‚`iftop -f icmp`ï¼‰ã€‚
&lt;/code&gt;&lt;/pre&gt;</description></item><item><title>ã€DNSã€‘Concepts</title><link>https://dyhes.github.io/p/dnsconcepts/</link><pubDate>Tue, 22 Mar 2022 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/dnsconcepts/</guid><description>&lt;h2 id="domain-name"&gt;Domain Name
&lt;/h2&gt;&lt;p&gt;A domain name is an &lt;strong&gt;identification string&lt;/strong&gt; that defines a realm of administrative autonomy, authority or control within the Internet.&lt;/p&gt;
&lt;p&gt;Domain names are used in various networking contexts and for &lt;strong&gt;application-specific naming&lt;/strong&gt; and &lt;strong&gt;addressing&lt;/strong&gt; purposes. In general, a domain name &lt;strong&gt;identifies a network domain&lt;/strong&gt;, or it &lt;strong&gt;represents an Internet Protocol&lt;/strong&gt; &lt;strong&gt;(IP) resource&lt;/strong&gt;, such as a personal computer used to access the Internet, a server computer hosting a website, or the web site itself or any other service communicated via the Internet. As of 2017, 330.6 million domain names had been registered.&lt;/p&gt;
&lt;p&gt;A uniform resource locator (URL), sometimes called a web address, contains the domain name of a site as well as other information, including the transfer protocol and the path.&lt;/p&gt;
&lt;h3 id="types"&gt;types
&lt;/h3&gt;&lt;p&gt;There are two types of domain names.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;generic&lt;/strong&gt; top-level domains (gTLDs)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;such as .com, .edu, .org, and .gov. Authority over these domains is usually delegated to private organizations.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;country-code&lt;/strong&gt; top-level domains (ccTLDs).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Each country in the world has its own &lt;strong&gt;2-letter code&lt;/strong&gt;. These domains are administered by authorities in each country.&lt;/p&gt;
&lt;p&gt;Some ccTLDs, such as .tv (for the island nation of Tuvalu) and .io (the British Indian Ocean Territory), have become popular for use outside of their home countries.&lt;/p&gt;
&lt;h2 id="domain-name-system"&gt;Domain Name System
&lt;/h2&gt;&lt;p&gt;The Domain Name System (DNS) is the &lt;strong&gt;hierarchical and decentralized naming system&lt;/strong&gt; used to identify computers, services, and other resoures reachable through the Internet or other Internet Protocol (IP) networks.&lt;/p&gt;
&lt;p&gt;&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220324153500031.png"
loading="lazy"
alt="image-20220324153500031"
&gt;&lt;/p&gt;
&lt;p&gt;The domain name system is administered by the &lt;strong&gt;Internet Corporation for Assigned Names and Numbers(ICANN)&lt;/strong&gt;, a non-profit organization based in California founded in &lt;strong&gt;1998&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;A standard called &lt;strong&gt;DNSSEC&lt;/strong&gt; seeks to beef up DNS security with &lt;strong&gt;encryption&lt;/strong&gt;, but few people have adopted it.&lt;/p&gt;
&lt;h2 id="dns-server-type"&gt;DNS Server Type
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;DNS recursor&lt;/strong&gt; ( &lt;strong&gt;librarian&lt;/strong&gt; who is asked to go find a particular book somewhere in a library)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The DNS recursor is a server designed to &lt;strong&gt;receive queries from client machines through applications such as web browsers&lt;/strong&gt;. Typically the recursor is then responsible for &lt;strong&gt;making additional requests&lt;/strong&gt; in order to satisfy the clientâ€™s DNS query.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Root Nameserver&lt;/strong&gt; ( an index in a library that points to different racks of books) The root server is the first step in translating (resolving) human readable host names into IP addresses. it serves as a reference to other more specific locations.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TLD(top level domain server) Nameserver&lt;/strong&gt;- (a specific rack of books in a library.) This nameserver is the next step in the search for a specific IP address, and it hosts the last portion of a hostname (In example.com, the TLD server is â€œcomâ€).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Authoritative Nameserver&lt;/strong&gt; -( dictionary on a rack of books, in which a specific name can be translated into its definition.) The authoritative nameserver is the last stop in the nameserver query. If the authoritative name server has access to the requested record, it will return the IP address for the requested hostname back to the DNS Recursor (the librarian) that made the initial request.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220324154414911.png"
loading="lazy"
alt="image-20220324154414911"
&gt;&lt;/p&gt;
&lt;h3 id="chache"&gt;Chache
&lt;/h3&gt;&lt;p&gt;caching is a data persistence process that helps short-circuit the necessary requests by serving the requested resource record earlier in the DNS lookup.&lt;/p&gt;
&lt;p&gt;&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220120142648564.png"
loading="lazy"
alt="image-20220120142648564"
&gt;&lt;/p&gt;
&lt;h2 id="subdomain"&gt;Subdomain
&lt;/h2&gt;&lt;p&gt;Itâ€™s worth mentioning that in instances where the query is for a subdomain such as foo.example.com or blog.cloudflare.com an &lt;strong&gt;additional nameserver&lt;/strong&gt; will be added to the sequence &lt;strong&gt;after the authoritative nameserver&lt;/strong&gt;, which is responsible for storing the subdomainâ€™s &lt;strong&gt;CNAME record&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src="C:%5cUsers%5cdyhes%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20220324154954437.png"
loading="lazy"
alt="image-20220324154954437"
&gt;&lt;/p&gt;</description></item></channel></rss>