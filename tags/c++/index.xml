<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>C++ on é£é¸¿è¸é›ªæ³¥</title><link>https://dyhes.github.io/tags/c++/</link><description>Recent content in C++ on é£é¸¿è¸é›ªæ³¥</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 29 Aug 2025 20:44:23 +0800</lastBuildDate><atom:link href="https://dyhes.github.io/tags/c++/index.xml" rel="self" type="application/rss+xml"/><item><title>ã€Templeã€‘Java &amp; C</title><link>https://dyhes.github.io/p/templejava-c/</link><pubDate>Thu, 28 Aug 2025 00:00:00 +0000</pubDate><guid>https://dyhes.github.io/p/templejava-c/</guid><description>&lt;h2 id="java-foreach"&gt;Java foreach
&lt;/h2&gt;&lt;p&gt;Java ä¸­çš„ &lt;code&gt;foreach&lt;/code&gt;å¾ªç¯ï¼ˆå¢å¼ºå‹ &lt;code&gt;for&lt;/code&gt;å¾ªç¯ï¼‰æ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œå…¶åº•å±‚å®ç°ä¾èµ–äºç¼–è¯‘å™¨çš„ä»£ç è½¬æ¢ã€‚è‡ªå®šä¹‰ç±»è‹¥éœ€æ”¯æŒ &lt;code&gt;foreach&lt;/code&gt;å¾ªç¯ï¼Œéœ€å®ç° &lt;code&gt;Iterable&lt;/code&gt;æ¥å£ã€‚ä»¥ä¸‹ä»å®ç°åŸç†å’Œè‡ªå®šä¹‰ç±»å®ç°æ–¹æ³•ä¸¤æ–¹é¢è¯¦ç»†è¯´æ˜ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸€foreachçš„å®ç°åŸç†"&gt;âš™ï¸ ä¸€ã€&lt;code&gt;foreach&lt;/code&gt;çš„å®ç°åŸç†
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;foreach&lt;/code&gt;çš„åº•å±‚å®ç°æ ¹æ®éå†å¯¹è±¡çš„ç±»å‹ï¼ˆæ•°ç»„æˆ–é›†åˆï¼‰åˆ†ä¸ºä¸¤ç§æ¨¡å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;éå†æ•°ç»„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘å™¨å°† &lt;code&gt;foreach&lt;/code&gt;è½¬æ¢ä¸ºä¼ ç»Ÿ &lt;code&gt;for&lt;/code&gt;å¾ªç¯ï¼Œé€šè¿‡ç´¢å¼•ç›´æ¥è®¿é—®æ•°ç»„å…ƒç´ ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æºä»£ç &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;int[] nums = {1, 2, 3};
for (int num : nums) {
System.out.println(num);
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;ç¼–è¯‘åç­‰ä»·äº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;for (int i = 0; i &amp;lt; nums.length; i++) {
int num = nums[i];
System.out.println(num);
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šæ— è¿­ä»£å™¨å‚ä¸ï¼Œç›´æ¥æ“ä½œæ•°ç»„ä¸‹æ ‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;éå†é›†åˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¦æ±‚é›†åˆå®ç° &lt;code&gt;Iterable&lt;/code&gt;æ¥å£ã€‚ç¼–è¯‘å™¨å°† &lt;code&gt;foreach&lt;/code&gt;è½¬æ¢ä¸ºè¿­ä»£å™¨ï¼ˆ&lt;code&gt;Iterator&lt;/code&gt;ï¼‰æ¨¡å¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æºä»£ç &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;List&amp;lt;String&amp;gt; list = Arrays.asList(&amp;#34;A&amp;#34;, &amp;#34;B&amp;#34;);
for (String s : list) {
System.out.println(s);
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;ç¼–è¯‘åç­‰ä»·äº&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Iterator&amp;lt;String&amp;gt; iter = list.iterator();
while (iter.hasNext()) {
String s = iter.next();
System.out.println(s);
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šä¾èµ– &lt;code&gt;Iterator&lt;/code&gt;çš„ &lt;code&gt;hasNext()&lt;/code&gt;å’Œ &lt;code&gt;next()&lt;/code&gt;æ–¹æ³•éå†å…ƒç´ ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="-å…³é”®é™åˆ¶"&gt;âš ï¸ å…³é”®é™åˆ¶ï¼š
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¦æ­¢ä¿®æ”¹é›†åˆç»“æ„&lt;/strong&gt;ï¼šåœ¨ &lt;code&gt;foreach&lt;/code&gt;ä¸­å¢åˆ é›†åˆå…ƒç´ ä¼šæŠ›å‡º &lt;code&gt;ConcurrentModificationException&lt;/code&gt;ï¼ˆå› è¿­ä»£å™¨æ£€æµ‹åˆ° &lt;code&gt;modCount&lt;/code&gt;å˜åŒ–ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ— æ³•è·å–ç´¢å¼•&lt;/strong&gt;ï¼šéœ€æ”¹ç”¨ä¼ ç»Ÿ &lt;code&gt;for&lt;/code&gt;å¾ªç¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ•ˆç‡å¯¹æ¯”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;foreach&lt;/code&gt;æ•ˆç‡&lt;/th&gt;
&lt;th&gt;ä¼ ç»Ÿ &lt;code&gt;for&lt;/code&gt;å¾ªç¯æ•ˆç‡&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ•°ç»„éå†&lt;/td&gt;
&lt;td&gt;æ¥è¿‘ä¼ ç»Ÿå¾ªç¯&lt;/td&gt;
&lt;td&gt;æ›´ä¼˜ï¼ˆç›´æ¥ä¸‹æ ‡è®¿é—®ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;ArrayList&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ¥è¿‘ä¼ ç»Ÿå¾ªç¯&lt;/td&gt;
&lt;td&gt;æ›´ä¼˜ï¼ˆ&lt;code&gt;get(index)&lt;/code&gt;å¿«ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LinkedList&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;æ˜¾è‘—æ›´ä¼˜&lt;/strong&gt;ï¼ˆè¿­ä»£å™¨ï¼‰&lt;/td&gt;
&lt;td&gt;æå·®ï¼ˆéå†è€—æ—¶ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-äºŒè‡ªå®šä¹‰ç±»å®ç°-foreachçš„æ–¹æ³•"&gt;ğŸ› ï¸ äºŒã€è‡ªå®šä¹‰ç±»å®ç° &lt;code&gt;foreach&lt;/code&gt;çš„æ–¹æ³•
&lt;/h3&gt;&lt;p&gt;è‹¥è¦è®©è‡ªå®šä¹‰ç±»æ”¯æŒ &lt;code&gt;foreach&lt;/code&gt;å¾ªç¯ï¼Œéœ€å®ç° &lt;code&gt;Iterable&amp;lt;T&amp;gt;&lt;/code&gt;æ¥å£å¹¶é‡å†™ &lt;code&gt;iterator()&lt;/code&gt;æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªè‡ªå®šä¹‰çš„ &lt;code&gt;Iterator&lt;/code&gt;å¯¹è±¡ã€‚&lt;/p&gt;
&lt;h4 id="-å®ç°æ­¥éª¤"&gt;âœ… å®ç°æ­¥éª¤ï¼š
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®ç° &lt;code&gt;Iterable&lt;/code&gt;æ¥å£&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ç±»éœ€å£°æ˜å®ç° &lt;code&gt;Iterable&amp;lt;T&amp;gt;&lt;/code&gt;ï¼ˆ&lt;code&gt;T&lt;/code&gt;ä¸ºå…ƒç´ ç±»å‹ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é‡å†™ &lt;code&gt;iterator()&lt;/code&gt;æ–¹æ³•&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;è¿”å›ä¸€ä¸ªå®ç°äº† &lt;code&gt;Iterator&amp;lt;T&amp;gt;&lt;/code&gt;çš„å†…éƒ¨ç±»å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è‡ªå®šä¹‰è¿­ä»£å™¨&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨è¿­ä»£å™¨å†…éƒ¨ç±»ä¸­å®ç° &lt;code&gt;hasNext()&lt;/code&gt;å’Œ &lt;code&gt;next()&lt;/code&gt;æ–¹æ³•ï¼Œå®šä¹‰éå†é€»è¾‘ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="-ä»£ç ç¤ºä¾‹"&gt;ğŸ“ ä»£ç ç¤ºä¾‹ï¼š
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;import java.util.Iterator;
import java.util.NoSuchElementException;
public class CustomContainer&amp;lt;T&amp;gt; implements Iterable&amp;lt;T&amp;gt; {
private T[] elements;
private int size;
public CustomContainer(T[] data) {
this.elements = data;
this.size = data.length;
}
@Override
public Iterator&amp;lt;T&amp;gt; iterator() {
return new CustomIterator();
}
// è‡ªå®šä¹‰è¿­ä»£å™¨
private class CustomIterator implements Iterator&amp;lt;T&amp;gt; {
private int currentIndex = 0;
@Override
public boolean hasNext() {
return currentIndex &amp;lt; size; // æ£€æŸ¥æ˜¯å¦æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ 
}
@Override
public T next() {
if (!hasNext()) {
throw new NoSuchElementException();
}
return elements[currentIndex++]; // è¿”å›å½“å‰å…ƒç´ å¹¶åç§»æŒ‡é’ˆ
}
}
public static void main(String[] args) {
String[] items = {&amp;#34;Apple&amp;#34;, &amp;#34;Banana&amp;#34;, &amp;#34;Cherry&amp;#34;};
CustomContainer&amp;lt;String&amp;gt; container = new CustomContainer&amp;lt;&amp;gt;(items);
// æ”¯æŒforeachéå†
for (String item : container) {
System.out.println(item);
}
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="-æ³¨æ„äº‹é¡¹"&gt;âš ï¸ æ³¨æ„äº‹é¡¹ï¼š
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿­ä»£å™¨ä¸æ•°æ®åˆ†ç¦»&lt;/strong&gt;ï¼šè¿­ä»£å™¨ä¸ç›´æ¥æŒæœ‰åŸé›†åˆæ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡æŒ‡é’ˆè®¿é—®ï¼Œé¿å…æ•°æ®æš´éœ²ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒæ³›å‹&lt;/strong&gt;ï¼šä½¿ç”¨æ³›å‹ï¼ˆå¦‚ &lt;code&gt;&amp;lt;T&amp;gt;&lt;/code&gt;ï¼‰å¢å¼ºç±»å‹å®‰å…¨æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¿å…ç»“æ„æ€§ä¿®æ”¹&lt;/strong&gt;ï¼šè‡ªå®šä¹‰è¿­ä»£å™¨è‹¥éœ€æ”¯æŒåˆ é™¤æ“ä½œï¼Œéœ€é¢å¤–å®ç° &lt;code&gt;remove()&lt;/code&gt;æ–¹æ³•ï¼ˆéå¼ºåˆ¶ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“"&gt;ğŸ’ æ€»ç»“
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;foreach&lt;/code&gt;&lt;strong&gt;æœ¬è´¨&lt;/strong&gt;ï¼šç¼–è¯‘å™¨æ ¹æ®å¯¹è±¡ç±»å‹ï¼ˆæ•°ç»„/é›†åˆï¼‰è½¬æ¢ä¸ºç´¢å¼•å¾ªç¯æˆ–è¿­ä»£å™¨æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªå®šä¹‰ç±»æ”¯æŒ&lt;/strong&gt;ï¼šå®ç° &lt;code&gt;Iterable&lt;/code&gt;+ è‡ªå®šä¹‰ &lt;code&gt;Iterator&lt;/code&gt;ï¼Œé€šè¿‡ &lt;code&gt;hasNext()&lt;/code&gt;å’Œ &lt;code&gt;next()&lt;/code&gt;æ§åˆ¶éå†é€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šç®€åŒ–åªè¯»éå†ä»£ç ï¼Œé¿å…åœ¨éœ€ä¿®æ”¹é›†åˆæˆ–è·å–ç´¢å¼•æ—¶ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="c-foreach"&gt;C++ foreach
&lt;/h2&gt;&lt;p&gt;åœ¨C++ä¸­ï¼Œå®ç°ç±»ä¼¼ &lt;code&gt;foreach&lt;/code&gt;çš„éå†åŠŸèƒ½ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;strong&gt;C++11å¼•å…¥çš„range-based forå¾ªç¯&lt;/strong&gt; å’Œ &lt;strong&gt;STLç®—æ³• &lt;code&gt;std::for_each&lt;/code&gt;&lt;/strong&gt;ã€‚ä»¥ä¸‹åˆ†åˆ«è¯´æ˜å®ç°åŸç†å’Œè‡ªå®šä¹‰ç±»æ”¯æŒæ–¹æ³•ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸€range-based-forå¾ªç¯c11"&gt;âš™ï¸ ä¸€ã€Range-Based Forå¾ªç¯ï¼ˆC++11+ï¼‰
&lt;/h3&gt;&lt;h4 id="è¯­æ³•ä¸åŸç†"&gt;&lt;strong&gt;è¯­æ³•ä¸åŸç†&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;for (auto&amp;amp; element : container) {
// å¤„ç† element
}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šç¼–è¯‘å™¨å°†å…¶è½¬æ¢ä¸ºåŸºäºè¿­ä»£å™¨çš„ä¼ ç»Ÿå¾ªç¯ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;auto begin = container.begin();
auto end = container.end();
for (; begin != end; ++begin) {
auto&amp;amp; element = *begin;
// å¤„ç† element
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨å¯¹è±¡&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…ç½®æ•°ç»„ï¼ˆå¦‚ &lt;code&gt;int arr[10]&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;STLå®¹å™¨ï¼ˆå¦‚ &lt;code&gt;vector&lt;/code&gt;ã€&lt;code&gt;list&lt;/code&gt;ã€&lt;code&gt;map&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰ç±»ï¼ˆéœ€å®ç° &lt;code&gt;begin()&lt;/code&gt;å’Œ &lt;code&gt;end()&lt;/code&gt;æ–¹æ³•ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="è‡ªå®šä¹‰ç±»æ”¯æŒ"&gt;&lt;strong&gt;è‡ªå®šä¹‰ç±»æ”¯æŒ&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;è‹¥è¦è®©è‡ªå®šä¹‰ç±»æ”¯æŒ range-based forï¼Œéœ€æä¾› &lt;code&gt;begin()&lt;/code&gt;å’Œ &lt;code&gt;end()&lt;/code&gt;æ–¹æ³•ï¼Œè¿”å›è¿­ä»£å™¨ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class MyContainer {
public:
int* data;
size_t size;
// å¿…é¡»æä¾› begin() å’Œ end()
int* begin() { return data; }
int* end() { return data + size; }
};
// ä½¿ç”¨ç¤ºä¾‹
MyContainer c = { /* åˆå§‹åŒ– */ };
for (int&amp;amp; val : c) {
cout &amp;lt;&amp;lt; val &amp;lt;&amp;lt; endl;
}
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;âœ… &lt;strong&gt;å…³é”®&lt;/strong&gt;ï¼šè¿­ä»£å™¨ç±»å‹éœ€æ”¯æŒ &lt;code&gt;operator*&lt;/code&gt;ï¼ˆè§£å¼•ç”¨ï¼‰ã€&lt;code&gt;operator++&lt;/code&gt;ï¼ˆè‡ªå¢ï¼‰å’Œ &lt;code&gt;operator!=&lt;/code&gt;ï¼ˆä¸ç­‰æ¯”è¾ƒï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-äºŒstlç®—æ³•-stdfor_each"&gt;ğŸ”§ äºŒã€STLç®—æ³• &lt;code&gt;std::for_each&lt;/code&gt;
&lt;/h3&gt;&lt;h4 id="å‡½æ•°åŸå‹ä¸åŸç†"&gt;&lt;strong&gt;å‡½æ•°åŸå‹ä¸åŸç†&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;#include &amp;lt;algorithm&amp;gt;
std::for_each(begin_iter, end_iter, func);
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šéå† &lt;code&gt;[begin_iter, end_iter)&lt;/code&gt;åŒºé—´ï¼Œå¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨ &lt;code&gt;func&lt;/code&gt;ï¼ˆå‡½æ•°/å‡½æ•°å¯¹è±¡/Lambdaï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒå®ç°&lt;/strong&gt;ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;template &amp;lt;typename Iter, typename Func&amp;gt;
Func for_each(Iter begin, Iter end, Func f) {
while (begin != end) {
f(*begin); // åº”ç”¨å‡½æ•°å¯¹è±¡
++begin;
}
return f;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="è‡ªå®šä¹‰å¤„ç†é€»è¾‘"&gt;&lt;strong&gt;è‡ªå®šä¹‰å¤„ç†é€»è¾‘&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;æ”¯æŒä¸‰ç§è°ƒç”¨æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ™®é€šå‡½æ•°&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;void print(int x) { cout &amp;lt;&amp;lt; x &amp;lt;&amp;lt; &amp;#34; &amp;#34;; }
std::for_each(vec.begin(), vec.end(), print);
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å‡½æ•°å¯¹è±¡ï¼ˆä»¿å‡½æ•°ï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;struct Printer {
void operator()(int x) { cout &amp;lt;&amp;lt; x &amp;lt;&amp;lt; &amp;#34; &amp;#34;; }
};
std::for_each(vec.begin(), vec.end(), Printer());
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Lambdaè¡¨è¾¾å¼&lt;/strong&gt;ï¼ˆæ¨èï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;std::for_each(vec.begin(), vec.end(), [](int x) {
cout &amp;lt;&amp;lt; x &amp;lt;&amp;lt; &amp;#34; &amp;#34;;
});
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ Lambda å¯æ•è·å¤–éƒ¨å˜é‡ï¼ˆå¦‚ &lt;code&gt;[&amp;amp;]&lt;/code&gt;æ•è·å¼•ç”¨ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="ä¿®æ”¹å®¹å™¨å…ƒç´ "&gt;&lt;strong&gt;ä¿®æ”¹å®¹å™¨å…ƒç´ &lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;é€šè¿‡å¼•ç”¨å‚æ•°ä¿®æ”¹å…ƒç´ ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;std::for_each(vec.begin(), vec.end(), [](int&amp;amp; x) {
x *= 2; // ä¿®æ”¹å…ƒç´ 
});
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id="-ä¸‰ä¸¤ç§æ–¹å¼å¯¹æ¯”ä¸é€‚ç”¨åœºæ™¯"&gt;ğŸ”„ ä¸‰ã€ä¸¤ç§æ–¹å¼å¯¹æ¯”ä¸é€‚ç”¨åœºæ™¯
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Range-Based For&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;std::for_each&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¯­æ³•ç®€æ´åº¦&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;â­ï¸â­ï¸â­ï¸ï¼ˆæ›´ç›´è§‚ï¼‰&lt;/td&gt;
&lt;td&gt;â­ï¸â­ï¸ï¼ˆéœ€æ˜¾å¼è¿­ä»£å™¨ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ”¯æŒè‡ªå®šä¹‰ç±»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆéœ€å®ç° &lt;code&gt;begin()/end()&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆä¾èµ–è¿­ä»£å™¨ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¤æ‚æ“ä½œæ”¯æŒ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éœ€æ‰‹åŠ¨å†™å¾ªç¯ä½“&lt;/td&gt;
&lt;td&gt;â­ï¸â­ï¸â­ï¸ï¼ˆç›´æ¥ä¼ å…¥å‡½æ•°ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¹¶è¡ŒåŒ–æ½œåŠ›&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆå¯ä¸ &lt;code&gt;std::execution&lt;/code&gt;ç»“åˆï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;C++ç‰ˆæœ¬è¦æ±‚&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;C++11+&lt;/td&gt;
&lt;td&gt;C++98+&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-å››å®é™…åº”ç”¨ç¤ºä¾‹"&gt;ğŸ› ï¸ å››ã€å®é™…åº”ç”¨ç¤ºä¾‹
&lt;/h3&gt;&lt;h4 id="åœºæ™¯1éå†è‡ªå®šä¹‰å®¹å™¨"&gt;&lt;strong&gt;åœºæ™¯1ï¼šéå†è‡ªå®šä¹‰å®¹å™¨&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;class MyData {
std::vector&amp;lt;int&amp;gt; data;
public:
auto begin() { return data.begin(); }
auto end() { return data.end(); }
};
MyData container;
for (auto&amp;amp; x : container) { // ç›´æ¥éå†
cout &amp;lt;&amp;lt; x &amp;lt;&amp;lt; endl;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="åœºæ™¯2ä½¿ç”¨lambdaç»Ÿè®¡å…ƒç´ "&gt;&lt;strong&gt;åœºæ™¯2ï¼šä½¿ç”¨Lambdaç»Ÿè®¡å…ƒç´ &lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;std::vector&amp;lt;int&amp;gt; nums = {1, 2, 3, 4};
int sum = 0;
std::for_each(nums.begin(), nums.end(), [&amp;amp;sum](int x) {
sum += x; // æ•è·å¤–éƒ¨å˜é‡ç´¯åŠ 
});
cout &amp;lt;&amp;lt; &amp;#34;Sum: &amp;#34; &amp;lt;&amp;lt; sum; // è¾“å‡º 10
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-1"&gt;ğŸ’ æ€»ç»“
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Range-Based For&lt;/strong&gt;ï¼šé¦–é€‰æ–¹æ¡ˆï¼Œè¯­æ³•ç®€æ´ï¼Œé€‚åˆå¤§å¤šæ•°éå†åœºæ™¯ï¼ˆéœ€C++11+ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;std::for_each&lt;/code&gt;&lt;/strong&gt;ï¼šçµæ´»æ€§å¼ºï¼Œæ”¯æŒå¤æ‚æ“ä½œï¼ˆå¦‚ä¿®æ”¹å…ƒç´ ã€çŠ¶æ€æ•è·ï¼‰ï¼Œå…¼å®¹æ—§æ ‡å‡†ï¼ˆC++98+ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªå®šä¹‰ç±»æ”¯æŒ&lt;/strong&gt;ï¼šå®ç° &lt;code&gt;begin()&lt;/code&gt;/&lt;code&gt;end()&lt;/code&gt;æˆ–æä¾›è¿­ä»£å™¨å³å¯å…¼å®¹ä¸¤ç§æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="c-virtual"&gt;c++ virtual
&lt;/h2&gt;&lt;p&gt;C++ ä¸­çš„è™šå‡½æ•°ï¼ˆ&lt;code&gt;virtual&lt;/code&gt;functionï¼‰æ˜¯&lt;strong&gt;å®ç°è¿è¡Œæ—¶å¤šæ€ï¼ˆåŠ¨æ€ç»‘å®šï¼‰çš„æ ¸å¿ƒæœºåˆ¶&lt;/strong&gt;ï¼Œå…¶ä½œç”¨ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸€æ ¸å¿ƒä½œç”¨"&gt;âš™ï¸ &lt;strong&gt;ä¸€ã€æ ¸å¿ƒä½œç”¨&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®ç°è¿è¡Œæ—¶å¤šæ€ï¼ˆåŠ¨æ€ç»‘å®šï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æœºåˆ¶&lt;/strong&gt;ï¼šé€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯&lt;strong&gt;å¯¹è±¡å®é™…ç±»å‹&lt;/strong&gt;ï¼ˆæ´¾ç”Ÿç±»ï¼‰çš„é‡å†™ç‰ˆæœ¬ï¼Œè€ŒéæŒ‡é’ˆ/å¼•ç”¨çš„é™æ€ç±»å‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Animal {
public:
virtual void speak() { cout &amp;lt;&amp;lt; &amp;#34;Animal sound&amp;#34; &amp;lt;&amp;lt; endl; } // è™šå‡½æ•°
};
class Cat : public Animal {
public:
void speak() override { cout &amp;lt;&amp;lt; &amp;#34;Meow&amp;#34; &amp;lt;&amp;lt; endl; } // é‡å†™è™šå‡½æ•°
};
// è°ƒç”¨
Animal* obj = new Cat();
obj-&amp;gt;speak(); // è¾“å‡º &amp;#34;Meow&amp;#34;ï¼ˆåŠ¨æ€ç»‘å®šåˆ°Cat::speakï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®šä¹‰æ¥å£è§„èŒƒä¸æŠ½è±¡ç±»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;çº¯è™šå‡½æ•°&lt;/strong&gt;ï¼šé€šè¿‡ &lt;code&gt;virtual void func() = 0;&lt;/code&gt;å£°æ˜çº¯è™šå‡½æ•°ï¼Œä½¿ç±»æˆä¸º&lt;strong&gt;æŠ½è±¡ç±»&lt;/strong&gt;ï¼ˆæ— æ³•å®ä¾‹åŒ–ï¼‰ï¼Œå¼ºåˆ¶æ´¾ç”Ÿç±»å®ç°æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šè®¾è®¡æ¨¡å¼ï¼ˆå¦‚å·¥å‚æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ï¼‰ä¸­çš„é€šç”¨æ¥å£å®šä¹‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æå‡ä»£ç å¯æ‰©å±•æ€§ä¸å¯ç»´æŠ¤æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ–°å¢æ´¾ç”Ÿç±»æ— éœ€ä¿®æ”¹åŸºç±»&lt;/strong&gt;ï¼šåªéœ€é‡å†™è™šå‡½æ•°ï¼Œå³å¯é€šè¿‡åŸºç±»æŒ‡é’ˆç»Ÿä¸€è°ƒç”¨æ–°åŠŸèƒ½ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ï¼ˆOCPï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£è€¦åˆ&lt;/strong&gt;ï¼šåŸºç±»ä»£ç ä¸ä¾èµ–æ´¾ç”Ÿç±»ç»†èŠ‚ï¼Œé™ä½æ¨¡å—é—´ä¾èµ–æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-äºŒå…³é”®ç‰¹æ€§ä¸åŸç†"&gt;âš¡ï¸ &lt;strong&gt;äºŒã€å…³é”®ç‰¹æ€§ä¸åŸç†&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰æœºåˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;vtable&lt;/strong&gt;ï¼šæ¯ä¸ªå«è™šå‡½æ•°çš„ç±»æœ‰ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œå­˜å‚¨è¯¥ç±»æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;vptr&lt;/strong&gt;ï¼šæ¯ä¸ªå¯¹è±¡å†…å«ä¸€ä¸ªæŒ‡å‘ vtable çš„æŒ‡é’ˆï¼ˆvptrï¼‰ï¼Œè°ƒç”¨è™šå‡½æ•°æ—¶é€šè¿‡ vptr æŸ¥è¡¨è·³è½¬ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŠ¨æ€ç»‘å®šæµç¨‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;graph LR
A[åŸºç±»æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°] --&amp;gt; B[é€šè¿‡vptræ‰¾åˆ°vtable]
B --&amp;gt; C[æ ¹æ®åç§»é‡å®šä½å‡½æ•°åœ°å€]
C --&amp;gt; D[æ‰§è¡Œå®é™…ç±»å‹çš„å‡½æ•°]
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è™šææ„å‡½æ•°çš„å¿…è¦æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜&lt;/strong&gt;ï¼šè‹¥åŸºç±»ææ„å‡½æ•°éè™šï¼Œé€šè¿‡åŸºç±»æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œ&lt;strong&gt;ä»…è°ƒç”¨åŸºç±»ææ„å‡½æ•°&lt;/strong&gt;ï¼Œå¯¼è‡´æ´¾ç”Ÿç±»èµ„æºæ³„æ¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Base {
public:
virtual ~Base() {} // è™šææ„å‡½æ•°
};
class Derived : public Base { /* ... */ };
Base* obj = new Derived();
delete obj; // æ­£ç¡®è°ƒç”¨Derivedå’ŒBaseçš„ææ„å‡½æ•°
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åå˜è¿”å›ç±»å‹ï¼ˆC++ç‰¹ä¾‹ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è§„åˆ™&lt;/strong&gt;ï¼šæ´¾ç”Ÿç±»é‡å†™è™šå‡½æ•°æ—¶ï¼Œè¿”å›å€¼å¯ä»¥æ˜¯åŸºç±»è¿”å›ç±»å‹çš„&lt;strong&gt;æ´¾ç”Ÿç±»æŒ‡é’ˆ/å¼•ç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Base { virtual Base* clone(); };
class Derived : public Base {
Derived* clone() override; // åˆæ³•åå˜
};
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸‰ä½¿ç”¨æ³¨æ„äº‹é¡¹"&gt;âš ï¸ &lt;strong&gt;ä¸‰ã€ä½¿ç”¨æ³¨æ„äº‹é¡¹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½å¼€é”€&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é—´æ¥è°ƒç”¨&lt;/strong&gt;ï¼šè™šå‡½æ•°éœ€æŸ¥è¡¨è·³è½¬ï¼Œæ¯”æ™®é€šå‡½æ•°å¤šä¸€æ¬¡å¯»å€ï¼ˆç°ä»£ CPU å·²ä¼˜åŒ–ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜å¼€é”€&lt;/strong&gt;ï¼šæ¯ä¸ªå¯¹è±¡å¢åŠ ä¸€ä¸ª vptr æŒ‡é’ˆï¼Œæ¯ä¸ªç±»éœ€å­˜å‚¨ vtableã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¯­æ³•é™åˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ„é€ å‡½æ•°ä¸èƒ½ä¸ºè™šå‡½æ•°&lt;/strong&gt;ï¼šå¯¹è±¡æ„é€ æ—¶ vptr æœªåˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é»˜è®¤å‚æ•°é™æ€ç»‘å®š&lt;/strong&gt;ï¼šè™šå‡½æ•°çš„é»˜è®¤å‚æ•°å€¼åœ¨ç¼–è¯‘æ—¶æ ¹æ®&lt;strong&gt;æŒ‡é’ˆç±»å‹&lt;/strong&gt;ç¡®å®šï¼Œè€Œéå®é™…å¯¹è±¡ç±»å‹ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Base { virtual void foo(int x = 10); };
class Derived : public Base { void foo(int x = 20) override; };
Base* obj = new Derived();
obj-&amp;gt;foo(); // å®é™…è°ƒç”¨ Derived::foo(10) è€Œé foo(20)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;C++11 å¢å¼ºå…³é”®å­—&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;override&lt;/code&gt;&lt;/strong&gt;ï¼šæ˜¾å¼æ ‡è®°é‡å†™ï¼Œè‹¥ç­¾åä¸åŒ¹é…åˆ™ç¼–è¯‘æŠ¥é”™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;final&lt;/code&gt;&lt;/strong&gt;ï¼šç¦æ­¢æ´¾ç”Ÿç±»é‡å†™è™šå‡½æ•°æˆ–ç¦æ­¢ç±»è¢«ç»§æ‰¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å››æ€»ç»“"&gt;ğŸ’ &lt;strong&gt;å››ã€æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒä»·å€¼&lt;/strong&gt;ï¼šè™šå‡½æ•°æ˜¯ C++ å®ç°&lt;strong&gt;è¿è¡Œæ—¶å¤šæ€&lt;/strong&gt;çš„åŸºçŸ³ï¼Œé€šè¿‡åŠ¨æ€ç»‘å®šæ”¯æŒ&lt;strong&gt;ç»Ÿä¸€æ¥å£ã€å¤šç§è¡Œä¸º&lt;/strong&gt;çš„è®¾è®¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åŸºç±»ææ„å‡½æ•°&lt;strong&gt;å¿…é¡»å£°æ˜ä¸ºè™šå‡½æ•°&lt;/strong&gt;ï¼ˆè‹¥å¯èƒ½è¢«ç»§æ‰¿ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ¥å£ç±»ä½¿ç”¨&lt;strong&gt;çº¯è™šå‡½æ•°&lt;/strong&gt;å¼ºåˆ¶å®ç°è§„èŒƒã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜å…ˆä½¿ç”¨ &lt;strong&gt;&lt;code&gt;override&lt;/code&gt;å’Œ &lt;code&gt;final&lt;/code&gt;&lt;/strong&gt; å¢å¼ºä»£ç å®‰å…¨æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="c-virtual--java-abstract"&gt;c++ virtual &amp;amp; Java abstract
&lt;/h2&gt;&lt;p&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯C++ &lt;code&gt;virtual&lt;/code&gt;ä¸ Java &lt;code&gt;abstract&lt;/code&gt;çš„å¯¹æ¯”åˆ†æï¼Œæ¶µç›–æ ¸å¿ƒå·®å¼‚ã€å®ç°æœºåˆ¶åŠè®¾è®¡å“²å­¦ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-1-æ ¸å¿ƒæ¦‚å¿µä¸è¯­æ³•"&gt;ğŸ” &lt;strong&gt;1. æ ¸å¿ƒæ¦‚å¿µä¸è¯­æ³•&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;C++ &lt;code&gt;virtual&lt;/code&gt;&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Java &lt;code&gt;abstract&lt;/code&gt;&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å®šä¹‰æ–¹å¼&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ˜¾å¼å£°æ˜ï¼š&lt;code&gt;virtual void func();&lt;/code&gt;ï¼ˆè™šå‡½æ•°ï¼‰æˆ– &lt;code&gt;virtual void func() = 0;&lt;/code&gt;ï¼ˆçº¯è™šå‡½æ•°ï¼‰&lt;/td&gt;
&lt;td&gt;éšå¼/æ˜¾å¼ï¼šæ™®é€šæ–¹æ³•é»˜è®¤æ”¯æŒå¤šæ€ï¼›æŠ½è±¡æ–¹æ³•éœ€ &lt;code&gt;abstract void func();&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é»˜è®¤è¡Œä¸º&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;éè™šå‡½æ•°é™æ€ç»‘å®šï¼ˆæ ¹æ®æŒ‡é’ˆç±»å‹ï¼‰ï¼Œè™šå‡½æ•°åŠ¨æ€ç»‘å®šï¼ˆæ ¹æ®å¯¹è±¡ç±»å‹ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;æ‰€æœ‰æ™®é€šæ–¹æ³•é»˜è®¤åŠ¨æ€ç»‘å®š&lt;/strong&gt;ï¼ˆæ ¹æ®å¯¹è±¡ç±»å‹ï¼‰ï¼Œç±»ä¼¼C++è™šå‡½æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æŠ½è±¡æ–¹æ³•&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;çº¯è™šå‡½æ•°ï¼ˆ&lt;code&gt;=0&lt;/code&gt;ï¼‰å¼ºåˆ¶å­ç±»å®ç°ï¼Œå«çº¯è™šå‡½æ•°çš„ç±»ä¸ºæŠ½è±¡ç±»&lt;/td&gt;
&lt;td&gt;æŠ½è±¡æ–¹æ³•ï¼ˆ&lt;code&gt;abstract&lt;/code&gt;ï¼‰å¼ºåˆ¶å­ç±»å®ç°ï¼Œå«æŠ½è±¡æ–¹æ³•çš„ç±»ä¸ºæŠ½è±¡ç±»&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç±»å®ä¾‹åŒ–&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å«çº¯è™šå‡½æ•°çš„ç±»ä¸å¯å®ä¾‹åŒ–ï¼›æ™®é€šè™šå‡½æ•°ç±»å¯å®ä¾‹åŒ–&lt;/td&gt;
&lt;td&gt;æŠ½è±¡ç±»ä¸å¯å®ä¾‹åŒ–ï¼ˆæ— è®ºæ˜¯å¦å«æŠ½è±¡æ–¹æ³•ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-2-å¤šæ€å®ç°æœºåˆ¶"&gt;âš™ï¸ &lt;strong&gt;2. å¤šæ€å®ç°æœºåˆ¶&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;C++ è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯ä¸ªå«è™šå‡½æ•°çš„ç±»æœ‰ç‹¬ç«‹çš„è™šå‡½æ•°è¡¨ï¼Œå¯¹è±¡é€šè¿‡è™šæŒ‡é’ˆï¼ˆvptrï¼‰è®¿é—®è¯¥è¡¨ï¼Œå®ç°åŠ¨æ€ç»‘å®šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Base {
public:
virtual void show() { cout &amp;lt;&amp;lt; &amp;#34;Base&amp;#34;; } // è™šå‡½æ•°
};
class Derived : public Base {
public:
void show() override { cout &amp;lt;&amp;lt; &amp;#34;Derived&amp;#34;; } // é‡å†™
};
Base* obj = new Derived();
obj-&amp;gt;show(); // è¾“å‡º &amp;#34;Derived&amp;#34;ï¼ˆåŠ¨æ€ç»‘å®šï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Java æ–¹æ³•è¡¨&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JVM ä¸ºæ¯ä¸ªç±»ç»´æŠ¤æ–¹æ³•è¡¨ï¼Œæ‰€æœ‰æ–¹æ³•è°ƒç”¨é»˜è®¤åŠ¨æ€ç»‘å®šï¼ˆç±»ä¼¼C++è™šå‡½æ•°ï¼‰ï¼Œæ— éœ€æ˜¾å¼å£°æ˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¦æ­¢é‡å†™&lt;/strong&gt;ï¼šç”¨ &lt;code&gt;final&lt;/code&gt;ä¿®é¥°æ–¹æ³•ï¼ˆå¦‚ &lt;code&gt;public final void func()&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-3-æŠ½è±¡ç±»ä¸æ¥å£è®¾è®¡"&gt;ğŸ§© &lt;strong&gt;3. æŠ½è±¡ç±»ä¸æ¥å£è®¾è®¡&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;C++&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Java&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æŠ½è±¡ç±»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å«çº¯è™šå‡½æ•°çš„ç±»ç§°ä¸ºæŠ½è±¡ç±»ï¼Œå¯åŒ…å«æ•°æ®æˆå‘˜å’Œéè™šæ–¹æ³•ã€‚&lt;/td&gt;
&lt;td&gt;ç”¨ &lt;code&gt;abstract class&lt;/code&gt;å®šä¹‰ï¼Œå¯å«å­—æ®µã€å…·ä½“æ–¹æ³•å’ŒæŠ½è±¡æ–¹æ³•ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ¥å£&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ— åŸç”Ÿæ¥å£ï¼Œç”¨&lt;strong&gt;çº¯è™šç±»&lt;/strong&gt;ï¼ˆå…¨çº¯è™šå‡½æ•°ï¼‰æ¨¡æ‹Ÿæ¥å£ã€‚&lt;/td&gt;
&lt;td&gt;åŸç”Ÿ &lt;code&gt;interface&lt;/code&gt;ï¼Œæ”¯æŒå¤šç»§æ‰¿ï¼ˆå¦‚ &lt;code&gt;class A implements B, C&lt;/code&gt;ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¤šé‡ç»§æ‰¿&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ”¯æŒç±»å¤šé‡ç»§æ‰¿ï¼ˆå¯èƒ½è±å½¢é—®é¢˜ï¼‰ï¼Œè™šåŸºç±»è§£å†³äºŒä¹‰æ€§ã€‚&lt;/td&gt;
&lt;td&gt;ç±»å•ç»§æ‰¿ï¼Œæ¥å£å¤šç»§æ‰¿è§„é¿å¤æ‚æ€§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-4-å…³é”®æ³¨æ„äº‹é¡¹"&gt;âš ï¸ &lt;strong&gt;4. å…³é”®æ³¨æ„äº‹é¡¹&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ææ„å‡½æ•°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;C++ï¼š&lt;strong&gt;åŸºç±»ææ„å‡½æ•°å¿…é¡»ä¸ºè™šå‡½æ•°&lt;/strong&gt;ï¼Œå¦åˆ™å­ç±»å¯¹è±¡é€šè¿‡åŸºç±»æŒ‡é’ˆåˆ é™¤æ—¶èµ„æºæ³„æ¼ã€‚&lt;/li&gt;
&lt;li&gt;Javaï¼šæ— ææ„å‡½æ•°ï¼Œä¾èµ–åƒåœ¾å›æ”¶ï¼ˆGCï¼‰ï¼›&lt;code&gt;finalize()&lt;/code&gt;æ–¹æ³•å·²å¼ƒç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ„é€ /ææ„ä¸­è°ƒç”¨è™šå‡½æ•°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;C++ï¼šæ„é€ å‡½æ•°å†…è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œå¯¹è±¡æœªå®Œå…¨æ„é€ ï¼ŒåŠ¨æ€ç»‘å®šå¤±æ•ˆï¼ˆé™æ€ç»‘å®šåˆ°å½“å‰ç±»ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Javaï¼šæ„é€ æ–¹æ³•ä¸­è°ƒç”¨è™šå‡½æ•°å¯æ­£å¸¸åŠ¨æ€ç»‘å®šï¼ˆä½†å¯èƒ½è®¿é—®æœªåˆå§‹åŒ–å­—æ®µï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“è®¾è®¡å“²å­¦å·®å¼‚"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šè®¾è®¡å“²å­¦å·®å¼‚&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;C++&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é›¶å¼€é”€æŠ½è±¡&lt;/strong&gt;ï¼šè™šå‡½æ•°è¡¨å¸¦æ¥é¢å¤–å¼€é”€ï¼ˆvptrå†…å­˜+é—´æ¥è°ƒç”¨ï¼‰ï¼Œéè™šå‡½æ•°é«˜æ•ˆé™æ€ç»‘å®šã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ˜¾å¼æ§åˆ¶&lt;/strong&gt;ï¼šå¼€å‘è€…éœ€ä¸»åŠ¨å£°æ˜è™šå‡½æ•°ï¼Œç²¾ç»†ç®¡ç†æ€§èƒ½ä¸å¤šæ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Java&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼€å‘æ•ˆç‡ä¼˜å…ˆ&lt;/strong&gt;ï¼šé»˜è®¤åŠ¨æ€ç»‘å®šç®€åŒ–ä»£ç ï¼Œç‰ºç‰²éƒ¨åˆ†æ€§èƒ½ï¼ˆJVMä¼˜åŒ–å¯ç¼“è§£ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¥å£é©±åŠ¨&lt;/strong&gt;ï¼šé€šè¿‡æ¥å£å®ç°å¤šæ€ä¸è§£è€¦ï¼Œå¼¥è¡¥å•ç»§æ‰¿é™åˆ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;âœ… &lt;strong&gt;é€‰æ‹©å»ºè®®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€é«˜æ€§èƒ½ã€ç²¾ç»†æ§åˆ¶å†…å­˜/è°ƒç”¨ â†’ &lt;strong&gt;C++è™šå‡½æ•°&lt;/strong&gt;ï¼ˆæ˜¾å¼å£°æ˜ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¿«é€Ÿå¼€å‘ã€é«˜å¯æ‰©å±•æ€§ â†’ &lt;strong&gt;JavaæŠ½è±¡ç±»/æ¥å£&lt;/strong&gt;ï¼ˆé»˜è®¤åŠ¨æ€ç»‘å®š + æ¥å£å¤šç»§æ‰¿ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id="volitile"&gt;volitile
&lt;/h2&gt;&lt;p&gt;C++ å’Œ Java ä¸­çš„ &lt;code&gt;volatile&lt;/code&gt;å…³é”®å­—è™½ç„¶åç§°ç›¸åŒï¼Œä½†å…¶è®¾è®¡ç›®æ ‡ã€è¯­ä¹‰ä¿éšœå’Œåº”ç”¨åœºæ™¯å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚ä»¥ä¸‹æ˜¯äºŒè€…çš„æ ¸å¿ƒå¼‚åŒç‚¹æ€»ç»“åŠè¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒå·®å¼‚å¯¹æ¯”è¡¨"&gt;ğŸ“Š &lt;strong&gt;æ ¸å¿ƒå·®å¼‚å¯¹æ¯”è¡¨&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;C++ &lt;code&gt;volatile&lt;/code&gt;&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Java &lt;code&gt;volatile&lt;/code&gt;&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ ¸å¿ƒç›®çš„&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç¦æ­¢ç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œç¡®ä¿å†…å­˜è®¿é—®ç›´æ¥æ€§&lt;/td&gt;
&lt;td&gt;æä¾›è½»é‡çº§çº¿ç¨‹åŒæ­¥ï¼Œè§£å†³å¯è§æ€§ä¸æœ‰åºæ€§é—®é¢˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¯è§æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä»…å¼ºåˆ¶ä»å†…å­˜è¯»å–æœ€æ–°å€¼ï¼ˆæ— å¤šçº¿ç¨‹åŒæ­¥ä¿è¯ï¼‰&lt;/td&gt;
&lt;td&gt;âœ… å¼ºåˆ¶åˆ·æ–°ä¸»å†…å­˜ï¼Œå…¶ä»–çº¿ç¨‹ç«‹å³å¯è§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æœ‰åºæ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ ä¸ç¦æ­¢æŒ‡ä»¤é‡æ’&lt;/td&gt;
&lt;td&gt;âœ… é€šè¿‡å†…å­˜å±éšœç¦æ­¢æŒ‡ä»¤é‡æ’åº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ ä¸ä¿è¯ï¼ˆå¤åˆæ“ä½œéåŸå­ï¼‰&lt;/td&gt;
&lt;td&gt;âŒ å•æ¬¡è¯»å†™åŸå­ï¼Œå¤åˆæ“ä½œï¼ˆå¦‚ &lt;code&gt;i++&lt;/code&gt;ï¼‰éåŸå­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç¡¬ä»¶å¯„å­˜å™¨ã€ä¸­æ–­å¤„ç†ã€åµŒå…¥å¼ç³»ç»Ÿ&lt;/td&gt;
&lt;td&gt;å¤šçº¿ç¨‹çŠ¶æ€æ ‡å¿—ã€åŒé‡æ£€æŸ¥é”ç­‰åŒæ­¥åœºæ™¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å†…å­˜å±éšœ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ éœ€æ‰‹åŠ¨æ’å…¥ï¼ˆå¦‚ &lt;code&gt;asm volatile&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;td&gt;âœ… è‡ªåŠ¨æ’å…¥ï¼ˆLoadLoad/LoadStore/StoreStore/StoreLoadï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¤šçº¿ç¨‹åŒæ­¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ æ— æ³•æ›¿ä»£é”æˆ–åŸå­æ“ä½œ&lt;/td&gt;
&lt;td&gt;âœ… å¯å»ºç«‹ happens-before å…³ç³»ï¼Œå®ç°éƒ¨åˆ†åŒæ­¥&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸€æ ¸å¿ƒè¯­ä¹‰å·®å¼‚"&gt;ğŸ§  &lt;strong&gt;ä¸€ã€æ ¸å¿ƒè¯­ä¹‰å·®å¼‚&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;C++ &lt;code&gt;volatile&lt;/code&gt;&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æœ¬è´¨&lt;/strong&gt;ï¼šä»…ä½œä¸ºç¼–è¯‘å™¨ä¼˜åŒ–ç¦ä»¤ï¼Œç¡®ä¿æ¯æ¬¡è®¿é—®å˜é‡æ—¶éƒ½ä»å†…å­˜åœ°å€è¯»å–æœ€æ–°å€¼ï¼Œè€Œéä½¿ç”¨å¯„å­˜å™¨ç¼“å­˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å±€é™æ€§&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ä¸çº¦æŸ CPU æŒ‡ä»¤é‡æ’æˆ–ç¼“å­˜ä¸€è‡´æ€§ï¼Œ&lt;strong&gt;æ— æ³•è§£å†³å¤šçº¿ç¨‹å¯è§æ€§åŠæœ‰åºæ€§é—®é¢˜&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚ï¼šå¤šçº¿ç¨‹å…±äº«å˜é‡æ—¶ï¼Œå³ä½¿ä½¿ç”¨ &lt;code&gt;volatile&lt;/code&gt;ï¼Œçº¿ç¨‹ A çš„ä¿®æ”¹ä»å¯èƒ½å›  CPU ç¼“å­˜æœªåŒæ­¥è€Œå¯¹çº¿ç¨‹ B ä¸å¯è§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Java &lt;code&gt;volatile&lt;/code&gt;&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æœ¬è´¨&lt;/strong&gt;ï¼šæ˜¯ Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰å®šä¹‰çš„åŒæ­¥æœºåˆ¶ï¼Œæä¾›ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯è§æ€§&lt;/strong&gt;ï¼šå†™æ“ä½œç«‹å³åˆ·æ–°åˆ°ä¸»å†…å­˜ï¼Œè¯»æ“ä½œå¼ºåˆ¶ä»ä¸»å†…å­˜åŠ è½½æœ€æ–°å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ‰åºæ€§&lt;/strong&gt;ï¼šé€šè¿‡å†…å­˜å±éšœç¦æ­¢æŒ‡ä»¤é‡æ’åºï¼Œç¡®ä¿æ“ä½œé¡ºåºç¬¦åˆç¨‹åºé€»è¾‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¢å¤–ä¿éšœ&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å»ºç«‹ &lt;strong&gt;happens-before å…³ç³»&lt;/strong&gt;ï¼ˆå¦‚å†™æ“ä½œå…ˆäºåç»­è¯»æ“ä½œï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-äºŒå®ç°æœºåˆ¶å¯¹æ¯”"&gt;âš™ï¸ &lt;strong&gt;äºŒã€å®ç°æœºåˆ¶å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;C++&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘å™¨ç”Ÿæˆç›´æ¥å†…å­˜è®¿é—®æŒ‡ä»¤ï¼ˆå¦‚ &lt;code&gt;mov&lt;/code&gt;è€Œéå¯„å­˜å™¨ç¼“å­˜ï¼‰ï¼Œ&lt;strong&gt;æ— è‡ªåŠ¨å†…å­˜å±éšœ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;éœ€æ‰‹åŠ¨æ’å…¥å±éšœï¼ˆå¦‚ &lt;code&gt;asm volatile(&amp;quot;&amp;quot; ::: &amp;quot;memory&amp;quot;)&lt;/code&gt;ï¼‰æˆ–ä¾èµ–å¹³å°ç‰¹å®šæŒ‡ä»¤ï¼ˆå¦‚ &lt;code&gt;_mm_sfence&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;JVM è‡ªåŠ¨æ’å…¥å†…å­˜å±éšœï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æ“ä½œ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å±éšœç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;volatile å†™&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;StoreStore + StoreLoad&lt;/td&gt;
&lt;td&gt;ç¡®ä¿å†™å‰æ“ä½œå®Œæˆï¼Œå†™åæ“ä½œä¸é‡æ’è‡³å†™å‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;volatile è¯»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;LoadLoad + LoadStore&lt;/td&gt;
&lt;td&gt;ç¡®ä¿è¯»åæ“ä½œä¸é‡æ’è‡³è¯»å‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åº•å±‚ä¾èµ– CPU ç¼“å­˜ä¸€è‡´æ€§åè®®ï¼ˆå¦‚ MESIï¼‰ï¼Œé€šè¿‡ &lt;code&gt;lock&lt;/code&gt;æŒ‡ä»¤å¼ºåˆ¶ç¼“å­˜å¤±æ•ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸‰å…¸å‹åº”ç”¨åœºæ™¯"&gt;ğŸ› ï¸ &lt;strong&gt;ä¸‰ã€å…¸å‹åº”ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;C++ é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¡¬ä»¶å¯„å­˜å™¨è®¿é—®&lt;/strong&gt;ï¼šç¡®ä¿è¯»å–å®æ—¶å˜åŒ–çš„ç¡¬ä»¶çŠ¶æ€ã€‚&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;volatile uint32_t* reg = (volatile uint32_t*)0x40000000;
while (*reg &amp;amp; 0x01) { /* ç­‰å¾…ç¡¬ä»¶ä¿¡å· */ } // å¿…é¡»ç”¨ volatile
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸­æ–­å¤„ç†&lt;/strong&gt;ï¼šå…±äº«å˜é‡åœ¨ ISRï¼ˆä¸­æ–­æœåŠ¡ç¨‹åºï¼‰ä¸ä¸»ç¨‹åºé—´åŒæ­¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¦ç”¨ç¼–è¯‘å™¨ä¼˜åŒ–&lt;/strong&gt;ï¼šå¦‚ç©ºå¾ªç¯å»¶è¿Ÿï¼ˆé¿å…è¢«åˆ é™¤ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Java é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;çŠ¶æ€æ ‡å¿—ä½&lt;/strong&gt;ï¼šè½»é‡çº§æ§åˆ¶çº¿ç¨‹å¯åœã€‚&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;private volatile boolean running = true;
public void stop() { running = false; } // ç«‹å³å¯è§
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŒé‡æ£€æŸ¥é”ï¼ˆDCLï¼‰&lt;/strong&gt;ï¼šé˜²æ­¢æŒ‡ä»¤é‡æ’å¯¼è‡´æœªåˆå§‹åŒ–å¯¹è±¡è¢«è¯»å–ã€‚&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;private volatile static Singleton instance;
public static Singleton getInstance() {
if (instance == null) {
synchronized (Singleton.class) {
if (instance == null) {
instance = new Singleton(); // volatile ç¦æ­¢é‡æ’åº
}
}
}
return instance;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å››å¸¸è§è¯¯åŒºä¸æ›¿ä»£æ–¹æ¡ˆ"&gt;âš ï¸ &lt;strong&gt;å››ã€å¸¸è§è¯¯åŒºä¸æ›¿ä»£æ–¹æ¡ˆ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;C++ å¤šçº¿ç¨‹åŒæ­¥è¯¯åŒº&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;volatile&lt;/code&gt;&lt;strong&gt;ä¸èƒ½æ›¿ä»£é”æˆ–åŸå­æ“ä½œ&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å¦‚ &lt;code&gt;volatile int counter++&lt;/code&gt;ä»å­˜åœ¨ç«æ€æ¡ä»¶ï¼Œéœ€ç”¨ &lt;code&gt;std::atomic&amp;lt;int&amp;gt;&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ›¿ä»£æ–¹æ¡ˆ&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;C++11 å¼•å…¥çš„ &lt;code&gt;std::atomic&lt;/code&gt;æä¾›åŸå­æ€§ä¸å†…å­˜åºæ§åˆ¶ï¼ˆå¦‚ &lt;code&gt;memory_order_relaxed&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Java åŸå­æ€§å±€é™&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;volatile&lt;/code&gt;æ— æ³•ä¿è¯å¤åˆæ“ä½œï¼ˆå¦‚ &lt;code&gt;i++&lt;/code&gt;ï¼‰åŸå­æ€§ï¼Œéœ€ç»“åˆï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;synchronized&lt;/code&gt;å—&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AtomicInteger&lt;/code&gt;ç­‰åŸå­ç±»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-2"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;C++ &lt;code&gt;volatile&lt;/code&gt;&lt;/strong&gt;ï¼šä¸“æ³¨ç¡¬ä»¶äº¤äº’ä¸ç¼–è¯‘å™¨ä¼˜åŒ–æ§åˆ¶ï¼Œ&lt;strong&gt;éçº¿ç¨‹åŒæ­¥å·¥å…·&lt;/strong&gt;ã€‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­éœ€æ­é… &lt;code&gt;std::atomic&lt;/code&gt;æˆ–é”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Java &lt;code&gt;volatile&lt;/code&gt;&lt;/strong&gt;ï¼šä¸“ä¸ºå¤šçº¿ç¨‹è®¾è®¡ï¼Œè§£å†³å¯è§æ€§ä¸æœ‰åºæ€§ï¼Œæ˜¯è½»é‡çº§åŒæ­¥æ–¹æ¡ˆï¼ˆä½†éä¸‡èƒ½ï¼‰ã€‚é€‚åˆçŠ¶æ€æ ‡å¿—ç­‰ç®€å•åŒæ­¥ï¼Œå¤æ‚æ“ä½œä»éœ€é”æˆ–åŸå­ç±»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;é€‰å‹å»ºè®®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åµŒå…¥å¼/ç¡¬ä»¶å¼€å‘ â†’ &lt;strong&gt;C++ &lt;code&gt;volatile&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Java å¤šçº¿ç¨‹çŠ¶æ€åŒæ­¥ â†’ &lt;strong&gt;Java &lt;code&gt;volatile&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¤åˆæ“ä½œåŸå­æ€§ â†’ &lt;strong&gt;&lt;code&gt;synchronized&lt;/code&gt;/&lt;code&gt;Atomic&lt;/code&gt;ç±»&lt;/strong&gt;ï¼ˆJavaï¼‰æˆ– &lt;strong&gt;&lt;code&gt;std::atomic&lt;/code&gt;&lt;/strong&gt;ï¼ˆC++ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id="explicit"&gt;explicit
&lt;/h2&gt;&lt;p&gt;åœ¨C++ä¸­ï¼Œ&lt;code&gt;explicit&lt;/code&gt;å…³é”®å­—çš„æ ¸å¿ƒä½œç”¨æ˜¯&lt;strong&gt;ç¦æ­¢ç¼–è¯‘å™¨è¿›è¡Œéšå¼ç±»å‹è½¬æ¢&lt;/strong&gt;ï¼Œå¼ºåˆ¶è¦æ±‚ç±»å‹è½¬æ¢å¿…é¡»é€šè¿‡æ˜¾å¼æ–¹å¼å®Œæˆã€‚è¿™ä¸€ç‰¹æ€§ä¸»è¦ç”¨äºæ„é€ å‡½æ•°å’Œè½¬æ¢è¿ç®—ç¬¦ï¼ˆC++11èµ·ï¼‰ï¼Œä»¥æé«˜ä»£ç çš„å®‰å…¨æ€§å’Œå¯è¯»æ€§ã€‚ä»¥ä¸‹æ˜¯å…¶å…·ä½“ç”¨é€”å’Œç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸€ç¦æ­¢æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢"&gt;ğŸ”§ &lt;strong&gt;ä¸€ã€ç¦æ­¢æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="é—®é¢˜èƒŒæ™¯"&gt;&lt;strong&gt;é—®é¢˜èƒŒæ™¯&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;å•å‚æ•°æ„é€ å‡½æ•°ï¼ˆæˆ–æ‰€æœ‰å‚æ•°æœ‰é»˜è®¤å€¼çš„å¤šå‚æ„é€ å‡½æ•°ï¼‰é»˜è®¤æ”¯æŒéšå¼è½¬æ¢ï¼Œå¯èƒ½å¯¼è‡´æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Widget {
public:
Widget(int size) { /* æ„é€ å®ç° */ } // éšå¼è½¬æ¢æ„é€ å‡½æ•°
};
void doSomething(Widget w) {}
int main() {
doSomething(10); // åˆæ³•ï¼ç¼–è¯‘å™¨éšå¼å°†intè½¬æ¢ä¸ºWidgetå¯¹è±¡
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ­¤å¤„&lt;code&gt;doSomething(10)&lt;/code&gt;è§¦å‘äº†&lt;code&gt;Widget(int)&lt;/code&gt;çš„éšå¼è°ƒç”¨ï¼Œå¯èƒ½å¼•å‘é€»è¾‘é”™è¯¯ï¼ˆä¾‹å¦‚å‚æ•°ç±»å‹ä¸åŒ¹é…ä½†æœªæŠ¥é”™ï¼‰ã€‚&lt;/p&gt;
&lt;h4 id="è§£å†³æ–¹æ¡ˆ"&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;code&gt;explicit&lt;/code&gt;æ„é€ å‡½æ•°&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;class Widget {
public:
explicit Widget(int size) { /* æ„é€ å®ç° */ } // é˜»æ­¢éšå¼è½¬æ¢
};
void doSomething(Widget w) {}
int main() {
// doSomething(10); // é”™è¯¯ï¼šç¦æ­¢éšå¼è½¬æ¢
doSomething(Widget(10)); // æ­£ç¡®ï¼šæ˜¾å¼æ„é€ 
doSomething(static_cast&amp;lt;Widget&amp;gt;(10)); // æ­£ç¡®ï¼šæ˜¾å¼ç±»å‹è½¬æ¢
}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•ˆæœ&lt;/strong&gt;ï¼šå¼ºåˆ¶å¼€å‘è€…é€šè¿‡ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°æˆ–ç±»å‹è½¬æ¢æ¥åˆ›å»ºå¯¹è±¡ï¼Œé¿å…éšå¼è½¬æ¢çš„æ­§ä¹‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-äºŒç¦æ­¢è½¬æ¢è¿ç®—ç¬¦çš„éšå¼è½¬æ¢c11èµ·"&gt;âš™ï¸ &lt;strong&gt;äºŒã€ç¦æ­¢è½¬æ¢è¿ç®—ç¬¦çš„éšå¼è½¬æ¢ï¼ˆC++11èµ·ï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="é—®é¢˜èƒŒæ™¯-1"&gt;&lt;strong&gt;é—®é¢˜èƒŒæ™¯&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;ç±»å®šä¹‰çš„ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼ˆå¦‚&lt;code&gt;operator bool()&lt;/code&gt;ï¼‰é»˜è®¤å…è®¸éšå¼è½¬æ¢ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Boolean {
public:
operator bool() const { return true; } // éšå¼è½¬æ¢ä¸ºbool
};
Boolean b;
if (b) { ... } // åˆæ³•
bool x = b; // åˆæ³•ï¼šéšå¼è½¬æ¢ï¼ˆå¯èƒ½éé¢„æœŸï¼‰
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="è§£å†³æ–¹æ¡ˆ-1"&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;code&gt;explicit&lt;/code&gt;è½¬æ¢è¿ç®—ç¬¦&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;class Boolean {
public:
explicit operator bool() const { return true; } // æ˜¾å¼è½¬æ¢
};
Boolean b;
if (b) { ... } // åˆæ³•ï¼šæ¡ä»¶è¯­å¥ä¸­å…è®¸æ˜¾å¼è½¬æ¢
// bool x = b; // é”™è¯¯ï¼šç¦æ­¢éšå¼è½¬æ¢
bool y = static_cast&amp;lt;bool&amp;gt;(b); // æ­£ç¡®ï¼šæ˜¾å¼è½¬æ¢
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•ˆæœ&lt;/strong&gt;ï¼šä»…åœ¨æ˜¾å¼è°ƒç”¨ï¼ˆå¦‚&lt;code&gt;if(b)&lt;/code&gt;æˆ–&lt;code&gt;static_cast&lt;/code&gt;ï¼‰æ—¶è§¦å‘è½¬æ¢ï¼Œé¿å…æ— æ„è¯†ç±»å‹è½¬æ¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸‰é€‚ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ"&gt;ğŸ§© &lt;strong&gt;ä¸‰ã€é€‚ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¿…é¡»ä½¿ç”¨&lt;code&gt;explicit&lt;/code&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;èµ„æºç®¡ç†ç±»&lt;/strong&gt;ï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆã€è‡ªå®šä¹‰å­—ç¬¦ä¸²ï¼‰ï¼šé˜²æ­¢è¯¯ç”¨æ„é€ å‡½æ•°å¯¼è‡´èµ„æºæ³„æ¼ã€‚&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;std::shared_ptr&amp;lt;int&amp;gt; p = new int; // é”™è¯¯ï¼šexplicitç¦æ­¢éšå¼è½¬æ¢
std::shared_ptr&amp;lt;int&amp;gt; p(new int); // æ­£ç¡®ï¼šæ˜¾å¼æ„é€ 
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®¹å™¨ç±»&lt;/strong&gt;ï¼ˆå¦‚&lt;code&gt;std::vector&lt;/code&gt;ï¼‰ï¼šé¿å…&lt;code&gt;vector&amp;lt;int&amp;gt; v = 5;&lt;/code&gt;è¢«è¯¯è§£ä¸ºåˆ›å»ºå«5ä¸ªå…ƒç´ çš„å®¹å™¨ï¼ˆå®é™…æ„å›¾å¯èƒ½æ˜¯åˆ›å»ºå«å•ä¸ªå…ƒç´ 5çš„å®¹å™¨ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¨èä½¿ç”¨&lt;code&gt;explicit&lt;/code&gt;çš„åœºæ™¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ‰€æœ‰å•å‚æ•°æ„é€ å‡½æ•°&lt;/strong&gt;ï¼ˆå«é»˜è®¤å‚æ•°çš„å¤šå‚æ„é€ ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç±»å‹è½¬æ¢æ„é€ å‡½æ•°&lt;/strong&gt;ï¼ˆå¦‚è‡ªå®šä¹‰æ•°å€¼ç±»å‹åŒ…è£…ç±»ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ— éœ€ä½¿ç”¨çš„æƒ…å†µ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šå‚æ•°æ„é€ å‡½æ•°ï¼ˆæ— é»˜è®¤å‚æ•°ï¼‰æ— æ³•éšå¼è½¬æ¢ï¼Œæ— éœ€æ ‡è®°ã€‚&lt;/li&gt;
&lt;li&gt;å¤åˆ¶/ç§»åŠ¨æ„é€ å‡½æ•°ä¸å—&lt;code&gt;explicit&lt;/code&gt;å½±å“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å››"&gt;âš¡ï¸ &lt;strong&gt;å››ã€&lt;code&gt;explicit&lt;/code&gt;ä¸ä»£ç å®‰å…¨æ€§&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é¿å…éšå¼è½¬æ¢çš„é™·é˜±&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå‡½æ•°&lt;code&gt;void log(const std::string&amp;amp; s);&lt;/code&gt;è‹¥æ¥å—éšå¼è½¬æ¢ï¼Œ&lt;code&gt;log(&amp;quot;hello&amp;quot;)&lt;/code&gt;å¯èƒ½å› &lt;code&gt;const char*&lt;/code&gt;åˆ°&lt;code&gt;std::string&lt;/code&gt;çš„éšå¼è½¬æ¢å¯¼è‡´æ€§èƒ½æŸè€—æˆ–æ­§ä¹‰ï¼ˆå°½ç®¡C++17åå…è®¸ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¢å¼ºå¯è¯»æ€§&lt;/strong&gt;ï¼šæ˜¾å¼è½¬æ¢æ˜ç¡®è¡¨è¾¾äº†å¼€å‘è€…çš„æ„å›¾ï¼Œå‡å°‘ä»£ç ç»´æŠ¤æˆæœ¬ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-3"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒä»·å€¼&lt;/strong&gt;ï¼š&lt;code&gt;explicit&lt;/code&gt;é€šè¿‡å¼ºåˆ¶æ˜¾å¼ç±»å‹è½¬æ¢ï¼Œæ¶ˆé™¤éšå¼è½¬æ¢çš„ä¸å¯æ§é£é™©ï¼Œæå‡ä»£ç å¥å£®æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨åŸåˆ™&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;âœ… &lt;strong&gt;å¯¹å•å‚æ•°æ„é€ å‡½æ•°å’Œè½¬æ¢è¿ç®—ç¬¦ä¼˜å…ˆæ·»åŠ &lt;code&gt;explicit&lt;/code&gt;&lt;/strong&gt;ï¼ˆé™¤éæœ‰å……åˆ†ç†ç”±å…è®¸éšå¼è½¬æ¢ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;âœ… &lt;strong&gt;èµ„æºç±»ã€å®¹å™¨ç±»ã€æ¥å£å°è£…ç±»å¿…é¡»ä½¿ç”¨&lt;code&gt;explicit&lt;/code&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆç†è¿ç”¨&lt;code&gt;explicit&lt;/code&gt;æ˜¯C++é«˜è´¨é‡ä»£ç çš„é‡è¦æ ‡å¿—ï¼Œèƒ½æ˜¾è‘—å‡å°‘å› ç±»å‹è‡ªåŠ¨è½¬æ¢å¼•å‘çš„æ½œåœ¨Bugã€‚&lt;/p&gt;
&lt;h2 id="é‡è½½"&gt;é‡è½½[]
&lt;/h2&gt;&lt;p&gt;åœ¨ C++ ä¸­ï¼Œé‡è½½ä¸‹æ ‡è¿ç®—ç¬¦ &lt;code&gt;[]&lt;/code&gt;å…è®¸è‡ªå®šä¹‰ç±»å®ç°ç±»ä¼¼æ•°ç»„çš„è®¿é—®è¡Œä¸ºï¼Œéœ€éµå¾ªç‰¹å®šè¯­æ³•è§„åˆ™å¹¶æä¾›å¼‚å¸¸å®‰å…¨æœºåˆ¶ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†å®ç°æŒ‡å—å’Œæœ€ä½³å®è·µï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸€æ ¸å¿ƒè¯­æ³•ä¸å®ç°æ–¹å¼"&gt;ğŸ”§ &lt;strong&gt;ä¸€ã€æ ¸å¿ƒè¯­æ³•ä¸å®ç°æ–¹å¼&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;ä¸‹æ ‡è¿ç®—ç¬¦ &lt;code&gt;[]&lt;/code&gt;&lt;strong&gt;å¿…é¡»ä½œä¸ºç±»çš„æˆå‘˜å‡½æ•°é‡è½½&lt;/strong&gt;ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class MyArray {
public:
// é const ç‰ˆæœ¬ï¼ˆæ”¯æŒè¯»å†™ï¼‰
T&amp;amp; operator[](int index) {
// è¿”å›å…ƒç´ çš„å¼•ç”¨
}
// const ç‰ˆæœ¬ï¼ˆåªè¯»ï¼‰
const T&amp;amp; operator[](int index) const {
// è¿”å›å¸¸é‡å¼•ç”¨
}
};
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿”å›ç±»å‹&lt;/strong&gt;ï¼šé€šå¸¸ä¸º &lt;code&gt;T&amp;amp;&lt;/code&gt;ï¼ˆå¼•ç”¨ï¼‰ï¼Œæ”¯æŒèµ‹å€¼æ“ä½œï¼ˆå¦‚ &lt;code&gt;obj[i] = 10;&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‚æ•°&lt;/strong&gt;ï¼šä¸€ä¸ªæ•´æ•°ç±»å‹ç´¢å¼•ï¼ˆå¦‚ &lt;code&gt;int&lt;/code&gt;ã€&lt;code&gt;size_t&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Const é‡è½½&lt;/strong&gt;ï¼šå¿…é¡»æä¾› const ç‰ˆæœ¬ï¼Œä»¥æ”¯æŒå¸¸é‡å¯¹è±¡çš„è®¿é—®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-äºŒå®Œæ•´å®ç°æ­¥éª¤ä»¥åŠ¨æ€æ•°ç»„ç±»ä¸ºä¾‹"&gt;âš™ï¸ &lt;strong&gt;äºŒã€å®Œæ•´å®ç°æ­¥éª¤ï¼ˆä»¥åŠ¨æ€æ•°ç»„ç±»ä¸ºä¾‹ï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="1-ç±»å®šä¹‰ä¸æˆå‘˜å˜é‡"&gt;1. &lt;strong&gt;ç±»å®šä¹‰ä¸æˆå‘˜å˜é‡&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;stdexcept&amp;gt; // ç”¨äºå¼‚å¸¸å¤„ç†
template &amp;lt;typename T&amp;gt;
class Array {
private:
T* data; // æŒ‡å‘å †å†…å­˜çš„æŒ‡é’ˆ
size_t size; // æ•°ç»„é•¿åº¦
public:
Array(size_t n) : size(n), data(new T[n]) {}
~Array() { delete[] data; }
// é‡è½½ä¸‹æ ‡è¿ç®—ç¬¦ï¼ˆé const ç‰ˆæœ¬ï¼‰
T&amp;amp; operator[](size_t index) {
if (index &amp;gt;= size)
throw std::out_of_range(&amp;#34;Index out of range&amp;#34;);
return data[index];
}
// é‡è½½ä¸‹æ ‡è¿ç®—ç¬¦ï¼ˆconst ç‰ˆæœ¬ï¼‰
const T&amp;amp; operator[](size_t index) const {
if (index &amp;gt;= size)
throw std::out_of_range(&amp;#34;Index out of range&amp;#34;);
return data[index];
}
size_t length() const { return size; }
};
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="2-ä½¿ç”¨ç¤ºä¾‹"&gt;2. &lt;strong&gt;ä½¿ç”¨ç¤ºä¾‹&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;int main() {
Array&amp;lt;int&amp;gt; arr(3);
arr[0] = 10; // å†™æ“ä½œï¼ˆè°ƒç”¨é const ç‰ˆæœ¬ï¼‰
std::cout &amp;lt;&amp;lt; arr[0]; // è¯»æ“ä½œï¼ˆè°ƒç”¨é const ç‰ˆæœ¬ï¼‰
const Array&amp;lt;int&amp;gt;&amp;amp; constArr = arr;
std::cout &amp;lt;&amp;lt; constArr[0]; // åªè¯»ï¼ˆè°ƒç”¨ const ç‰ˆæœ¬ï¼‰
}
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id="-ä¸‰å…³é”®æ³¨æ„äº‹é¡¹"&gt;âš ï¸ &lt;strong&gt;ä¸‰ã€å…³é”®æ³¨æ„äº‹é¡¹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼‚å¸¸å¤„ç†&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿…é¡»æ£€æŸ¥ç´¢å¼•è¶Šç•Œï¼Œé¿å…å†…å­˜éæ³•è®¿é—®ï¼ˆå¦‚ä½¿ç”¨ &lt;code&gt;throw std::out_of_range&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç¤ºä¾‹ä¸­çš„ &lt;code&gt;if (index &amp;gt;= size)&lt;/code&gt;æ˜¯å¿…è¦çš„å®‰å…¨æªæ–½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ·±æ‹·è´é—®é¢˜&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è‹¥ç±»æ¶‰åŠåŠ¨æ€å†…å­˜ï¼Œéœ€æ‰‹åŠ¨å®ç°æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼ˆé¿å…æµ…æ‹·è´å¯¼è‡´é‡å¤é‡Šæ”¾ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;// æ‹·è´æ„é€ å‡½æ•°ï¼ˆæ·±æ‹·è´ï¼‰
Array(const Array&amp;amp; other) : size(other.size), data(new T[other.size]) {
std::copy(other.data, other.data + size, data);
}
// èµ‹å€¼è¿ç®—ç¬¦
Array&amp;amp; operator=(const Array&amp;amp; other) {
if (this != &amp;amp;other) {
delete[] data;
size = other.size;
data = new T[size];
std::copy(other.data, other.data + size, data);
}
return *this;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¿”å›å¼•ç”¨çš„å¿…è¦æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿”å›å¼•ç”¨ï¼ˆè€Œéå€¼ï¼‰ç¡®ä¿æ“ä½œå¯ä¿®æ”¹å…ƒç´ ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;arr[0] = 42; // åˆæ³•ï¼Œå› ä¸ºè¿”å› T&amp;amp;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Const æ­£ç¡®æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;const å¯¹è±¡åªèƒ½è°ƒç”¨ const æˆå‘˜å‡½æ•°ï¼Œå› æ­¤å¿…é¡»æä¾› const ç‰ˆæœ¬çš„ &lt;code&gt;operator[]&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å››é«˜çº§åº”ç”¨åœºæ™¯"&gt;ğŸ’¡ &lt;strong&gt;å››ã€é«˜çº§åº”ç”¨åœºæ™¯&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="1-å¤šç»´æ•°ç»„æ”¯æŒ"&gt;1. &lt;strong&gt;å¤šç»´æ•°ç»„æ”¯æŒ&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;class Matrix {
private:
Array&amp;lt;Array&amp;lt;int&amp;gt;&amp;gt; rows;
public:
Matrix(size_t r, size_t c) : rows(r, Array&amp;lt;int&amp;gt;(c)) {}
// é‡è½½ä¸¤å±‚ []
Array&amp;lt;int&amp;gt;&amp;amp; operator[](size_t row) {
return rows[row];
}
};
// ä½¿ç”¨
Matrix mat(3, 3);
mat[1][2] = 99; // è®¿é—®ç¬¬äºŒè¡Œç¬¬ä¸‰åˆ—
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="2-å…³è”å®¹å™¨å¦‚æ¨¡æ‹Ÿ-map"&gt;2. &lt;strong&gt;å…³è”å®¹å™¨ï¼ˆå¦‚æ¨¡æ‹Ÿ mapï¼‰&lt;/strong&gt;
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;class StringMap {
private:
std::unordered_map&amp;lt;std::string, int&amp;gt; map;
public:
int&amp;amp; operator[](const std::string&amp;amp; key) {
return map[key];
}
};
// ä½¿ç”¨
StringMap dict;
dict[&amp;#34;apple&amp;#34;] = 100;
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id="-äº”å¸¸è§é”™è¯¯ä¸è§„é¿"&gt;ğŸ› ï¸ &lt;strong&gt;äº”ã€å¸¸è§é”™è¯¯ä¸è§„é¿&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æœªå®ç°æ·±æ‹·è´&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é”™è¯¯ï¼šé»˜è®¤æ‹·è´æ„é€ å‡½æ•°æµ…æ‹·è´æŒ‡é’ˆï¼Œå¯¼è‡´é‡å¤é‡Šæ”¾ã€‚&lt;/li&gt;
&lt;li&gt;è§£å†³ï¼šæ˜¾å¼å®ç°æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¿½ç•¥ const ç‰ˆæœ¬&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é”™è¯¯ï¼š&lt;code&gt;const Array a; a[0]&lt;/code&gt;ç¼–è¯‘å¤±è´¥ã€‚&lt;/li&gt;
&lt;li&gt;è§£å†³ï¼šæ·»åŠ  &lt;code&gt;const T&amp;amp; operator[] const&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿”å›ä¸´æ—¶å¯¹è±¡&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é”™è¯¯ï¼š&lt;code&gt;T operator[]&lt;/code&gt;è¿”å›å‰¯æœ¬ï¼Œæ— æ³•èµ‹å€¼ã€‚&lt;/li&gt;
&lt;li&gt;è§£å†³ï¼šè¿”å›å¼•ç”¨ &lt;code&gt;T&amp;amp;&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-4"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒè¯­æ³•&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;T&amp;amp; operator[](int index); // è¯»å†™ç‰ˆæœ¬
const T&amp;amp; operator[](int index) const; // åªè¯»ç‰ˆæœ¬
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼ºåˆ¶è¦æ±‚&lt;/strong&gt;ï¼šæˆå‘˜å‡½æ•°ã€ç´¢å¼•è¶Šç•Œæ£€æŸ¥ã€æ·±æ‹·è´æ”¯æŒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜å…ˆä½¿ç”¨ &lt;code&gt;size_t&lt;/code&gt;é¿å…è´Ÿç´¢å¼•ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºå®¹å™¨ç±»åŒæ—¶æä¾› const å’Œé const ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;æ¶‰åŠåŠ¨æ€å†…å­˜æ—¶å®ç°æ‹·è´æ§åˆ¶ï¼ˆæ‹·è´æ„é€ ã€èµ‹å€¼ã€ææ„ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡åˆç†é‡è½½ &lt;code&gt;[]&lt;/code&gt;ï¼Œå¯è®©è‡ªå®šä¹‰ç±»å‹æ‹¥æœ‰ä¸å†…ç½®æ•°ç»„ä¸€è‡´çš„è®¿é—®è¯­ä¹‰ï¼Œæå‡ä»£ç å¯è¯»æ€§å’Œå®‰å…¨æ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="å¤šç»´è®¿é—®"&gt;å¤šç»´è®¿é—®
&lt;/h2&gt;&lt;p&gt;åœ¨ C++ ä¸­ï¼Œ&lt;strong&gt;æ— æ³•ç›´æ¥é‡è½½ &lt;code&gt;[][]&lt;/code&gt;ä½œä¸ºå•ä¸ªè¿ç®—ç¬¦&lt;/strong&gt;ï¼ˆå¦‚ &lt;code&gt;int&amp;amp; operator[][](int x, int y)&lt;/code&gt;ï¼‰ã€‚ä½†å¯é€šè¿‡ä»¥ä¸‹æ–¹æ¡ˆå®ç°å¤šç»´è®¿é—®ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-1-é“¾å¼"&gt;âš™ï¸ &lt;strong&gt;1. é“¾å¼ &lt;code&gt;operator[]&lt;/code&gt;é‡è½½ï¼ˆä¼ ç»Ÿæ–¹æ¡ˆï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šè®© &lt;code&gt;operator[]&lt;/code&gt;è¿”å›ä¸€ä¸ªæ”¯æŒä¸‹ä¸€çº§ &lt;code&gt;operator[]&lt;/code&gt;çš„å¯¹è±¡ï¼ˆå¦‚ä»£ç†ç±»æˆ–ä½ç»´æ•°ç»„ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Matrix {
std::vector&amp;lt;std::vector&amp;lt;int&amp;gt;&amp;gt; data;
public:
std::vector&amp;lt;int&amp;gt;&amp;amp; operator[](int row) {
return data[row]; // è¿”å›è¡Œå‘é‡ï¼ˆæ”¯æŒè¿›ä¸€æ­¥ç´¢å¼•ï¼‰
}
};
Matrix m;
m[1][2] = 42; // é“¾å¼è°ƒç”¨ï¼šm[1] è¿”å› vector&amp;lt;int&amp;gt;ï¼Œå†è°ƒç”¨å…¶ operator[](2)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šè¯­æ³•ç›´è§‚ï¼Œå…¼å®¹æ€§é«˜ï¼ˆC++98 èµ·æ”¯æŒï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼šå¯èƒ½äº§ç”Ÿä¸´æ—¶å¯¹è±¡ï¼Œå½±å“æ€§èƒ½ï¼›éœ€å¤šå±‚åµŒå¥—å®ç°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-2-é‡è½½"&gt;ğŸ”„ &lt;strong&gt;2. é‡è½½ &lt;code&gt;operator()&lt;/code&gt;ï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šä½¿ç”¨å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦æ¥å—å¤šä¸ªå‚æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Matrix {
int data[10][10];
public:
int&amp;amp; operator()(int row, int col) {
return data[row][col];
}
};
Matrix m;
m(1, 2) = 42; // ç›´æ¥ä¼ é€’è¡Œåˆ—ç´¢å¼•
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šé¿å…ä¸´æ—¶å¯¹è±¡ï¼Œæ€§èƒ½æ›´ä¼˜ï¼›æ”¯æŒä»»æ„ç»´åº¦å‚æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼šè¯­æ³•ä¸åŸç”Ÿæ•°ç»„ä¸ä¸€è‡´ï¼ˆä½¿ç”¨ &lt;code&gt;()&lt;/code&gt;è€Œé &lt;code&gt;[]&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-3-c23-å¤šç»´ä¸‹æ ‡è¿ç®—ç¬¦æ–°ç‰¹æ€§"&gt;ğŸš€ &lt;strong&gt;3. C++23 å¤šç»´ä¸‹æ ‡è¿ç®—ç¬¦ï¼ˆæ–°ç‰¹æ€§ï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šç›´æ¥é‡è½½ &lt;code&gt;operator[]&lt;/code&gt;æ¥å—å¤šä¸ªå‚æ•°ï¼ˆéœ€ç¼–è¯‘å™¨æ”¯æŒ C++23ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Matrix {
int data[10][10];
public:
int&amp;amp; operator[](int row, int col) { // ç›´æ¥æ¥å—ä¸¤ä¸ªå‚æ•°
return data[row][col];
}
};
Matrix m;
m[1, 2] = 42; // é€—å·åˆ†éš”çš„å¤šç»´ç´¢å¼•
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šè¯­æ³•æœ€ç®€æ´ï¼ˆ&lt;code&gt;arr[x,y]&lt;/code&gt;ï¼‰ï¼Œæ— ä¸´æ—¶å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é™åˆ¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»… C++23 åŠä»¥ä¸Šæ”¯æŒï¼ˆGCC 13+ã€Clang 16+ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸç”Ÿæ•°ç»„ä¸æ”¯æŒ&lt;/strong&gt;ï¼ˆå¦‚ &lt;code&gt;int arr[5][5]; arr[1,2]&lt;/code&gt;éæ³•ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-æ³¨æ„äº‹é¡¹-1"&gt;âš ï¸ &lt;strong&gt;æ³¨æ„äº‹é¡¹&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¾¹ç•Œæ£€æŸ¥&lt;/strong&gt;ï¼šæ‰€æœ‰æ–¹æ¡ˆéƒ½åº”æ·»åŠ ç´¢å¼•è¶Šç•Œæ£€æŸ¥ï¼ˆå¦‚ &lt;code&gt;assert&lt;/code&gt;æˆ–æŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¸¸é‡ç‰ˆæœ¬&lt;/strong&gt;ï¼šä¸ºæ”¯æŒå¸¸é‡å¯¹è±¡ï¼Œéœ€æä¾› &lt;code&gt;const&lt;/code&gt;é‡è½½ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;const int&amp;amp; operator[](int row, int col) const; // C++23 å¤šç»´ç‰ˆæœ¬
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;ï¼šé¿å…è¿”å›ä¸´æ—¶å¯¹è±¡ï¼Œä¼˜å…ˆè¿”å›å¼•ç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-5"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ—§æ ‡å‡†&lt;/strong&gt;ï¼šç”¨é“¾å¼ &lt;code&gt;operator[]&lt;/code&gt;æˆ– &lt;code&gt;operator()&lt;/code&gt;æ¨¡æ‹Ÿå¤šç»´è®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C++23+&lt;/strong&gt;ï¼šä¼˜å…ˆä½¿ç”¨å¤šç»´ &lt;code&gt;operator[]&lt;/code&gt;ï¼ˆè¯­æ³•æ›´è‡ªç„¶ï¼Œæ€§èƒ½æ›´ä¼˜ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸç”Ÿæ•°ç»„&lt;/strong&gt;ï¼šå§‹ç»ˆä¸æ”¯æŒé€—å·åˆ†éš”çš„å¤šç»´è¯­æ³•ï¼ˆå¦‚ &lt;code&gt;arr[1,2]&lt;/code&gt;ï¼‰ï¼Œéœ€ç”¨ &lt;code&gt;arr[1][2]&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;å®é™…å¼€å‘ä¸­ï¼Œè‹¥éœ€å…¼å®¹æ—§ç¼–è¯‘å™¨ï¼Œæ¨èé“¾å¼ &lt;code&gt;operator[]&lt;/code&gt;ï¼›è‹¥æ”¯æŒ C++23ï¼Œç›´æ¥ä½¿ç”¨å¤šç»´ä¸‹æ ‡è¿ç®—ç¬¦æ›´ç®€æ´é«˜æ•ˆ ğŸ”¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="ç§æœ‰æ„é€ å™¨"&gt;ç§æœ‰æ„é€ å™¨
&lt;/h2&gt;&lt;p&gt;åœ¨ Java ä¸­ï¼Œå½“åŸºç±»ï¼ˆçˆ¶ç±»ï¼‰çš„æ„é€ å™¨è¢«å£°æ˜ä¸º &lt;strong&gt;&lt;code&gt;private&lt;/code&gt;&lt;/strong&gt; æ—¶ï¼Œä¼šå¼•å‘ä¸€ç³»åˆ—å…³é”®é™åˆ¶ï¼Œä¸»è¦å½±å“å­ç±»çš„ç»§æ‰¿å’Œå®ä¾‹åŒ–èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯å…·ä½“åæœåŠåŸç†åˆ†æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-1-å­ç±»æ— æ³•ç»§æ‰¿åŸºç±»"&gt;âš ï¸ &lt;strong&gt;1. å­ç±»æ— æ³•ç»§æ‰¿åŸºç±»&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¹æœ¬åŸå› &lt;/strong&gt;ï¼šJava è¦æ±‚å­ç±»çš„æ„é€ å™¨å¿…é¡»è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼ˆé€šè¿‡ &lt;code&gt;super()&lt;/code&gt;æ˜¾å¼æˆ–éšå¼è°ƒç”¨ï¼‰ã€‚è‹¥çˆ¶ç±»æ„é€ å™¨ä¸º &lt;code&gt;private&lt;/code&gt;ï¼Œåˆ™å­ç±»æ„é€ å™¨æ— æ³•è®¿é—®çˆ¶ç±»æ„é€ å™¨ï¼Œå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Parent {
private Parent() {} // ç§æœ‰æ„é€ å™¨
}
class Child extends Parent {
public Child() { // ç¼–è¯‘é”™è¯¯ï¼šæ— æ³•è®¿é—® Parent()
super(); // éšå¼è°ƒç”¨å¤±è´¥
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;é”™è¯¯ä¿¡æ¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Parent() has private access in Parent&lt;/code&gt;ï¼ˆçˆ¶ç±»æ„é€ å™¨å—ç§æœ‰æƒé™é™åˆ¶ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-2-åŸºç±»è‡ªèº«æ— æ³•è¢«å¤–éƒ¨å®ä¾‹åŒ–"&gt;ğŸ”’ &lt;strong&gt;2. åŸºç±»è‡ªèº«æ— æ³•è¢«å¤–éƒ¨å®ä¾‹åŒ–&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼šç§æœ‰æ„é€ å™¨ç¦æ­¢å¤–éƒ¨é€šè¿‡ &lt;code&gt;new&lt;/code&gt;åˆ›å»ºå®ä¾‹ï¼Œé€šå¸¸ç”¨äºå®ç°&lt;strong&gt;å•ä¾‹æ¨¡å¼&lt;/strong&gt;æˆ–&lt;strong&gt;å·¥å…·ç±»&lt;/strong&gt;ï¼ˆä»…åŒ…å«é™æ€æ–¹æ³•ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å•ä¾‹æ¨¡å¼ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;public class Singleton {
private static Singleton instance;
private Singleton() {} // ç§æœ‰æ„é€ å™¨
public static Singleton getInstance() {
if (instance == null) {
instance = new Singleton(); // ä»…å†…éƒ¨å¯è°ƒç”¨æ„é€ å™¨
}
return instance;
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å·¥å…·ç±»ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;public final class MathUtils {
private MathUtils() {
throw new AssertionError(&amp;#34;ä¸å¯å®ä¾‹åŒ–ï¼&amp;#34;); // é˜²æ­¢åå°„åˆ›å»ºå®ä¾‹
}
public static int add(int a, int b) { return a + b; }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-3-è®¾è®¡æ„å›¾é™åˆ¶æ‰©å±•æ€§"&gt;âš–ï¸ &lt;strong&gt;3. è®¾è®¡æ„å›¾ï¼šé™åˆ¶æ‰©å±•æ€§&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼ºåˆ¶ä¸å¯ç»§æ‰¿&lt;/strong&gt;ï¼šç§æœ‰æ„é€ å™¨æ˜¯ä¸€ç§è®¾è®¡é€‰æ‹©ï¼Œç”¨äºæ˜ç¡®è¡¨ç¤ºè¯¥ç±»&lt;strong&gt;ä¸åº”è¢«ç»§æ‰¿&lt;/strong&gt;ï¼ˆå¦‚å·¥å…·ç±»æˆ–å•ä¾‹ç±»ï¼‰ï¼Œä»è€Œé¿å…å­ç±»ç ´ååŸºç±»çš„å°è£…æ€§æˆ–åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ›¿ä»£æ–¹æ¡ˆ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è‹¥éœ€å…è®¸ç»§æ‰¿ï¼Œå¯å°†æ„é€ å™¨æ”¹ä¸º &lt;strong&gt;&lt;code&gt;protected&lt;/code&gt;&lt;/strong&gt;ï¼ˆå­ç±»å¯è®¿é—®ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Parent {
protected Parent() {} // å­ç±»å¯é€šè¿‡ super() è°ƒç”¨
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‹¥éœ€å®Œå…¨ç¦æ­¢ç»§æ‰¿ï¼Œå¯åŒæ—¶ç”¨ &lt;strong&gt;&lt;code&gt;final&lt;/code&gt;ä¿®é¥°ç±»&lt;/strong&gt;ï¼ˆå¦‚ &lt;code&gt;public final class UtilityClass&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-4-ç‰¹æ®Šåœºæ™¯åŸºç±»å†…éƒ¨åµŒå¥—å­ç±»"&gt;ğŸ”„ &lt;strong&gt;4. ç‰¹æ®Šåœºæ™¯ï¼šåŸºç±»å†…éƒ¨åµŒå¥—å­ç±»&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;åŸºç±»çš„ç§æœ‰æ„é€ å™¨&lt;strong&gt;ä»…å…è®¸åŸºç±»è‡ªèº«å†…éƒ¨è®¿é—®&lt;/strong&gt;ï¼Œå› æ­¤å¯åœ¨åŸºç±»å†…éƒ¨å®šä¹‰é™æ€åµŒå¥—å­ç±»ï¼ˆåµŒå¥—ç±»å¯è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰æˆå‘˜ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;class Parent {
private Parent() {}
// é™æ€åµŒå¥—å­ç±»ï¼ˆå¯è®¿é—®ç§æœ‰æ„é€ å™¨ï¼‰
public static class Child extends Parent {
public Child() {
// åˆæ³•ï¼šåµŒå¥—ç±»å¯è°ƒç”¨å¤–éƒ¨ç±»ç§æœ‰æ„é€ å™¨
}
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id="-æ€»ç»“ç§æœ‰æ„é€ å™¨çš„å½±å“ä¸åº”å¯¹"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šç§æœ‰æ„é€ å™¨çš„å½±å“ä¸åº”å¯¹&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;å½±å“&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åæœ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å­ç±»æ— æ³•ç»§æ‰¿&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç¼–è¯‘é”™è¯¯ï¼ˆæ— æ³•è°ƒç”¨ &lt;code&gt;super()&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;td&gt;æ”¹ç”¨ &lt;code&gt;protected&lt;/code&gt;æ„é€ å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŸºç±»ä¸å¯å¤–éƒ¨å®ä¾‹åŒ–&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¼ºåˆ¶é€šè¿‡é™æ€å·¥å‚æ–¹æ³•ï¼ˆå¦‚å•ä¾‹æ¨¡å¼ï¼‰æˆ–å·¥å…·ç±»ä½¿ç”¨&lt;/td&gt;
&lt;td&gt;æä¾›é™æ€è®¿é—®æ–¹æ³•ï¼ˆå¦‚ &lt;code&gt;getInstance()&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è®¾è®¡çµæ´»æ€§å—é™&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ˜ç¡®ç¦æ­¢æ‰©å±•ï¼Œç»´æŠ¤å°è£…æ€§&lt;/td&gt;
&lt;td&gt;ç»“åˆ &lt;code&gt;final&lt;/code&gt;ä¿®é¥°ç±»å¢å¼ºé™åˆ¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åµŒå¥—å­ç±»ä¾‹å¤–&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åŸºç±»å†…éƒ¨å¯å®šä¹‰ç»§æ‰¿è‡ªèº«çš„åµŒå¥—å­ç±»&lt;/td&gt;
&lt;td&gt;åˆ©ç”¨é™æ€å†…éƒ¨ç±»å®ç°æœ‰é™ç»§æ‰¿&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;âš™ï¸ &lt;strong&gt;è®¾è®¡å»ºè®®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å·¥å…·ç±»æˆ–å•ä¾‹ç±» â†’ &lt;strong&gt;ç§æœ‰æ„é€ å™¨ + &lt;code&gt;final&lt;/code&gt;ç±»&lt;/strong&gt;ï¼ˆåŒé‡ä¿é™©ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;éœ€ç»§æ‰¿çš„åŸºç±» â†’ &lt;strong&gt;é¿å…ç§æœ‰æ„é€ å™¨&lt;/strong&gt;ï¼Œæ”¹ç”¨ &lt;code&gt;protected&lt;/code&gt;æˆ– &lt;code&gt;public&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è°¨æ…ä½¿ç”¨åµŒå¥—å­ç±» â†’ ä»…åœ¨åŸºç±»å†…éƒ¨é€»è¾‘éœ€è¦æ—¶ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;é€šè¿‡åˆç†åº”ç”¨ç§æœ‰æ„é€ å™¨ï¼Œå¯åœ¨ä¿éšœå°è£…æ€§ä¸å®‰å…¨æ€§çš„åŒæ—¶ï¼Œæ˜ç¡®ä¼ è¾¾ç±»çš„è®¾è®¡æ„å›¾ã€‚&lt;/p&gt;
&lt;h2 id="try-return"&gt;Try return
&lt;/h2&gt;&lt;p&gt;åœ¨ Java ä¸­ï¼Œ&lt;strong&gt;å³ä½¿ &lt;code&gt;try&lt;/code&gt;å—ä¸­åŒ…å« &lt;code&gt;return&lt;/code&gt;è¯­å¥ï¼Œ&lt;code&gt;finally&lt;/code&gt;å—ä¹Ÿä¸€å®šä¼šæ‰§è¡Œ&lt;/strong&gt;ã€‚è¿™æ˜¯ç”± Java çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ä¿è¯çš„ï¼Œç›®çš„æ˜¯ç¡®ä¿å…³é”®é€»è¾‘ï¼ˆå¦‚èµ„æºé‡Šæ”¾ï¼‰åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½èƒ½å®Œæˆã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†åˆ†æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-æ ¸å¿ƒæ‰§è¡Œæœºåˆ¶"&gt;ğŸ” &lt;strong&gt;æ ¸å¿ƒæ‰§è¡Œæœºåˆ¶&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;return&lt;/code&gt;ä¸ &lt;code&gt;finally&lt;/code&gt;çš„æ‰§è¡Œé¡ºåº&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å½“ &lt;code&gt;try&lt;/code&gt;å—é‡åˆ° &lt;code&gt;return&lt;/code&gt;è¯­å¥æ—¶ï¼Œ&lt;strong&gt;è¿”å›å€¼ä¼šè¢«æš‚å­˜&lt;/strong&gt;ï¼Œä½†ä¸ä¼šç«‹å³è¿”å›ç»™è°ƒç”¨æ–¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;JVM ä¼šå…ˆæ‰§è¡Œ &lt;code&gt;finally&lt;/code&gt;å—ä¸­çš„ä»£ç &lt;/strong&gt;ï¼Œå†è¿”å›ä¹‹å‰æš‚å­˜çš„å€¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;public static int test() {
try {
return 1; // è¿”å›å€¼ 1 è¢«æš‚å­˜
} finally {
System.out.println(&amp;#34;Finally executed&amp;#34;); // å…ˆæ‰§è¡Œæ­¤å¥
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¾“å‡º&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Finally executed
1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;finally&lt;/code&gt;å—ä¸­çš„ &lt;code&gt;return&lt;/code&gt;ä¼šè¦†ç›–åŸå€¼&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è‹¥ &lt;code&gt;finally&lt;/code&gt;å—ä¸­ä¹ŸåŒ…å« &lt;code&gt;return&lt;/code&gt;ï¼Œåˆ™å®ƒä¼š&lt;strong&gt;è¦†ç›– &lt;code&gt;try&lt;/code&gt;æˆ– &lt;code&gt;catch&lt;/code&gt;ä¸­çš„è¿”å›å€¼&lt;/strong&gt;ï¼Œå¯èƒ½å¯¼è‡´é€»è¾‘é”™è¯¯ã€‚&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;public static int test() {
try {
return 1;
} finally {
return 2; // è¦†ç›– try çš„è¿”å›å€¼
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¾“å‡º&lt;/strong&gt;ï¼š&lt;code&gt;2&lt;/code&gt;ï¼ˆè€Œé &lt;code&gt;1&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;âš ï¸ &lt;strong&gt;ä¸æ¨èæ­¤å†™æ³•&lt;/strong&gt;ï¼šæ˜“å¼•å‘æ··æ·†å’Œè°ƒè¯•å›°éš¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-finally"&gt;âš ï¸ &lt;strong&gt;&lt;code&gt;finally&lt;/code&gt;ä¸æ‰§è¡Œçš„æç«¯æƒ…å†µ&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;å°½ç®¡ &lt;code&gt;finally&lt;/code&gt;çš„å¯é æ€§å¾ˆé«˜ï¼Œä½†ä»¥ä¸‹åœºæ™¯ä¼šè·³è¿‡å…¶æ‰§è¡Œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;System.exit()&lt;/code&gt;ç»ˆæ­¢ JVM&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;try {
System.exit(0); // ç«‹å³ç»ˆæ­¢ç¨‹åº
} finally {
System.out.println(&amp;#34;Skipped&amp;#34;); // ä¸ä¼šæ‰§è¡Œ
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;JVM å´©æºƒ&lt;/strong&gt;ï¼ˆå¦‚ &lt;code&gt;OutOfMemoryError&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸¥é‡é”™è¯¯å¯¼è‡´è¿›ç¨‹é€€å‡ºæ—¶ï¼Œ&lt;code&gt;finally&lt;/code&gt;æ— æ³•æ‰§è¡Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ— é™å¾ªç¯æˆ–çº¿ç¨‹é˜»å¡&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;try {
while (true); // æ­»å¾ªç¯é˜»å¡
} finally {
System.out.println(&amp;#34;Never reached&amp;#34;); // æ— æ³•æ‰§è¡Œ
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®ˆæŠ¤çº¿ç¨‹è¢«å¼ºåˆ¶ç»ˆæ­¢&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“æ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹ç»“æŸæ—¶ï¼Œå®ˆæŠ¤çº¿ç¨‹çš„ &lt;code&gt;finally&lt;/code&gt;å¯èƒ½æœªæ‰§è¡Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-è®¾è®¡æ„å›¾ä¸æœ€ä½³å®è·µ"&gt;ğŸ§  &lt;strong&gt;è®¾è®¡æ„å›¾ä¸æœ€ä½³å®è·µ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒç›®çš„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;finally&lt;/code&gt;ç”¨äº&lt;strong&gt;å¼ºåˆ¶æ¸…ç†èµ„æº&lt;/strong&gt;ï¼ˆå¦‚å…³é—­æ–‡ä»¶ã€é‡Šæ”¾è¿æ¥ï¼‰ï¼Œé¿å…å› å¼‚å¸¸æˆ– &lt;code&gt;return&lt;/code&gt;å¯¼è‡´æ³„æ¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ›¿ä»£æ–¹æ¡ˆï¼ˆJava 7+ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜å…ˆä½¿ç”¨ &lt;strong&gt;&lt;code&gt;try-with-resources&lt;/code&gt;&lt;/strong&gt; è‡ªåŠ¨ç®¡ç†èµ„æºï¼Œå‡å°‘æ‰‹åŠ¨ç¼–å†™ &lt;code&gt;finally&lt;/code&gt;çš„éœ€æ±‚ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;try (FileReader fr = new FileReader(&amp;#34;file.txt&amp;#34;)) {
// è‡ªåŠ¨å…³é—­èµ„æº
} catch (IOException e) {
e.printStackTrace();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å…³é”®å»ºè®®&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;âŒ &lt;strong&gt;é¿å…åœ¨ &lt;code&gt;finally&lt;/code&gt;ä¸­ä½¿ç”¨ &lt;code&gt;return&lt;/code&gt;&lt;/strong&gt;ï¼šé˜²æ­¢è¦†ç›–åŸè¿”å›å€¼ã€‚&lt;/li&gt;
&lt;li&gt;âŒ &lt;strong&gt;é¿å…åœ¨ &lt;code&gt;finally&lt;/code&gt;ä¸­æŠ›å¼‚å¸¸&lt;/strong&gt;ï¼šå¯èƒ½æ©ç›–ä¸»é€»è¾‘çš„å¼‚å¸¸ã€‚&lt;/li&gt;
&lt;li&gt;âœ… &lt;strong&gt;ä¿æŒ &lt;code&gt;finally&lt;/code&gt;ä»£ç ç®€æ´&lt;/strong&gt;ï¼šä»…åŒ…å«å¿…è¦çš„æ¸…ç†é€»è¾‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“-6"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;&lt;code&gt;finally&lt;/code&gt;æ˜¯å¦æ‰§è¡Œ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åŸå› è¯´æ˜&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;try&lt;/code&gt;ä¸­æœ‰ &lt;code&gt;return&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;âœ… æ˜¯&lt;/td&gt;
&lt;td&gt;åœ¨ &lt;code&gt;return&lt;/code&gt;å‰æ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;try&lt;/code&gt;ä¸­æŠ›å‡ºå¼‚å¸¸&lt;/td&gt;
&lt;td&gt;âœ… æ˜¯&lt;/td&gt;
&lt;td&gt;åœ¨å¼‚å¸¸ä¼ æ’­å‰æ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;System.exit()&lt;/code&gt;æˆ– JVM å´©æºƒ&lt;/td&gt;
&lt;td&gt;âŒ å¦&lt;/td&gt;
&lt;td&gt;è¿›ç¨‹ç›´æ¥ç»ˆæ­¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ­»å¾ªç¯/çº¿ç¨‹é˜»å¡&lt;/td&gt;
&lt;td&gt;âŒ å¦&lt;/td&gt;
&lt;td&gt;ä»£ç æ— æ³•æ‰§è¡Œåˆ° &lt;code&gt;finally&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;ï¼šä¾èµ– &lt;code&gt;finally&lt;/code&gt;åšèµ„æºæ¸…ç†ï¼Œä½†ä¼˜å…ˆä½¿ç”¨ &lt;code&gt;try-with-resources&lt;/code&gt;ï¼›é¿å…åœ¨ &lt;code&gt;finally&lt;/code&gt;ä¸­å†™å¤æ‚é€»è¾‘æˆ– &lt;code&gt;return&lt;/code&gt;è¯­å¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="c-template-vs-java-generics"&gt;C++ template vs. Java generics
&lt;/h2&gt;&lt;p&gt;C++ æ¨¡æ¿ï¼ˆTemplatesï¼‰å’Œ Java æ³›å‹ï¼ˆGenericsï¼‰è™½ç„¶éƒ½æ—¨åœ¨å®ç°ä»£ç å¤ç”¨å’Œç±»å‹å®‰å…¨ï¼Œä½†å®ƒä»¬åœ¨è®¾è®¡å“²å­¦ã€å®ç°æœºåˆ¶ã€åŠŸèƒ½èŒƒå›´å’Œè¿è¡Œæ—¶è¡Œä¸ºä¸Šå­˜åœ¨æœ¬è´¨åŒºåˆ«ã€‚ä»¥ä¸‹æ˜¯ä¸¤è€…çš„æ ¸å¿ƒå·®å¼‚å¯¹æ¯”åŠè¯¦ç»†è§£æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸€å®ç°æœºåˆ¶çš„æœ¬è´¨åŒºåˆ«"&gt;âš™ï¸ &lt;strong&gt;ä¸€ã€å®ç°æœºåˆ¶çš„æœ¬è´¨åŒºåˆ«&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;C++ æ¨¡æ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Java æ³›å‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ ¸å¿ƒæœºåˆ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç¼–è¯‘æ—¶ä»£ç ç”Ÿæˆï¼ˆCode Generationï¼‰&lt;/td&gt;
&lt;td&gt;ç±»å‹æ“¦é™¤ï¼ˆType Erasureï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å®ä¾‹åŒ–æ–¹å¼&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸ºæ¯ä¸ªå…·ä½“ç±»å‹ç”Ÿæˆç‹¬ç«‹çš„æœºå™¨ä»£ç &lt;/td&gt;
&lt;td&gt;ç¼–è¯‘åæ³›å‹ä¿¡æ¯è¢«æ“¦é™¤ï¼Œæ›¿æ¢ä¸º &lt;code&gt;Object&lt;/code&gt;æˆ–è¾¹ç•Œç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¿è¡Œæ—¶è¡Œä¸º&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç±»å‹ä¿¡æ¯ä¿ç•™ï¼Œæ”¯æŒè¿è¡Œæ—¶ç±»å‹æ“ä½œ&lt;/td&gt;
&lt;td&gt;ç±»å‹ä¿¡æ¯ä¸å¯ç”¨ï¼ˆé™¤æœ‰é™åå°„å¤–ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;vector&amp;lt;int&amp;gt;&lt;/code&gt;å’Œ &lt;code&gt;vector&amp;lt;string&amp;gt;&lt;/code&gt;ç”Ÿæˆä¸åŒä»£ç &lt;/td&gt;
&lt;td&gt;&lt;code&gt;List&amp;lt;String&amp;gt;&lt;/code&gt;å’Œ &lt;code&gt;List&amp;lt;Integer&amp;gt;&lt;/code&gt;ç¼–è¯‘åå‡ä¸º &lt;code&gt;List&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-äºŒç±»å‹å‚æ•°æ”¯æŒçš„åŒºåˆ«"&gt;ğŸ§© &lt;strong&gt;äºŒã€ç±»å‹å‚æ•°æ”¯æŒçš„åŒºåˆ«&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;C++ æ¨¡æ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Java æ³›å‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŸºæœ¬ç±»å‹æ”¯æŒ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âœ… æ”¯æŒï¼ˆå¦‚ &lt;code&gt;int&lt;/code&gt;, &lt;code&gt;double&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;td&gt;âŒ ä¸æ”¯æŒï¼ˆéœ€é€šè¿‡åŒ…è£…ç±»å¦‚ &lt;code&gt;Integer&lt;/code&gt;+ è‡ªåŠ¨è£…ç®±ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;éç±»å‹å‚æ•°&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âœ… æ”¯æŒï¼ˆå¦‚æ•´å‹å¸¸é‡ï¼š&lt;code&gt;template&amp;lt;int N&amp;gt;&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;td&gt;âŒ ä¸æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç±»å‹è¾¹ç•Œ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ æ— åŸç”Ÿæ”¯æŒï¼ˆéœ€ç»“åˆ SFINAE/Conceptsï¼‰&lt;/td&gt;
&lt;td&gt;âœ… æ”¯æŒï¼ˆå¦‚ &lt;code&gt;&amp;lt;T extends Number&amp;gt;&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é€šé…ç¬¦&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ æ— &lt;/td&gt;
&lt;td&gt;âœ… æ”¯æŒï¼ˆå¦‚ &lt;code&gt;? extends Number&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-ä¸‰é«˜çº§åŠŸèƒ½ä¸çµæ´»æ€§å¯¹æ¯”"&gt;âš¡ï¸ &lt;strong&gt;ä¸‰ã€é«˜çº§åŠŸèƒ½ä¸çµæ´»æ€§å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡æ¿ç‰¹åŒ–ï¼ˆC++ç‹¬æœ‰ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…¨ç‰¹åŒ–&lt;/strong&gt;ï¼šä¸ºç‰¹å®šç±»å‹å®šåˆ¶å®ç°ï¼ˆå¦‚ &lt;code&gt;template&amp;lt;&amp;gt; class Vector&amp;lt;bool&amp;gt;&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åç‰¹åŒ–&lt;/strong&gt;ï¼šä¸ºéƒ¨åˆ†ç±»å‹å‚æ•°å®šåˆ¶å®ç°ï¼ˆå¦‚ &lt;code&gt;template&amp;lt;class T&amp;gt; class Vector&amp;lt;T*&amp;gt;&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Java æ— æ­¤åŠŸèƒ½ï¼Œæ‰€æœ‰æ³›å‹ç±»å‹å…±äº«åŒä¸€å®ç°&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å…ƒç¼–ç¨‹èƒ½åŠ›&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;C++ æ”¯æŒ&lt;strong&gt;ç¼–è¯‘æ—¶è®¡ç®—&lt;/strong&gt;ï¼ˆå¦‚æ¨¡æ¿é€’å½’ã€&lt;code&gt;constexpr&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;template&amp;lt;int N&amp;gt; struct Factorial {
static const int value = N * Factorial&amp;lt;N-1&amp;gt;::value;
};
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Java æ³›å‹&lt;strong&gt;æ— æ³•å‚ä¸ç¼–è¯‘æ—¶è®¡ç®—&lt;/strong&gt;ï¼Œä»…æä¾›ç±»å‹å®‰å…¨å®¹å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç±»å‹æ¨å¯¼&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C++ï¼šæ”¯æŒ&lt;strong&gt;è‡ªåŠ¨æ¨å¯¼&lt;/strong&gt;ï¼ˆå¦‚ &lt;code&gt;auto p = std::make_pair(1, &amp;quot;hello&amp;quot;);&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Javaï¼šéœ€æ˜¾å¼æŒ‡å®šæˆ–ä¾èµ–ä¸Šä¸‹æ–‡æ¨æ–­ï¼ˆå¦‚ &lt;code&gt;List&amp;lt;String&amp;gt; list = new ArrayList&amp;lt;&amp;gt;();&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å››æ€§èƒ½ä¸ç¼–è¯‘å½±å“"&gt;âš–ï¸ &lt;strong&gt;å››ã€æ€§èƒ½ä¸ç¼–è¯‘å½±å“&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç»´åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;C++ æ¨¡æ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Java æ³›å‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¼–è¯‘æ—¶é—´&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¾ƒæ…¢ï¼ˆå¤šæ¬¡å®ä¾‹åŒ–å¯¼è‡´ä»£ç è†¨èƒ€ï¼‰&lt;/td&gt;
&lt;td&gt;è¾ƒå¿«ï¼ˆå•ä¸€å­—èŠ‚ç  + ç±»å‹æ“¦é™¤ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¿è¡Œæ—¶æ€§èƒ½&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âœ… æ›´ä¼˜ï¼ˆå†…è”ä¼˜åŒ–ã€æ— ç±»å‹è½¬æ¢ï¼‰&lt;/td&gt;
&lt;td&gt;âš ï¸ æœ‰å¼€é”€ï¼ˆç±»å‹æ£€æŸ¥ã€è‡ªåŠ¨è£…ç®±ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å†…å­˜å ç”¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å¯èƒ½è†¨èƒ€ï¼ˆæ¯ä¸ªç±»å‹ç”Ÿæˆç‹¬ç«‹ä»£ç ï¼‰&lt;/td&gt;
&lt;td&gt;æ›´ç´§å‡‘ï¼ˆç±»å‹æ“¦é™¤å¤ç”¨åŒä¸€å­—èŠ‚ç ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-äº”å…¸å‹é—®é¢˜ä¸é™åˆ¶"&gt;ğŸ› ï¸ &lt;strong&gt;äº”ã€å…¸å‹é—®é¢˜ä¸é™åˆ¶&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Java æ³›å‹çš„ç±»å‹æ“¦é™¤é—®é¢˜&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿è¡Œæ—¶ç±»å‹ä¸å¯çŸ¥&lt;/strong&gt;ï¼šæ— æ³•åˆ›å»ºæ³›å‹æ•°ç»„ï¼ˆ&lt;code&gt;new T[]&lt;/code&gt;éæ³•ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡è½½é™åˆ¶&lt;/strong&gt;ï¼š&lt;code&gt;void f(List&amp;lt;String&amp;gt;)&lt;/code&gt;å’Œ &lt;code&gt;void f(List&amp;lt;Integer&amp;gt;)&lt;/code&gt;ç¼–è¯‘å†²çªï¼ˆæ“¦é™¤åç­¾åç›¸åŒï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C++ æ¨¡æ¿çš„ç¼–è¯‘å¤æ‚æ€§&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é”™è¯¯ä¿¡æ¯æ™¦æ¶©&lt;/strong&gt;ï¼šæ¨¡æ¿å®ä¾‹åŒ–å¤±è´¥æ—¶æç¤ºä¿¡æ¯å†—é•¿ï¼ˆå¦‚ SFINAE é”™è¯¯ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¨ç¼–è¯‘å•å…ƒé—®é¢˜&lt;/strong&gt;ï¼šæ¨¡æ¿å®šä¹‰éœ€æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œæ˜“å¯¼è‡´é‡å¤å®ä¾‹åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-å…­æ€»ç»“æ ¸å¿ƒå·®å¼‚å…¨æ™¯å¯¹æ¯”"&gt;ğŸ’ &lt;strong&gt;å…­ã€æ€»ç»“ï¼šæ ¸å¿ƒå·®å¼‚å…¨æ™¯å¯¹æ¯”&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;C++ æ¨¡æ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Java æ³›å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¹æœ¬åŸå› &lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ ¸å¿ƒç›®æ ‡&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é›¶å¼€é”€æŠ½è±¡ + å…ƒç¼–ç¨‹&lt;/td&gt;
&lt;td&gt;ç±»å‹å®‰å…¨ + å‘åå…¼å®¹&lt;/td&gt;
&lt;td&gt;è¯­è¨€è®¾è®¡å“²å­¦å·®å¼‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ³›å‹èƒ½åŠ›&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ›´å¼ºå¤§ï¼ˆç‰¹åŒ–ã€éç±»å‹å‚æ•°ï¼‰&lt;/td&gt;
&lt;td&gt;æ›´å®‰å…¨ï¼ˆè¾¹ç•Œæ£€æŸ¥ã€é€šé…ç¬¦ï¼‰&lt;/td&gt;
&lt;td&gt;ç¼–è¯‘æœºåˆ¶å·®å¼‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é«˜æ€§èƒ½è®¡ç®—ã€ç³»ç»Ÿçº§å¼€å‘&lt;/td&gt;
&lt;td&gt;ä¼ä¸šåº”ç”¨ã€è·¨å¹³å°å¼€å‘&lt;/td&gt;
&lt;td&gt;æ€§èƒ½ä¸çµæ´»æ€§æƒè¡¡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;é€‰å‹å»ºè®®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€æè‡´æ€§èƒ½/å…ƒç¼–ç¨‹ â†’ &lt;strong&gt;C++ æ¨¡æ¿&lt;/strong&gt;ï¼ˆå¦‚æ•°å€¼è®¡ç®—ã€æ¸¸æˆå¼•æ“ï¼‰&lt;/li&gt;
&lt;li&gt;éœ€è·¨å¹³å°/å¿«é€Ÿå¼€å‘ â†’ &lt;strong&gt;Java æ³›å‹&lt;/strong&gt;ï¼ˆå¦‚ Web æœåŠ¡ã€Android åº”ç”¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;é€šè¿‡ç†è§£è¿™äº›å·®å¼‚ï¼Œå¼€å‘è€…å¯æ›´é«˜æ•ˆåœ°åˆ©ç”¨ä¸¤ç§è¯­è¨€çš„ä¼˜åŠ¿ï¼Œé¿å…å› æœºåˆ¶æ··æ·†å¯¼è‡´çš„é™·é˜±ã€‚ä¸¤è€…è™½åŠŸèƒ½ç›¸ä¼¼ï¼Œä½†å†…åœ¨é€»è¾‘è¿¥å¼‚ï¼Œåæ˜ äº†ç¼–è¯‘å‹è¯­è¨€ä¸è™šæ‹Ÿæœºè¯­è¨€åœ¨æ³›å‹è®¾è®¡ä¸Šçš„æ ¹æœ¬åˆ†é‡ ã€‚&lt;/p&gt;
&lt;h2 id="åå°„--class"&gt;åå°„ &amp;amp; .class
&lt;/h2&gt;&lt;p&gt;Java åå°„å’Œ &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡å¯†åˆ‡ç›¸å…³ï¼Œä½†&lt;strong&gt;å¹¶éå®Œå…¨ç­‰åŒ&lt;/strong&gt;ã€‚å®ƒä»¬çš„å…³ç³»å¯ä»¥æ€»ç»“ä¸ºï¼š&lt;strong&gt;&lt;code&gt;.class&lt;/code&gt;å¯¹è±¡æ˜¯åå°„çš„èµ·ç‚¹å’Œæ ¸å¿ƒè½½ä½“ï¼Œè€Œåå°„æ˜¯é€šè¿‡æ“ä½œ &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡å®ç°åŠ¨æ€ç¼–ç¨‹çš„å®Œæ•´æœºåˆ¶&lt;/strong&gt;ã€‚å…·ä½“åŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-1"&gt;ğŸ” &lt;strong&gt;1. &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡ï¼šç±»çš„å…ƒæ•°æ®è½½ä½“&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æ¯ä¸ª Java ç±»åœ¨ JVM åŠ è½½æ—¶ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ &lt;strong&gt;&lt;code&gt;Class&lt;/code&gt;å¯¹è±¡&lt;/strong&gt;ï¼ˆå¦‚ &lt;code&gt;String.class&lt;/code&gt;ï¼‰ã€‚è¯¥å¯¹è±¡å­˜å‚¨ç±»çš„ç»“æ„ä¿¡æ¯ï¼ˆå­—æ®µã€æ–¹æ³•ã€æ„é€ å™¨ç­‰å…ƒæ•°æ®ï¼‰ï¼Œä½äº JVM æ–¹æ³•åŒºï¼ˆå…ƒç©ºé—´ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è·å–æ–¹å¼&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ç±»å.class&lt;/code&gt;ï¼ˆç¼–è¯‘æ—¶å·²çŸ¥ç±»å‹ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;å¯¹è±¡.getClass()&lt;/code&gt;ï¼ˆè¿è¡Œæ—¶è·å–å®ä¾‹çš„ç±»å‹ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Class.forName(&amp;quot;å…¨ç±»å&amp;quot;)&lt;/code&gt;ï¼ˆåŠ¨æ€åŠ è½½ç±»ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;æä¾›ç±»çš„é™æ€æè¿°ï¼Œæ˜¯åå°„æ“ä½œçš„&lt;strong&gt;æ•°æ®åŸºç¡€&lt;/strong&gt;ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Class&amp;lt;?&amp;gt; clazz = String.class; // è·å–Stringç±»çš„Classå¯¹è±¡
System.out.println(clazz.getName()); // è¾“å‡º&amp;#34;java.lang.String&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-2-åå°„reflectionåŠ¨æ€æ“ä½œæœºåˆ¶"&gt;âš™ï¸ &lt;strong&gt;2. åå°„ï¼ˆReflectionï¼‰ï¼šåŠ¨æ€æ“ä½œæœºåˆ¶&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åå°„æ˜¯ä¸€å¥— API&lt;/strong&gt;ï¼ˆä½äº &lt;code&gt;java.lang.reflect&lt;/code&gt;åŒ…ï¼‰ï¼Œå…è®¸ç¨‹åºåœ¨&lt;strong&gt;è¿è¡Œæ—¶&lt;/strong&gt;åŠ¨æ€è®¿é—®å’Œæ“ä½œç±»ä¿¡æ¯ï¼ˆå¦‚åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å­—æ®µå€¼ï¼‰ï¼Œå³ä½¿ç¼–è¯‘æ—¶æœªçŸ¥å…·ä½“ç±»åã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒåŠŸèƒ½&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åˆ›å»ºå¯¹è±¡&lt;/strong&gt;ï¼š&lt;code&gt;clazz.newInstance()&lt;/code&gt;æˆ–é€šè¿‡æ„é€ å™¨ &lt;code&gt;Constructor.newInstance()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è°ƒç”¨æ–¹æ³•&lt;/strong&gt;ï¼š&lt;code&gt;Method.invoke(obj, args)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¿é—®å­—æ®µ&lt;/strong&gt;ï¼š&lt;code&gt;Field.get(obj)&lt;/code&gt;/ &lt;code&gt;Field.set(obj, value)&lt;/code&gt;ï¼ˆå¯çªç ´ç§æœ‰é™åˆ¶ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†æç±»ç»“æ„&lt;/strong&gt;ï¼šè·å–çˆ¶ç±»ã€æ¥å£ã€æ³¨è§£ç­‰ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Class&amp;lt;?&amp;gt; clazz = Class.forName(&amp;#34;java.util.ArrayList&amp;#34;); // åŠ¨æ€åŠ è½½ç±»
Object list = clazz.newInstance(); // åˆ›å»ºå®ä¾‹
Method addMethod = clazz.getMethod(&amp;#34;add&amp;#34;, Object.class); // è·å–addæ–¹æ³•
addMethod.invoke(list, &amp;#34;Hello&amp;#34;); // åŠ¨æ€è°ƒç”¨æ–¹æ³•
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-3-ä¸¤è€…å…³ç³»ä¾èµ–ä¸åä½œ"&gt;ğŸ”— &lt;strong&gt;3. ä¸¤è€…å…³ç³»ï¼šä¾èµ–ä¸åä½œ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;.class&lt;/code&gt;å¯¹è±¡æ˜¯åå°„çš„å…¥å£&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;åå°„æ“ä½œå¿…é¡»&lt;strong&gt;å…ˆè·å–ç›®æ ‡ç±»çš„ &lt;code&gt;Class&lt;/code&gt;å¯¹è±¡&lt;/strong&gt;ï¼Œæ‰èƒ½è¿›ä¸€æ­¥è°ƒç”¨åå°„ APIï¼ˆå¦‚ &lt;code&gt;getMethod()&lt;/code&gt;ã€&lt;code&gt;getField()&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åå°„æ‰©å±•äº† &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡çš„èƒ½åŠ›&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.class&lt;/code&gt;å¯¹è±¡ä»…å­˜å‚¨é™æ€å…ƒæ•°æ®ï¼Œè€Œåå°„ API åˆ©ç”¨è¿™äº›å…ƒæ•°æ®&lt;strong&gt;åŠ¨æ€æ‰§è¡Œæ“ä½œ&lt;/strong&gt;ï¼ˆå¦‚è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å­—æ®µï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.class&lt;/code&gt;å¯¹è±¡çŸ¥é“ç±»æœ‰å“ªäº›æ–¹æ³•ï¼ˆ&lt;code&gt;getDeclaredMethods()&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;åå°„ API èƒ½å®é™…è°ƒç”¨è¿™äº›æ–¹æ³•ï¼ˆ&lt;code&gt;Method.invoke()&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-4-å…³é”®åŒºåˆ«æ€»ç»“"&gt;ğŸ§© &lt;strong&gt;4. å…³é”®åŒºåˆ«æ€»ç»“&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç»´åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;&lt;code&gt;.class&lt;/code&gt;å¯¹è±¡&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;åå°„ï¼ˆReflectionï¼‰&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æœ¬è´¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç±»çš„å…ƒæ•°æ®ï¼ˆæè¿°ç±»ç»“æ„ï¼‰&lt;/td&gt;
&lt;td&gt;åŠ¨æ€æ“ä½œç±»çš„ API æœºåˆ¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å­˜å‚¨ç±»ä¿¡æ¯ï¼ˆå¦‚å­—æ®µã€æ–¹æ³•åˆ—è¡¨ï¼‰&lt;/td&gt;
&lt;td&gt;åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å­—æ®µç­‰æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä½¿ç”¨åœºæ™¯&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·å–ç±»åã€çˆ¶ç±»ã€æ¥å£ç­‰é™æ€ä¿¡æ¯&lt;/td&gt;
&lt;td&gt;è¿è¡Œæ—¶åŠ è½½æœªçŸ¥ç±»ã€æ¡†æ¶å¼€å‘ï¼ˆå¦‚ Spring ä¾èµ–æ³¨å…¥ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ä¾èµ–å…³ç³»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;åå°„çš„åŸºç¡€å’Œèµ·ç‚¹&lt;/td&gt;
&lt;td&gt;ä¾èµ– &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡æ‰§è¡ŒåŠ¨æ€æ“ä½œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç¤ºä¾‹ä»£ç &lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;String.class.getName()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Method.invoke(obj, args)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-ç»“è®º"&gt;ğŸ’ &lt;strong&gt;ç»“è®º&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;.class&lt;/code&gt;å¯¹è±¡&lt;/strong&gt;æ˜¯ JVM ä¸ºæ¯ä¸ªç±»ç”Ÿæˆçš„&lt;strong&gt;å…ƒæ•°æ®å¯¹è±¡&lt;/strong&gt;ï¼Œæ˜¯ç±»ç»“æ„çš„é™æ€æè¿°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;åå°„&lt;/strong&gt;æ˜¯åˆ©ç”¨ &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡ï¼Œåœ¨&lt;strong&gt;è¿è¡Œæ—¶åŠ¨æ€æ“ä½œç±»&lt;/strong&gt;çš„å®Œæ•´æœºåˆ¶ï¼ˆAPI é›†åˆï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å…³ç³»ç±»æ¯”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ”§ &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡åƒâ€œè®¾è®¡è“å›¾â€ï¼ˆé™æ€ä¿¡æ¯ï¼‰ï¼Œè€Œåå°„æ˜¯â€œæ–½å·¥é˜Ÿâ€ï¼ˆåŠ¨æ€æ“ä½œï¼‰ã€‚è“å›¾æ˜¯æ–½å·¥çš„åŸºç¡€ï¼Œæ–½å·¥é˜Ÿåˆ©ç”¨è“å›¾å®Œæˆå®é™…å»ºé€ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œä¸¤è€…ç´§å¯†å…³è”ä½†è§’è‰²ä¸åŒï¼š&lt;strong&gt;æ²¡æœ‰ &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡åˆ™æ— æ³•åå°„ï¼Œä½†ä»…æœ‰ &lt;code&gt;.class&lt;/code&gt;å¯¹è±¡ä¸è§¦å‘åå°„æ“ä½œ&lt;/strong&gt;ã€‚ç†è§£è¿™ä¸€åŒºåˆ«æ˜¯æŒæ¡ Java åŠ¨æ€ç¼–ç¨‹çš„å…³é”® ğŸ”‘ã€‚&lt;/p&gt;
&lt;h2 id="java-treemap"&gt;Java TreeMap
&lt;/h2&gt;&lt;p&gt;ä»¥ä¸‹æ˜¯Javaä¸­&lt;code&gt;TreeMap&lt;/code&gt;ã€&lt;code&gt;HashMap&lt;/code&gt;å’Œ&lt;code&gt;LinkedHashMap&lt;/code&gt;çš„æ ¸å¿ƒå¯¹æ¯”ï¼Œä»æ•°æ®ç»“æ„ã€æ’åºç‰¹æ€§ã€æ€§èƒ½ã€å†…å­˜å¼€é”€åŠé€‚ç”¨åœºæ™¯ç­‰ç»´åº¦å±•å¼€åˆ†æï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="-1-æ•°æ®ç»“æ„ä¸å­˜å‚¨æœºåˆ¶"&gt;ğŸ”‘ &lt;strong&gt;1. æ•°æ®ç»“æ„ä¸å­˜å‚¨æœºåˆ¶&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;HashMap&lt;/code&gt;&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº•å±‚ç»“æ„&lt;/strong&gt;ï¼šå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„ + é“¾è¡¨/çº¢é»‘æ ‘ï¼‰ï¼Œé€šè¿‡&lt;code&gt;hashCode()&lt;/code&gt;è®¡ç®—æ¡¶ä½ç½®ï¼Œå†²çªæ—¶é“¾è¡¨æ³•è§£å†³ï¼ˆé“¾è¡¨é•¿åº¦â‰¥8æ—¶è½¬çº¢é»‘æ ‘ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— åºæ€§&lt;/strong&gt;ï¼šå…ƒç´ å­˜å‚¨ä½ç½®ç”±å“ˆå¸Œå‡½æ•°å†³å®šï¼Œè¿­ä»£é¡ºåºä¸å¯é¢„æµ‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;LinkedHashMap&lt;/code&gt;&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº•å±‚ç»“æ„&lt;/strong&gt;ï¼šç»§æ‰¿&lt;code&gt;HashMap&lt;/code&gt;ï¼Œé¢å¤–ç»´æŠ¤&lt;strong&gt;åŒå‘é“¾è¡¨&lt;/strong&gt;è®°å½•æ’å…¥é¡ºåºæˆ–è®¿é—®é¡ºåºï¼ˆLRUæ¨¡å¼ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ‰åºæ€§&lt;/strong&gt;ï¼šè¿­ä»£é¡ºåº = æ’å…¥é¡ºåºï¼ˆé»˜è®¤ï¼‰æˆ–è®¿é—®é¡ºåºï¼ˆæ„é€ å‚æ•°&lt;code&gt;accessOrder=true&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TreeMap&lt;/code&gt;&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº•å±‚ç»“æ„&lt;/strong&gt;ï¼šçº¢é»‘æ ‘ï¼ˆè‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤é”®çš„æ’åºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ‰åºæ€§&lt;/strong&gt;ï¼šæŒ‰é”®çš„è‡ªç„¶é¡ºåºï¼ˆå¦‚å­—å…¸åºã€æ•°å€¼å¤§å°ï¼‰æˆ–è‡ªå®šä¹‰&lt;code&gt;Comparator&lt;/code&gt;æ’åºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-2-æ’åºç‰¹æ€§ä¸è¿­ä»£é¡ºåº"&gt;ğŸ”„ &lt;strong&gt;2. æ’åºç‰¹æ€§ä¸è¿­ä»£é¡ºåº&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;HashMap&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;LinkedHashMap&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;TreeMap&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;é¡ºåºä¿è¯&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ æ— åº&lt;/td&gt;
&lt;td&gt;âœ… æ’å…¥é¡ºåº/è®¿é—®é¡ºåº&lt;/td&gt;
&lt;td&gt;âœ… æŒ‰é”®æ’åº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;LRUæ”¯æŒ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆè®¿é—®é¡ºåºæ¨¡å¼ï¼‰&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;èŒƒå›´æŸ¥è¯¢&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆ&lt;code&gt;subMap()&lt;/code&gt;, &lt;code&gt;tailMap()&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;// TreeMapæŒ‰é”®æ’åº
TreeMap&amp;lt;String, Integer&amp;gt; treeMap = new TreeMap&amp;lt;&amp;gt;();
treeMap.put(&amp;#34;Orange&amp;#34;, 2); treeMap.put(&amp;#34;Apple&amp;#34;, 1);
System.out.println(treeMap); // è¾“å‡ºï¼š{Apple=1, Orange=2}ï¼ˆå­—å…¸åºï¼‰
// LinkedHashMapä¿ç•™æ’å…¥é¡ºåº
LinkedHashMap&amp;lt;String, Integer&amp;gt; linkedMap = new LinkedHashMap&amp;lt;&amp;gt;();
linkedMap.put(&amp;#34;Orange&amp;#34;, 2); linkedMap.put(&amp;#34;Apple&amp;#34;, 1);
System.out.println(linkedMap); // è¾“å‡ºï¼š{Orange=2, Apple=1}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-3-æ€§èƒ½ä¸æ—¶é—´å¤æ‚åº¦"&gt;âš¡ &lt;strong&gt;3. æ€§èƒ½ä¸æ—¶é—´å¤æ‚åº¦&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;æ“ä½œ&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;HashMap&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;LinkedHashMap&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;TreeMap&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ’å…¥/åˆ é™¤/æŸ¥æ‰¾&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;O(1)ï¼ˆå¹³å‡ï¼‰&lt;/td&gt;
&lt;td&gt;O(1)ï¼ˆå¹³å‡ï¼‰&lt;/td&gt;
&lt;td&gt;O(log n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;éå†&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;O(n)ï¼ˆé¡ºåºéšæœºï¼‰&lt;/td&gt;
&lt;td&gt;O(n)ï¼ˆé¡ºåºå›ºå®šï¼‰&lt;/td&gt;
&lt;td&gt;O(n)ï¼ˆæœ‰åºï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æœ€åæƒ…å†µ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;O(n)ï¼ˆå“ˆå¸Œå†²çªï¼‰&lt;/td&gt;
&lt;td&gt;O(n)&lt;/td&gt;
&lt;td&gt;O(log n)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®å·®å¼‚&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;HashMap&lt;/code&gt;å’Œ&lt;code&gt;LinkedHashMap&lt;/code&gt;å¹³å‡æ€§èƒ½æ¥è¿‘ï¼Œä½†&lt;code&gt;LinkedHashMap&lt;/code&gt;å› ç»´æŠ¤é“¾è¡¨æœ‰&lt;strong&gt;è½»å¾®é¢å¤–å¼€é”€&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TreeMap&lt;/code&gt;æ“ä½œéœ€å¹³è¡¡çº¢é»‘æ ‘ï¼Œæ€§èƒ½ä½äºå“ˆå¸Œè¡¨å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-4-å†…å­˜å¼€é”€"&gt;ğŸ’¾ &lt;strong&gt;4. å†…å­˜å¼€é”€&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;HashMap&lt;/code&gt;&lt;/strong&gt;ï¼šå†…å­˜å ç”¨æœ€ä½ï¼ˆä»…å“ˆå¸Œè¡¨ç»“æ„ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;LinkedHashMap&lt;/code&gt;&lt;/strong&gt;ï¼šé¢å¤–å­˜å‚¨åŒå‘é“¾è¡¨æŒ‡é’ˆï¼Œå†…å­˜å¼€é”€ä¸­ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;TreeMap&lt;/code&gt;&lt;/strong&gt;ï¼šæ¯ä¸ªèŠ‚ç‚¹éœ€ç»´æŠ¤çˆ¶/å­æŒ‡é’ˆå’Œé¢œè‰²æ ‡è®°ï¼Œå†…å­˜å ç”¨æœ€é«˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="-5-ä½¿ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ"&gt;ğŸ¯ &lt;strong&gt;5. ä½¿ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;HashMap&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šé«˜é¢‘è¯»å†™ã€æ— éœ€é¡ºåºï¼ˆå¦‚ç¼“å­˜ã€è®¡æ•°å™¨ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šé”®éœ€æ­£ç¡®å®ç°&lt;code&gt;hashCode()&lt;/code&gt;å’Œ&lt;code&gt;equals()&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;LinkedHashMap&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¿ç•™æ’å…¥é¡ºåºï¼ˆå¦‚è¡¨å•å­—æ®µåºåˆ—åŒ–ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;LRUç¼“å­˜&lt;/strong&gt;ï¼ˆè¦†ç›–&lt;code&gt;removeEldestEntry()&lt;/code&gt;æ·˜æ±°æ—§æ¡ç›®ï¼‰ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Map&amp;lt;K, V&amp;gt; lruCache = new LinkedHashMap&amp;lt;&amp;gt;(16, 0.75f, true) {
protected boolean removeEldestEntry(Entry&amp;lt;K, V&amp;gt; eldest) {
return size() &amp;gt; MAX_SIZE;
}
};
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;TreeMap&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;æŒ‰é”®æ’åºï¼ˆå¦‚æ—¥å¿—æŒ‰æ—¥æœŸæ’åºï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;èŒƒå›´æŸ¥è¯¢ï¼ˆå¦‚è·å–æŸæ—¶é—´æ®µå†…çš„æ•°æ®ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šé”®éœ€å®ç°&lt;code&gt;Comparable&lt;/code&gt;æˆ–æä¾›&lt;code&gt;Comparator&lt;/code&gt;ï¼Œ&lt;strong&gt;ç¦æ­¢&lt;code&gt;null&lt;/code&gt;é”®&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="-6-å…¶ä»–å…³é”®å·®å¼‚"&gt;âš ï¸ &lt;strong&gt;6. å…¶ä»–å…³é”®å·®å¼‚&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;HashMap&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;LinkedHashMap&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;TreeMap&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å…è®¸&lt;code&gt;null&lt;/code&gt;é”®&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆ1ä¸ªï¼‰&lt;/td&gt;
&lt;td&gt;âœ…ï¼ˆ1ä¸ªï¼‰&lt;/td&gt;
&lt;td&gt;âŒï¼ˆæŠ›å‡º&lt;code&gt;NullPointerException&lt;/code&gt;ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;çº¿ç¨‹å®‰å…¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;td&gt;âŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¤šçº¿ç¨‹æ–¹æ¡ˆ&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ConcurrentHashMap&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Collections.synchronizedMap()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ConcurrentSkipListMap&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id="-æ€»ç»“é€‰æ‹©å»ºè®®"&gt;ğŸ’ &lt;strong&gt;æ€»ç»“ï¼šé€‰æ‹©å»ºè®®&lt;/strong&gt;
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;éœ€æ±‚&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ¨èå®ç°&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ç†ç”±&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;é«˜é¢‘è¯»å†™ï¼Œæ— éœ€é¡ºåº&lt;/td&gt;
&lt;td&gt;&lt;code&gt;HashMap&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ€§èƒ½æœ€ä¼˜ï¼Œå†…å­˜å ç”¨ä½ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¿ç•™æ’å…¥é¡ºåº/LRUç¼“å­˜&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LinkedHashMap&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;é“¾è¡¨ç»´æŠ¤é¡ºåºï¼Œè®¿é—®æ¨¡å¼æ”¯æŒLRUã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æŒ‰é”®æ’åº/èŒƒå›´æŸ¥è¯¢&lt;/td&gt;
&lt;td&gt;&lt;code&gt;TreeMap&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;çº¢é»‘æ ‘ä¿è¯æœ‰åºæ€§ï¼Œæ”¯æŒé«˜æ•ˆèŒƒå›´æ“ä½œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;æœ€ä½³å®è·µ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é»˜è®¤é€‰æ‹©&lt;code&gt;HashMap&lt;/code&gt;ï¼ˆé™¤éé¡ºåºæˆ–æ’åºå¿…è¦ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¤šçº¿ç¨‹ç¯å¢ƒç”¨&lt;code&gt;ConcurrentHashMap&lt;/code&gt;æ›¿ä»£&lt;code&gt;HashMap&lt;/code&gt;/&lt;code&gt;LinkedHashMap&lt;/code&gt;ï¼Œç”¨&lt;code&gt;ConcurrentSkipListMap&lt;/code&gt;æ›¿ä»£&lt;code&gt;TreeMap&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</description></item></channel></rss>